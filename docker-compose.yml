version: '3.9'
services:
  litellm-ci:
    build:
      context: .
      dockerfile: Dockerfile.ci
    working_dir: /work
    environment:
      - TZ=UTC
      - POETRY_VIRTUALENVS_IN_PROJECT=true
      - PIP_DISABLE_PIP_VERSION_CHECK=1
      - PYTHONUNBUFFERED=1
    volumes:
      - ./:/work
    # Use host networking to avoid port mapping surprises in tests (optional)
    network_mode: host
    command: bash -lc "sleep infinity"

