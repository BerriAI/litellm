{
  "endpoint_name": "imagen",
  "provider": "vertex_ai",
  "base_url": "https://{region}-aiplatform.googleapis.com",
  "api_version": "v1",
  
  "operations": {
    "generate": {
      "method": "POST",
      "path": "/{api_version}/projects/{project_id}/locations/{region}/publishers/google/models/{model}:predict",
      "path_params": ["project_id", "region", "model"],
      
      "request": {
        "body_schema": {
          "instances": {
            "type": "array",
            "required": true,
            "items": {
              "prompt": {"type": "string", "required": true}
            }
          },
          "parameters": {
            "type": "object",
            "required": false,
            "properties": {
              "sampleCount": {"type": "integer", "description": "Number of images to generate (1-4)"},
              "aspectRatio": {"type": "string", "description": "Aspect ratio: 1:1, 3:4, 4:3, 16:9, 9:16"},
              "seed": {"type": "integer", "description": "Random seed (1-2147483647)"},
              "language": {"type": "string", "description": "Language for prompt interpretation"},
              "safetyFilterLevel": {"type": "string", "description": "block_low_and_above, block_medium_and_above, block_only_high"},
              "personGeneration": {"type": "string", "description": "allow_adult or dont_allow"},
              "addWatermark": {"type": "boolean", "description": "Whether to add digital watermark"}
            }
          }
        }
      },
      
      "response": {
        "type": "ImagenGenerateResponse",
        "body_schema": {
          "predictions": {
            "type": "array",
            "items": {
              "bytesBase64Encoded": {"type": "string", "description": "Base64 encoded image data"},
              "mimeType": {"type": "string", "description": "Image MIME type (image/png, image/jpeg)"},
              "prompt": {"type": "string", "description": "Enhanced prompt (if prompt rewriting enabled)"}
            }
          }
        }
      },
      "defaults": {
        "model": "imagen-3.0-generate-002"
      }
    },
    
    "edit": {
      "method": "POST",
      "path": "/{api_version}/projects/{project_id}/locations/{region}/publishers/google/models/{model}:predict",
      "path_params": ["project_id", "region", "model"],
      
      "request": {
        "body_schema": {
          "instances": {
            "type": "array",
            "required": true,
            "items": {
              "prompt": {"type": "string", "required": true, "description": "Text prompt describing the desired edit"},
              "image": {
                "type": "object",
                "required": true,
                "properties": {
                  "bytesBase64Encoded": {"type": "string", "description": "Base64 encoded source image"}
                }
              },
              "mask": {
                "type": "object",
                "required": false,
                "properties": {
                  "bytesBase64Encoded": {"type": "string", "description": "Base64 encoded mask image (white=edit area, black=preserve)"}
                }
              }
            }
          },
          "parameters": {
            "type": "object",
            "required": false,
            "properties": {
              "sampleCount": {"type": "integer", "description": "Number of images to generate (1-4)"},
              "seed": {"type": "integer", "description": "Random seed (1-2147483647)"},
              "safetyFilterLevel": {"type": "string", "description": "block_low_and_above, block_medium_and_above, block_only_high"},
              "personGeneration": {"type": "string", "description": "allow_adult or dont_allow"},
              "editConfig": {
                "type": "object",
                "description": "Edit configuration",
                "properties": {
                  "editMode": {"type": "string", "description": "Edit mode: inpaint-insert, inpaint-remove, outpaint, product-image"}
                }
              }
            }
          }
        }
      },
      
      "response": {
        "type": "ImagenEditResponse",
        "body_schema": {
          "predictions": {
            "type": "array",
            "items": {
              "bytesBase64Encoded": {"type": "string", "description": "Base64 encoded edited image"},
              "mimeType": {"type": "string", "description": "Image MIME type (image/png, image/jpeg)"}
            }
          }
        }
      },
      "defaults": {
        "model": "imagen-3.0-capability-001"
      }
    }
  },
  
  "auth": {
    "type": "bearer",
    "env_vars": ["VERTEX_AI_ACCESS_TOKEN"],
    "gcloud_auth": true
  },
  
  "defaults": {
    "region": "us-central1"
  }
}
