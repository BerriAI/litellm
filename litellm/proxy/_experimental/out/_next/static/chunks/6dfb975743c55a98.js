(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94629,e=>{"use strict";var t=e.i(271645);let a=t.forwardRef(function(e,a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:a},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"}))});e.s(["SwitchVerticalIcon",0,a],94629)},728889,e=>{"use strict";var t=e.i(290571),a=e.i(271645),l=e.i(829087),r=e.i(480731),s=e.i(444755),i=e.i(673706),n=e.i(95779);let o={xs:{paddingX:"px-1.5",paddingY:"py-1.5"},sm:{paddingX:"px-1.5",paddingY:"py-1.5"},md:{paddingX:"px-2",paddingY:"py-2"},lg:{paddingX:"px-2",paddingY:"py-2"},xl:{paddingX:"px-2.5",paddingY:"py-2.5"}},d={xs:{height:"h-3",width:"w-3"},sm:{height:"h-5",width:"w-5"},md:{height:"h-5",width:"w-5"},lg:{height:"h-7",width:"w-7"},xl:{height:"h-9",width:"w-9"}},c={simple:{rounded:"",border:"",ring:"",shadow:""},light:{rounded:"rounded-tremor-default",border:"",ring:"",shadow:""},shadow:{rounded:"rounded-tremor-default",border:"border",ring:"",shadow:"shadow-tremor-card dark:shadow-dark-tremor-card"},solid:{rounded:"rounded-tremor-default",border:"border-2",ring:"ring-1",shadow:""},outlined:{rounded:"rounded-tremor-default",border:"border",ring:"ring-2",shadow:""}},m=(0,i.makeClassName)("Icon"),u=a.default.forwardRef((e,u)=>{let{icon:x,variant:g="simple",tooltip:h,size:b=r.Sizes.SM,color:p,className:f}=e,j=(0,t.__rest)(e,["icon","variant","tooltip","size","color","className"]),y=((e,t)=>{switch(e){case"simple":return{textColor:t?(0,i.getColorClassNames)(t,n.colorPalette.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",bgColor:"",borderColor:"",ringColor:""};case"light":return{textColor:t?(0,i.getColorClassNames)(t,n.colorPalette.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",bgColor:t?(0,s.tremorTwMerge)((0,i.getColorClassNames)(t,n.colorPalette.background).bgColor,"bg-opacity-20"):"bg-tremor-brand-muted dark:bg-dark-tremor-brand-muted",borderColor:"",ringColor:""};case"shadow":return{textColor:t?(0,i.getColorClassNames)(t,n.colorPalette.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",bgColor:t?(0,s.tremorTwMerge)((0,i.getColorClassNames)(t,n.colorPalette.background).bgColor,"bg-opacity-20"):"bg-tremor-background dark:bg-dark-tremor-background",borderColor:"border-tremor-border dark:border-dark-tremor-border",ringColor:""};case"solid":return{textColor:t?(0,i.getColorClassNames)(t,n.colorPalette.text).textColor:"text-tremor-brand-inverted dark:text-dark-tremor-brand-inverted",bgColor:t?(0,s.tremorTwMerge)((0,i.getColorClassNames)(t,n.colorPalette.background).bgColor,"bg-opacity-20"):"bg-tremor-brand dark:bg-dark-tremor-brand",borderColor:"border-tremor-brand-inverted dark:border-dark-tremor-brand-inverted",ringColor:"ring-tremor-ring dark:ring-dark-tremor-ring"};case"outlined":return{textColor:t?(0,i.getColorClassNames)(t,n.colorPalette.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",bgColor:t?(0,s.tremorTwMerge)((0,i.getColorClassNames)(t,n.colorPalette.background).bgColor,"bg-opacity-20"):"bg-tremor-background dark:bg-dark-tremor-background",borderColor:t?(0,i.getColorClassNames)(t,n.colorPalette.ring).borderColor:"border-tremor-brand-subtle dark:border-dark-tremor-brand-subtle",ringColor:t?(0,s.tremorTwMerge)((0,i.getColorClassNames)(t,n.colorPalette.ring).ringColor,"ring-opacity-40"):"ring-tremor-brand-muted dark:ring-dark-tremor-brand-muted"}}})(g,p),{tooltipProps:v,getReferenceProps:N}=(0,l.useTooltip)();return a.default.createElement("span",Object.assign({ref:(0,i.mergeRefs)([u,v.refs.setReference]),className:(0,s.tremorTwMerge)(m("root"),"inline-flex shrink-0 items-center justify-center",y.bgColor,y.textColor,y.borderColor,y.ringColor,c[g].rounded,c[g].border,c[g].shadow,c[g].ring,o[b].paddingX,o[b].paddingY,f)},N,j),a.default.createElement(l.default,Object.assign({text:h},v)),a.default.createElement(x,{className:(0,s.tremorTwMerge)(m("icon"),"shrink-0",d[b].height,d[b].width)}))});u.displayName="Icon",e.s(["default",()=>u],728889)},752978,e=>{"use strict";var t=e.i(728889);e.s(["Icon",()=>t.default])},278587,e=>{"use strict";var t=e.i(271645);let a=t.forwardRef(function(e,a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:a},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}))});e.s(["RefreshIcon",0,a],278587)},591935,e=>{"use strict";var t=e.i(271645);let a=t.forwardRef(function(e,a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:a},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"}))});e.s(["PencilAltIcon",0,a],591935)},603908,e=>{"use strict";let t=(0,e.i(475254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["default",()=>t])},107233,e=>{"use strict";var t=e.i(603908);e.s(["Plus",()=>t.default])},37727,e=>{"use strict";var t=e.i(841947);e.s(["X",()=>t.default])},220508,e=>{"use strict";var t=e.i(271645);let a=t.forwardRef(function(e,a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:a},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}))});e.s(["CheckCircleIcon",0,a],220508)},793130,e=>{"use strict";var t=e.i(290571),a=e.i(429427),l=e.i(371330),r=e.i(271645),s=e.i(394487),i=e.i(503269),n=e.i(214520),o=e.i(746725),d=e.i(914189),c=e.i(144279),m=e.i(294316),u=e.i(601893),x=e.i(140721),g=e.i(942803),h=e.i(233538),b=e.i(694421),p=e.i(700020),f=e.i(35889),j=e.i(998348),y=e.i(722678);let v=(0,r.createContext)(null);v.displayName="GroupContext";let N=r.Fragment,w=Object.assign((0,p.forwardRefWithAs)(function(e,t){var N;let w=(0,r.useId)(),k=(0,g.useProvidedId)(),C=(0,u.useDisabled)(),{id:T=k||`headlessui-switch-${w}`,disabled:_=C||!1,checked:M,defaultChecked:S,onChange:I,name:E,value:R,form:L,autoFocus:F=!1,...B}=e,D=(0,r.useContext)(v),[P,A]=(0,r.useState)(null),O=(0,r.useRef)(null),H=(0,m.useSyncRefs)(O,t,null===D?null:D.setSwitch,A),z=(0,n.useDefaultValue)(S),[$,q]=(0,i.useControllable)(M,I,null!=z&&z),K=(0,o.useDisposables)(),[V,G]=(0,r.useState)(!1),U=(0,d.useEvent)(()=>{G(!0),null==q||q(!$),K.nextFrame(()=>{G(!1)})}),Y=(0,d.useEvent)(e=>{if((0,h.isDisabledReactIssue7711)(e.currentTarget))return e.preventDefault();e.preventDefault(),U()}),X=(0,d.useEvent)(e=>{e.key===j.Keys.Space?(e.preventDefault(),U()):e.key===j.Keys.Enter&&(0,b.attemptSubmit)(e.currentTarget)}),W=(0,d.useEvent)(e=>e.preventDefault()),J=(0,y.useLabelledBy)(),Q=(0,f.useDescribedBy)(),{isFocusVisible:Z,focusProps:ee}=(0,a.useFocusRing)({autoFocus:F}),{isHovered:et,hoverProps:ea}=(0,l.useHover)({isDisabled:_}),{pressed:el,pressProps:er}=(0,s.useActivePress)({disabled:_}),es=(0,r.useMemo)(()=>({checked:$,disabled:_,hover:et,focus:Z,active:el,autofocus:F,changing:V}),[$,et,Z,el,_,V,F]),ei=(0,p.mergeProps)({id:T,ref:H,role:"switch",type:(0,c.useResolveButtonType)(e,P),tabIndex:-1===e.tabIndex?0:null!=(N=e.tabIndex)?N:0,"aria-checked":$,"aria-labelledby":J,"aria-describedby":Q,disabled:_||void 0,autoFocus:F,onClick:Y,onKeyUp:X,onKeyPress:W},ee,ea,er),en=(0,r.useCallback)(()=>{if(void 0!==z)return null==q?void 0:q(z)},[q,z]),eo=(0,p.useRender)();return r.default.createElement(r.default.Fragment,null,null!=E&&r.default.createElement(x.FormFields,{disabled:_,data:{[E]:R||"on"},overrides:{type:"checkbox",checked:$},form:L,onReset:en}),eo({ourProps:ei,theirProps:B,slot:es,defaultTag:"button",name:"Switch"}))}),{Group:function(e){var t;let[a,l]=(0,r.useState)(null),[s,i]=(0,y.useLabels)(),[n,o]=(0,f.useDescriptions)(),d=(0,r.useMemo)(()=>({switch:a,setSwitch:l}),[a,l]),c=(0,p.useRender)();return r.default.createElement(o,{name:"Switch.Description",value:n},r.default.createElement(i,{name:"Switch.Label",value:s,props:{htmlFor:null==(t=d.switch)?void 0:t.id,onClick(e){a&&(e.currentTarget instanceof HTMLLabelElement&&e.preventDefault(),a.click(),a.focus({preventScroll:!0}))}}},r.default.createElement(v.Provider,{value:d},c({ourProps:{},theirProps:e,slot:{},defaultTag:N,name:"Switch.Group"}))))},Label:y.Label,Description:f.Description});var k=e.i(888288),C=e.i(95779),T=e.i(444755),_=e.i(673706),M=e.i(829087);let S=(0,_.makeClassName)("Switch"),I=r.default.forwardRef((e,a)=>{let{checked:l,defaultChecked:s=!1,onChange:i,color:n,name:o,error:d,errorMessage:c,disabled:m,required:u,tooltip:x,id:g}=e,h=(0,t.__rest)(e,["checked","defaultChecked","onChange","color","name","error","errorMessage","disabled","required","tooltip","id"]),b={bgColor:n?(0,_.getColorClassNames)(n,C.colorPalette.background).bgColor:"bg-tremor-brand dark:bg-dark-tremor-brand",ringColor:n?(0,_.getColorClassNames)(n,C.colorPalette.ring).ringColor:"ring-tremor-brand-muted dark:ring-dark-tremor-brand-muted"},[p,f]=(0,k.default)(s,l),[j,y]=(0,r.useState)(!1),{tooltipProps:v,getReferenceProps:N}=(0,M.useTooltip)(300);return r.default.createElement("div",{className:"flex flex-row items-center justify-start"},r.default.createElement(M.default,Object.assign({text:x},v)),r.default.createElement("div",Object.assign({ref:(0,_.mergeRefs)([a,v.refs.setReference]),className:(0,T.tremorTwMerge)(S("root"),"flex flex-row relative h-5")},h,N),r.default.createElement("input",{type:"checkbox",className:(0,T.tremorTwMerge)(S("input"),"absolute w-5 h-5 cursor-pointer left-0 top-0 opacity-0"),name:o,required:u,checked:p,onChange:e=>{e.preventDefault()}}),r.default.createElement(w,{checked:p,onChange:e=>{f(e),null==i||i(e)},disabled:m,className:(0,T.tremorTwMerge)(S("switch"),"w-10 h-5 group relative inline-flex shrink-0 cursor-pointer items-center justify-center rounded-tremor-full","focus:outline-none",m?"cursor-not-allowed":""),onFocus:()=>y(!0),onBlur:()=>y(!1),id:g},r.default.createElement("span",{className:(0,T.tremorTwMerge)(S("sr-only"),"sr-only")},"Switch ",p?"on":"off"),r.default.createElement("span",{"aria-hidden":"true",className:(0,T.tremorTwMerge)(S("background"),p?b.bgColor:"bg-tremor-border dark:bg-dark-tremor-border","pointer-events-none absolute mx-auto h-3 w-9 rounded-tremor-full transition-colors duration-100 ease-in-out")}),r.default.createElement("span",{"aria-hidden":"true",className:(0,T.tremorTwMerge)(S("round"),p?(0,T.tremorTwMerge)(b.bgColor,"translate-x-5 border-tremor-background dark:border-dark-tremor-background"):"translate-x-0 bg-tremor-border dark:bg-dark-tremor-border border-tremor-background dark:border-dark-tremor-background","pointer-events-none absolute left-0 inline-block h-5 w-5 transform rounded-tremor-full border-2 shadow-tremor-input duration-100 ease-in-out transition",j?(0,T.tremorTwMerge)("ring-2",b.ringColor):"")}))),d&&c?r.default.createElement("p",{className:(0,T.tremorTwMerge)(S("errorMessage"),"text-sm text-red-500 mt-1 ")},c):null)});I.displayName="Switch",e.s(["Switch",()=>I],793130)},158392,419470,e=>{"use strict";var t=e.i(843476),a=e.i(779241);let l={ttl:3600,lowest_latency_buffer:0},r=({routingStrategyArgs:e})=>{let r={ttl:"Sliding window to look back over when calculating the average latency of a deployment. Default - 1 hour (in seconds).",lowest_latency_buffer:"Shuffle between deployments within this % of the lowest latency. Default - 0 (i.e. always pick lowest latency)."};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"max-w-3xl",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Latency-Based Configuration"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Fine-tune latency-based routing behavior"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2 xl:grid-cols-3",children:Object.entries(e||l).map(([e,l])=>(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsxs)("label",{className:"block",children:[(0,t.jsx)("span",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide",children:e.replace(/_/g," ")}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-0.5 mb-2",children:r[e]||""}),(0,t.jsx)(a.TextInput,{name:e,defaultValue:"object"==typeof l?JSON.stringify(l,null,2):l?.toString(),className:"font-mono text-sm w-full"})]})},e))})]}),(0,t.jsx)("div",{className:"border-t border-gray-200"})]})},s=({routerSettings:e,routerFieldsMetadata:l})=>(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"max-w-3xl",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Reliability & Retries"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Configure retry logic and failure handling"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2 xl:grid-cols-3",children:Object.entries(e).filter(([e,t])=>"fallbacks"!=e&&"context_window_fallbacks"!=e&&"routing_strategy_args"!=e&&"routing_strategy"!=e&&"enable_tag_filtering"!=e).map(([e,r])=>(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsxs)("label",{className:"block",children:[(0,t.jsx)("span",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide",children:l[e]?.ui_field_name||e}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-0.5 mb-2",children:l[e]?.field_description||""}),(0,t.jsx)(a.TextInput,{name:e,defaultValue:null==r||"null"===r?"":"object"==typeof r?JSON.stringify(r,null,2):r?.toString()||"",placeholder:"—",className:"font-mono text-sm w-full"})]})},e))})]});var i=e.i(199133);let n=({selectedStrategy:e,availableStrategies:a,routingStrategyDescriptions:l,routerFieldsMetadata:r,onStrategyChange:s})=>(0,t.jsxs)("div",{className:"space-y-2 max-w-3xl",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide",children:r.routing_strategy?.ui_field_name||"Routing Strategy"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-0.5 mb-2",children:r.routing_strategy?.field_description||""})]}),(0,t.jsx)("div",{className:"routing-strategy-select max-w-3xl",children:(0,t.jsx)(i.Select,{value:e,onChange:s,style:{width:"100%"},size:"large",children:a.map(e=>(0,t.jsx)(i.Select.Option,{value:e,label:e,children:(0,t.jsxs)("div",{className:"flex flex-col gap-0.5 py-1",children:[(0,t.jsx)("span",{className:"font-mono text-sm font-medium",children:e}),l[e]&&(0,t.jsx)("span",{className:"text-xs text-gray-500 font-normal",children:l[e]})]})},e))})})]});var o=e.i(793130);let d=({enabled:e,routerFieldsMetadata:a,onToggle:l})=>(0,t.jsx)("div",{className:"space-y-3 max-w-3xl",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide",children:a.enable_tag_filtering?.ui_field_name||"Enable Tag Filtering"}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5",children:[a.enable_tag_filtering?.field_description||"",a.enable_tag_filtering?.link&&(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)("a",{href:a.enable_tag_filtering.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"Learn more"})]})]})]}),(0,t.jsx)(o.Switch,{checked:e,onChange:l,className:"ml-4"})]})});e.s(["default",0,({value:e,onChange:a,routerFieldsMetadata:l,availableRoutingStrategies:i,routingStrategyDescriptions:o})=>(0,t.jsxs)("div",{className:"w-full space-y-8 py-2",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"max-w-3xl",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Routing Settings"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Configure how requests are routed to deployments"})]}),i.length>0&&(0,t.jsx)(n,{selectedStrategy:e.selectedStrategy||e.routerSettings.routing_strategy||null,availableStrategies:i,routingStrategyDescriptions:o,routerFieldsMetadata:l,onStrategyChange:t=>{a({...e,selectedStrategy:t})}}),(0,t.jsx)(d,{enabled:e.enableTagFiltering,routerFieldsMetadata:l,onToggle:t=>{a({...e,enableTagFiltering:t})}})]}),(0,t.jsx)("div",{className:"border-t border-gray-200"}),"latency-based-routing"===e.selectedStrategy&&(0,t.jsx)(r,{routingStrategyArgs:e.routerSettings.routing_strategy_args}),(0,t.jsx)(s,{routerSettings:e.routerSettings,routerFieldsMetadata:l})]})],158392);var c=e.i(994388),m=e.i(998573),u=e.i(653496),x=e.i(107233),g=e.i(271645),h=e.i(592968),b=e.i(475254);let p=(0,b.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),f=(0,b.default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var j=e.i(37727);function y({group:e,onChange:a,availableModels:l,maxFallbacks:r}){let s=l.filter(t=>t!==e.primaryModel),n=e.fallbackModels.length<r;return(0,t.jsxs)("div",{className:"flex flex-col gap-8 py-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Primary Model ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(i.Select,{className:"w-full h-12",size:"large",placeholder:"Select primary model",value:e.primaryModel,onChange:t=>{let l=[...e.fallbackModels];l.includes(t)&&(l=l.filter(e=>e!==t)),a({...e,primaryModel:t,fallbackModels:l})},showSearch:!0,filterOption:(e,t)=>(t?.label??"").toLowerCase().includes(e.toLowerCase()),options:l.map(e=>({label:e,value:e}))}),!e.primaryModel&&(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-2 text-amber-600 text-xs bg-amber-50 p-2 rounded",children:[(0,t.jsx)(p,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Select a model to begin configuring fallbacks"})]})]}),(0,t.jsx)("div",{className:"flex items-center justify-center -my-4 z-10",children:(0,t.jsxs)("div",{className:"bg-indigo-50 text-indigo-500 px-4 py-1 rounded-full text-xs font-bold border border-indigo-100 flex items-center gap-2 shadow-sm",children:[(0,t.jsx)(f,{className:"w-4 h-4"}),"IF FAILS, TRY..."]})}),(0,t.jsxs)("div",{className:`transition-opacity duration-300 ${!e.primaryModel?"opacity-50 pointer-events-none":"opacity-100"}`,children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Fallback Chain ",(0,t.jsx)("span",{className:"text-red-500",children:"*"}),(0,t.jsxs)("span",{className:"text-xs text-gray-500 font-normal ml-2",children:["(Max ",r," fallbacks at a time)"]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)(i.Select,{mode:"multiple",className:"w-full",size:"large",placeholder:n?"Select fallback models to add...":`Maximum ${r} fallbacks reached`,value:e.fallbackModels,onChange:t=>{let l=t.slice(0,r);a({...e,fallbackModels:l})},disabled:!e.primaryModel,options:s.map(e=>({label:e,value:e})),optionRender:(a,l)=>{let r=e.fallbackModels.includes(a.value),s=r?e.fallbackModels.indexOf(a.value)+1:null;return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[r&&null!==s&&(0,t.jsx)("span",{className:"flex items-center justify-center w-5 h-5 rounded bg-indigo-100 text-indigo-600 text-xs font-bold",children:s}),(0,t.jsx)("span",{children:a.label})]})},maxTagCount:"responsive",maxTagPlaceholder:e=>(0,t.jsx)(h.Tooltip,{styles:{root:{pointerEvents:"none"}},title:e.map(({value:e})=>e).join(", "),children:(0,t.jsxs)("span",{children:["+",e.length," more"]})}),showSearch:!0,filterOption:(e,t)=>(t?.label??"").toLowerCase().includes(e.toLowerCase())}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1 ml-1",children:n?`Search and select multiple models. Selected models will appear below in order. (${e.fallbackModels.length}/${r} used)`:`Maximum ${r} fallbacks reached. Remove some to add more.`})]}),(0,t.jsx)("div",{className:"space-y-2 min-h-[100px]",children:0===e.fallbackModels.length?(0,t.jsxs)("div",{className:"h-32 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center text-gray-400",children:[(0,t.jsx)("span",{className:"text-sm",children:"No fallback models selected"}),(0,t.jsx)("span",{className:"text-xs mt-1",children:"Add models from the dropdown above"})]}):e.fallbackModels.map((l,r)=>(0,t.jsxs)("div",{className:"group flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200 hover:border-indigo-300 hover:shadow-sm transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-6 h-6 rounded bg-gray-100 text-gray-400 group-hover:text-indigo-500 group-hover:bg-indigo-50",children:(0,t.jsx)("span",{className:"text-xs font-bold",children:r+1})}),(0,t.jsx)("div",{children:(0,t.jsx)("span",{className:"font-medium text-gray-800",children:l})})]}),(0,t.jsx)("button",{type:"button",onClick:()=>{let t;return t=e.fallbackModels.filter((e,t)=>t!==r),void a({...e,fallbackModels:t})},className:"opacity-0 group-hover:opacity-100 transition-opacity text-gray-400 hover:text-red-500 p-1",children:(0,t.jsx)(j.X,{className:"w-4 h-4"})})]},`${l}-${r}`))})]})]})]})}function v({groups:e,onGroupsChange:a,availableModels:l,maxFallbacks:r=10,maxGroups:s=5}){let[i,n]=(0,g.useState)(e.length>0?e[0].id:"1");(0,g.useEffect)(()=>{e.length>0?e.some(e=>e.id===i)||n(e[0].id):n("1")},[e]);let o=()=>{if(e.length>=s)return;let t=Date.now().toString();a([...e,{id:t,primaryModel:null,fallbackModels:[]}]),n(t)},d=t=>{a(e.map(e=>e.id===t.id?t:e))},h=e.map((a,s)=>{let i=a.primaryModel?a.primaryModel:`Group ${s+1}`;return{key:a.id,label:i,closable:e.length>1,children:(0,t.jsx)(y,{group:a,onChange:d,availableModels:l,maxFallbacks:r})}});return 0===e.length?(0,t.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg border border-dashed border-gray-300",children:[(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"No fallback groups configured"}),(0,t.jsx)(c.Button,{variant:"primary",onClick:o,icon:()=>(0,t.jsx)(x.Plus,{className:"w-4 h-4"}),children:"Create First Group"})]}):(0,t.jsx)(u.Tabs,{type:"editable-card",activeKey:i,onChange:n,onEdit:(t,l)=>{"add"===l?o():"remove"===l&&e.length>1&&(t=>{if(1===e.length)return m.message.warning("At least one group is required");let l=e.filter(e=>e.id!==t);a(l),i===t&&l.length>0&&n(l[l.length-1].id)})(t)},items:h,className:"fallback-tabs",tabBarStyle:{marginBottom:0},hideAdd:e.length>=s})}e.s(["FallbackSelectionForm",()=>v],419470)},91739,e=>{"use strict";var t=e.i(544195);e.s(["Radio",()=>t.default])},533882,e=>{"use strict";var t=e.i(843476),a=e.i(271645),l=e.i(250980),r=e.i(797672),s=e.i(68155),i=e.i(304967),n=e.i(629569),o=e.i(599724),d=e.i(269200),c=e.i(427612),m=e.i(64848),u=e.i(942232),x=e.i(496020),g=e.i(977572),h=e.i(992619),b=e.i(727749);e.s(["default",0,({accessToken:e,initialModelAliases:p={},onAliasUpdate:f,showExampleConfig:j=!0})=>{let[y,v]=(0,a.useState)([]),[N,w]=(0,a.useState)({aliasName:"",targetModel:""}),[k,C]=(0,a.useState)(null);(0,a.useEffect)(()=>{v(Object.entries(p).map(([e,t],a)=>({id:`${a}-${e}`,aliasName:e,targetModel:t})))},[p]);let T=()=>{if(!k)return;if(!k.aliasName||!k.targetModel)return void b.default.fromBackend("Please provide both alias name and target model");if(y.some(e=>e.id!==k.id&&e.aliasName===k.aliasName))return void b.default.fromBackend("An alias with this name already exists");let e=y.map(e=>e.id===k.id?k:e);v(e),C(null);let t={};e.forEach(e=>{t[e.aliasName]=e.targetModel}),f&&f(t),b.default.success("Alias updated successfully")},_=()=>{C(null)},M=y.reduce((e,t)=>(e[t.aliasName]=t.targetModel,e),{});return(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)(o.Text,{className:"text-sm font-medium text-gray-700 mb-2",children:"Add New Alias"}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Alias Name"}),(0,t.jsx)("input",{type:"text",value:N.aliasName,onChange:e=>w({...N,aliasName:e.target.value}),placeholder:"e.g., gpt-4o",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Target Model"}),(0,t.jsx)(h.default,{accessToken:e,value:N.targetModel,placeholder:"Select target model",onChange:e=>w({...N,targetModel:e}),showLabel:!1})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsxs)("button",{onClick:()=>{if(!N.aliasName||!N.targetModel)return void b.default.fromBackend("Please provide both alias name and target model");if(y.some(e=>e.aliasName===N.aliasName))return void b.default.fromBackend("An alias with this name already exists");let e=[...y,{id:`${Date.now()}-${N.aliasName}`,aliasName:N.aliasName,targetModel:N.targetModel}];v(e),w({aliasName:"",targetModel:""});let t={};e.forEach(e=>{t[e.aliasName]=e.targetModel}),f&&f(t),b.default.success("Alias added successfully")},disabled:!N.aliasName||!N.targetModel,className:`flex items-center px-4 py-2 rounded-md text-sm ${!N.aliasName||!N.targetModel?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:[(0,t.jsx)(l.PlusCircleIcon,{className:"w-4 h-4 mr-1"}),"Add Alias"]})})]})]}),(0,t.jsx)(o.Text,{className:"text-sm font-medium text-gray-700 mb-2",children:"Manage Existing Aliases"}),(0,t.jsx)("div",{className:"rounded-lg custom-border relative mb-6",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(d.Table,{className:"[&_td]:py-0.5 [&_th]:py-1",children:[(0,t.jsx)(c.TableHead,{children:(0,t.jsxs)(x.TableRow,{children:[(0,t.jsx)(m.TableHeaderCell,{className:"py-1 h-8",children:"Alias Name"}),(0,t.jsx)(m.TableHeaderCell,{className:"py-1 h-8",children:"Target Model"}),(0,t.jsx)(m.TableHeaderCell,{className:"py-1 h-8",children:"Actions"})]})}),(0,t.jsxs)(u.TableBody,{children:[y.map(a=>(0,t.jsx)(x.TableRow,{className:"h-8",children:k&&k.id===a.id?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.TableCell,{className:"py-0.5",children:(0,t.jsx)("input",{type:"text",value:k.aliasName,onChange:e=>C({...k,aliasName:e.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm"})}),(0,t.jsx)(g.TableCell,{className:"py-0.5",children:(0,t.jsx)(h.default,{accessToken:e,value:k.targetModel,onChange:e=>C({...k,targetModel:e}),showLabel:!1,style:{height:"32px"}})}),(0,t.jsx)(g.TableCell,{className:"py-0.5 whitespace-nowrap",children:(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("button",{onClick:T,className:"text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded hover:bg-blue-100",children:"Save"}),(0,t.jsx)("button",{onClick:_,className:"text-xs bg-gray-50 text-gray-600 px-2 py-1 rounded hover:bg-gray-100",children:"Cancel"})]})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.TableCell,{className:"py-0.5 text-sm text-gray-900",children:a.aliasName}),(0,t.jsx)(g.TableCell,{className:"py-0.5 text-sm text-gray-500",children:a.targetModel}),(0,t.jsx)(g.TableCell,{className:"py-0.5 whitespace-nowrap",children:(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("button",{onClick:()=>{C({...a})},className:"text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded hover:bg-blue-100",children:(0,t.jsx)(r.PencilIcon,{className:"w-3 h-3"})}),(0,t.jsx)("button",{onClick:()=>{var e;let t,l;return e=a.id,v(t=y.filter(t=>t.id!==e)),l={},void(t.forEach(e=>{l[e.aliasName]=e.targetModel}),f&&f(l),b.default.success("Alias deleted successfully"))},className:"text-xs bg-red-50 text-red-600 px-2 py-1 rounded hover:bg-red-100",children:(0,t.jsx)(s.TrashIcon,{className:"w-3 h-3"})})]})})]})},a.id)),0===y.length&&(0,t.jsx)(x.TableRow,{children:(0,t.jsx)(g.TableCell,{colSpan:3,className:"py-0.5 text-sm text-gray-500 text-center",children:"No aliases added yet. Add a new alias above."})})]})]})})}),j&&(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(n.Title,{className:"mb-4",children:"Configuration Example"}),(0,t.jsx)(o.Text,{className:"text-gray-600 mb-4",children:"Here's how your current aliases would look in the config:"}),(0,t.jsx)("div",{className:"bg-gray-100 rounded-lg p-4 font-mono text-sm",children:(0,t.jsxs)("div",{className:"text-gray-700",children:["model_aliases:",0===Object.keys(M).length?(0,t.jsxs)("span",{className:"text-gray-500",children:[(0,t.jsx)("br",{}),"  # No aliases configured yet"]}):Object.entries(M).map(([e,a])=>(0,t.jsxs)("span",{children:[(0,t.jsx)("br",{}),'  "',e,'": "',a,'"']},e))]})})]})]})}])},651904,e=>{"use strict";var t=e.i(843476),a=e.i(599724),l=e.i(266484);e.s(["default",0,function({value:e,onChange:r,premiumUser:s=!1,disabledCallbacks:i=[],onDisabledCallbacksChange:n}){return s?(0,t.jsx)(l.default,{value:e,onChange:r,disabledCallbacks:i,onDisabledCallbacksChange:n}):(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[(0,t.jsx)("div",{className:"inline-flex items-center px-3 py-1.5 rounded-lg bg-green-50 border border-green-200 text-green-800 text-sm font-medium opacity-50",children:"✨ langfuse-logging"}),(0,t.jsx)("div",{className:"inline-flex items-center px-3 py-1.5 rounded-lg bg-green-50 border border-green-200 text-green-800 text-sm font-medium opacity-50",children:"✨ datadog-logging"})]}),(0,t.jsx)("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,t.jsxs)(a.Text,{className:"text-sm text-yellow-800",children:["Setting Key/Team logging settings is a LiteLLM Enterprise feature. Global Logging Settings are available for all free users. Get a trial key"," ",(0,t.jsx)("a",{href:"https://www.litellm.ai/#pricing",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"here"}),"."]})})]})}])},345244,e=>{"use strict";var t=e.i(843476),a=e.i(271645),l=e.i(752978),r=e.i(994388),s=e.i(309426),i=e.i(599724),n=e.i(350967),o=e.i(278587),d=e.i(304967),c=e.i(629569),m=e.i(389083),u=e.i(677667),x=e.i(898667),g=e.i(130643),h=e.i(808613),b=e.i(311451),p=e.i(199133),f=e.i(592968),j=e.i(827252),y=e.i(702597),v=e.i(355619),N=e.i(764205),w=e.i(727749),k=e.i(435451),C=e.i(860585),T=e.i(500330),_=e.i(678784),M=e.i(118366),S=e.i(464571);let I=({tagId:e,onClose:l,accessToken:s,is_admin:n,editTag:o})=>{let[I]=h.Form.useForm(),[E,R]=(0,a.useState)(null),[L,F]=(0,a.useState)(o),[B,D]=(0,a.useState)([]),[P,A]=(0,a.useState)({}),O=async(e,t)=>{await (0,T.copyToClipboard)(e)&&(A(e=>({...e,[t]:!0})),setTimeout(()=>{A(e=>({...e,[t]:!1}))},2e3))},H=async()=>{if(s)try{let t=(await (0,N.tagInfoCall)(s,[e]))[e];t&&(R(t),o&&I.setFieldsValue({name:t.name,description:t.description,models:t.models,max_budget:t.litellm_budget_table?.max_budget,budget_duration:t.litellm_budget_table?.budget_duration}))}catch(e){console.error("Error fetching tag details:",e),w.default.fromBackend("Error fetching tag details: "+e)}};(0,a.useEffect)(()=>{H()},[e,s]),(0,a.useEffect)(()=>{s&&(0,y.fetchUserModels)("dummy-user","Admin",s,D)},[s]);let z=async e=>{if(s)try{await (0,N.tagUpdateCall)(s,{name:e.name,description:e.description,models:e.models,max_budget:e.max_budget,tpm_limit:e.tpm_limit,rpm_limit:e.rpm_limit,budget_duration:e.budget_duration}),w.default.success("Tag updated successfully"),F(!1),H()}catch(e){console.error("Error updating tag:",e),w.default.fromBackend("Error updating tag: "+e)}};return E?(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(r.Button,{onClick:l,className:"mb-4",children:"← Back to Tags"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i.Text,{className:"font-medium",children:"Tag Name:"}),(0,t.jsx)("span",{className:"font-mono px-2 py-1 bg-gray-100 rounded text-sm border border-gray-200",children:E.name}),(0,t.jsx)(S.Button,{type:"text",size:"small",icon:P["tag-name"]?(0,t.jsx)(_.CheckIcon,{size:12}):(0,t.jsx)(M.CopyIcon,{size:12}),onClick:()=>O(E.name,"tag-name"),className:`transition-all duration-200 ${P["tag-name"]?"text-green-600 bg-green-50 border-green-200":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`})]}),(0,t.jsx)(i.Text,{className:"text-gray-500",children:E.description||"No description"})]}),n&&!L&&(0,t.jsx)(r.Button,{onClick:()=>F(!0),children:"Edit Tag"})]}),L?(0,t.jsx)(d.Card,{children:(0,t.jsxs)(h.Form,{form:I,onFinish:z,layout:"vertical",initialValues:E,children:[(0,t.jsx)(h.Form.Item,{label:"Tag Name",name:"name",rules:[{required:!0,message:"Please input a tag name"}],children:(0,t.jsx)(b.Input,{className:"rounded-md border-gray-300"})}),(0,t.jsx)(h.Form.Item,{label:"Description",name:"description",children:(0,t.jsx)(b.Input.TextArea,{rows:4})}),(0,t.jsx)(h.Form.Item,{label:(0,t.jsxs)("span",{children:["Allowed Models",(0,t.jsx)(f.Tooltip,{title:"Select which models are allowed to process this type of data",children:(0,t.jsx)(j.InfoCircleOutlined,{style:{marginLeft:"4px"}})})]}),name:"models",children:(0,t.jsx)(p.Select,{mode:"multiple",placeholder:"Select Models",children:B.map(e=>(0,t.jsx)(p.Select.Option,{value:e,children:(0,v.getModelDisplayName)(e)},e))})}),(0,t.jsxs)(u.Accordion,{className:"mt-4 mb-4",children:[(0,t.jsx)(x.AccordionHeader,{children:(0,t.jsx)(c.Title,{className:"m-0",children:"Budget & Rate Limits"})}),(0,t.jsxs)(g.AccordionBody,{children:[(0,t.jsx)(h.Form.Item,{label:(0,t.jsxs)("span",{children:["Max Budget (USD)"," ",(0,t.jsx)(f.Tooltip,{title:"Maximum amount in USD this tag can spend",children:(0,t.jsx)(j.InfoCircleOutlined,{style:{marginLeft:"4px"}})})]}),name:"max_budget",children:(0,t.jsx)(k.default,{step:.01,precision:2,width:200})}),(0,t.jsx)(h.Form.Item,{label:(0,t.jsxs)("span",{children:["Reset Budget"," ",(0,t.jsx)(f.Tooltip,{title:"How often the budget should reset",children:(0,t.jsx)(j.InfoCircleOutlined,{style:{marginLeft:"4px"}})})]}),name:"budget_duration",children:(0,t.jsx)(C.default,{onChange:e=>I.setFieldValue("budget_duration",e)})}),(0,t.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-md border border-gray-200",children:(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["TPM/RPM limits for tags are not currently supported. If you need this feature, please"," ",(0,t.jsx)("a",{href:"https://github.com/BerriAI/litellm/issues/new",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"create a GitHub issue"}),"."]})})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,t.jsx)(r.Button,{onClick:()=>F(!1),children:"Cancel"}),(0,t.jsx)(r.Button,{type:"submit",children:"Save Changes"})]})]})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(d.Card,{children:[(0,t.jsx)(c.Title,{children:"Tag Details"}),(0,t.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(i.Text,{className:"font-medium",children:"Name"}),(0,t.jsx)(i.Text,{children:E.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(i.Text,{className:"font-medium",children:"Description"}),(0,t.jsx)(i.Text,{children:E.description||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(i.Text,{className:"font-medium",children:"Allowed Models"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:E.models&&0!==E.models.length?E.models.map(e=>(0,t.jsx)(m.Badge,{color:"blue",children:(0,t.jsx)(f.Tooltip,{title:`ID: ${e}`,children:E.model_info?.[e]||e})},e)):(0,t.jsx)(m.Badge,{color:"red",children:"All Models"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(i.Text,{className:"font-medium",children:"Created"}),(0,t.jsx)(i.Text,{children:E.created_at?new Date(E.created_at).toLocaleString():"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(i.Text,{className:"font-medium",children:"Last Updated"}),(0,t.jsx)(i.Text,{children:E.updated_at?new Date(E.updated_at).toLocaleString():"-"})]})]})]}),E.litellm_budget_table&&(0,t.jsxs)(d.Card,{children:[(0,t.jsx)(c.Title,{children:"Budget & Rate Limits"}),(0,t.jsxs)("div",{className:"space-y-4 mt-4",children:[void 0!==E.litellm_budget_table.max_budget&&null!==E.litellm_budget_table.max_budget&&(0,t.jsxs)("div",{children:[(0,t.jsx)(i.Text,{className:"font-medium",children:"Max Budget"}),(0,t.jsxs)(i.Text,{children:["$",E.litellm_budget_table.max_budget]})]}),E.litellm_budget_table.budget_duration&&(0,t.jsxs)("div",{children:[(0,t.jsx)(i.Text,{className:"font-medium",children:"Budget Duration"}),(0,t.jsx)(i.Text,{children:E.litellm_budget_table.budget_duration})]}),void 0!==E.litellm_budget_table.tpm_limit&&null!==E.litellm_budget_table.tpm_limit&&(0,t.jsxs)("div",{children:[(0,t.jsx)(i.Text,{className:"font-medium",children:"TPM Limit"}),(0,t.jsx)(i.Text,{children:E.litellm_budget_table.tpm_limit.toLocaleString()})]}),void 0!==E.litellm_budget_table.rpm_limit&&null!==E.litellm_budget_table.rpm_limit&&(0,t.jsxs)("div",{children:[(0,t.jsx)(i.Text,{className:"font-medium",children:"RPM Limit"}),(0,t.jsx)(i.Text,{children:E.litellm_budget_table.rpm_limit.toLocaleString()})]})]})]})]})]}):(0,t.jsx)("div",{children:"Loading..."})};var E=e.i(871943),R=e.i(360820),L=e.i(591935),F=e.i(94629),B=e.i(68155),D=e.i(152990),P=e.i(682830),A=e.i(269200),O=e.i(942232),H=e.i(977572),z=e.i(427612),$=e.i(64848),q=e.i(496020);let K="This is just a spend tag that was passed dynamically in a request. It does not control any LLM models.",V=({data:e,onEdit:s,onDelete:n,onSelectTag:o})=>{let[d,c]=a.default.useState([{id:"created_at",desc:!0}]),u=[{header:"Tag Name",accessorKey:"name",cell:({row:e})=>{let a=e.original,l=a.description===K;return(0,t.jsx)("div",{className:"overflow-hidden",children:(0,t.jsx)(f.Tooltip,{title:l?"You cannot view the information of a dynamically generated spend tag":a.name,children:(0,t.jsx)(r.Button,{size:"xs",variant:"light",className:"font-mono text-blue-500 bg-blue-50 hover:bg-blue-100 text-xs font-normal px-2 py-0.5",onClick:()=>o(a.name),disabled:l,children:a.name})})})}},{header:"Description",accessorKey:"description",cell:({row:e})=>{let a=e.original;return(0,t.jsx)(f.Tooltip,{title:a.description,children:(0,t.jsx)("span",{className:"text-xs",children:a.description||"-"})})}},{header:"Allowed Models",accessorKey:"models",cell:({row:e})=>{let a=e.original;return(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:a?.models?.length===0?(0,t.jsx)(m.Badge,{size:"xs",className:"mb-1",color:"red",children:"All Models"}):a?.models?.map(e=>(0,t.jsx)(m.Badge,{size:"xs",className:"mb-1",color:"blue",children:(0,t.jsx)(f.Tooltip,{title:`ID: ${e}`,children:(0,t.jsx)(i.Text,{children:a.model_info?.[e]||e})})},e))})}},{header:"Created",accessorKey:"created_at",sortingFn:"datetime",cell:({row:e})=>{let a=e.original;return(0,t.jsx)("span",{className:"text-xs",children:new Date(a.created_at).toLocaleDateString()})}},{id:"actions",header:"Actions",cell:({row:e})=>{let a=e.original,r=a.description===K;return(0,t.jsxs)("div",{className:"flex space-x-2",children:[r?(0,t.jsx)(f.Tooltip,{title:"Dynamically generated spend tags cannot be edited",children:(0,t.jsx)(l.Icon,{icon:L.PencilAltIcon,size:"sm",className:"opacity-50 cursor-not-allowed","aria-label":"Edit tag (disabled)"})}):(0,t.jsx)(f.Tooltip,{title:"Edit tag",children:(0,t.jsx)(l.Icon,{icon:L.PencilAltIcon,size:"sm",onClick:()=>s(a),className:"cursor-pointer hover:text-blue-500"})}),r?(0,t.jsx)(f.Tooltip,{title:"Dynamically generated spend tags cannot be deleted",children:(0,t.jsx)(l.Icon,{icon:B.TrashIcon,size:"sm",className:"opacity-50 cursor-not-allowed","aria-label":"Delete tag (disabled)"})}):(0,t.jsx)(f.Tooltip,{title:"Delete tag",children:(0,t.jsx)(l.Icon,{icon:B.TrashIcon,size:"sm",onClick:()=>n(a.name),className:"cursor-pointer hover:text-red-500"})})]})}}],x=(0,D.useReactTable)({data:e,columns:u,state:{sorting:d},onSortingChange:c,getCoreRowModel:(0,P.getCoreRowModel)(),getSortedRowModel:(0,P.getSortedRowModel)(),enableSorting:!0});return(0,t.jsx)("div",{className:"rounded-lg custom-border relative",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(A.Table,{className:"[&_td]:py-0.5 [&_th]:py-1",children:[(0,t.jsx)(z.TableHead,{children:x.getHeaderGroups().map(e=>(0,t.jsx)(q.TableRow,{children:e.headers.map(e=>(0,t.jsx)($.TableHeaderCell,{className:`py-1 h-8 ${"actions"===e.id?"sticky right-0 bg-white shadow-[-4px_0_8px_-6px_rgba(0,0,0,0.1)]":""}`,onClick:e.column.getToggleSortingHandler(),children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("div",{className:"flex items-center",children:e.isPlaceholder?null:(0,D.flexRender)(e.column.columnDef.header,e.getContext())}),"actions"!==e.id&&(0,t.jsx)("div",{className:"w-4",children:e.column.getIsSorted()?({asc:(0,t.jsx)(R.ChevronUpIcon,{className:"h-4 w-4 text-blue-500"}),desc:(0,t.jsx)(E.ChevronDownIcon,{className:"h-4 w-4 text-blue-500"})})[e.column.getIsSorted()]:(0,t.jsx)(F.SwitchVerticalIcon,{className:"h-4 w-4 text-gray-400"})})]})},e.id))},e.id))}),(0,t.jsx)(O.TableBody,{children:x.getRowModel().rows.length>0?x.getRowModel().rows.map(e=>(0,t.jsx)(q.TableRow,{className:"h-8",children:e.getVisibleCells().map(e=>(0,t.jsx)(H.TableCell,{className:`py-0.5 max-h-8 overflow-hidden text-ellipsis whitespace-nowrap ${"actions"===e.column.id?"sticky right-0 bg-white shadow-[-4px_0_8px_-6px_rgba(0,0,0,0.1)]":""}`,children:(0,D.flexRender)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,t.jsx)(q.TableRow,{children:(0,t.jsx)(H.TableCell,{colSpan:u.length,className:"h-8 text-center",children:(0,t.jsx)("div",{className:"text-center text-gray-500",children:(0,t.jsx)("p",{children:"No tags found"})})})})})]})})})};var G=e.i(779241),U=e.i(212931);let Y=({visible:e,onCancel:a,onSubmit:l,availableModels:s})=>{let[i]=h.Form.useForm();return(0,t.jsx)(U.Modal,{title:"Create New Tag",open:e,width:800,footer:null,onCancel:()=>{i.resetFields(),a()},children:(0,t.jsxs)(h.Form,{form:i,onFinish:e=>{l(e),i.resetFields()},labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",children:[(0,t.jsx)(h.Form.Item,{label:"Tag Name",name:"tag_name",rules:[{required:!0,message:"Please input a tag name"}],children:(0,t.jsx)(G.TextInput,{})}),(0,t.jsx)(h.Form.Item,{label:"Description",name:"description",children:(0,t.jsx)(b.Input.TextArea,{rows:4})}),(0,t.jsx)(h.Form.Item,{label:(0,t.jsxs)("span",{children:["Allowed Models",(0,t.jsx)(f.Tooltip,{title:"Select which models are allowed to process requests from this tag",children:(0,t.jsx)(j.InfoCircleOutlined,{style:{marginLeft:"4px"}})})]}),name:"allowed_llms",children:(0,t.jsx)(p.Select,{mode:"multiple",placeholder:"Select Models",children:s.map(e=>(0,t.jsx)(p.Select.Option,{value:e.model_info.id,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:e.model_name}),(0,t.jsxs)("span",{className:"text-gray-400 ml-2",children:["(",e.model_info.id,")"]})]})},e.model_info.id))})}),(0,t.jsxs)(u.Accordion,{className:"mt-4 mb-4",children:[(0,t.jsx)(x.AccordionHeader,{children:(0,t.jsx)(c.Title,{className:"m-0",children:"Budget & Rate Limits (Optional)"})}),(0,t.jsxs)(g.AccordionBody,{children:[(0,t.jsx)(h.Form.Item,{className:"mt-4",label:(0,t.jsxs)("span",{children:["Max Budget (USD)"," ",(0,t.jsx)(f.Tooltip,{title:"Maximum amount in USD this tag can spend. When reached, requests with this tag will be blocked",children:(0,t.jsx)(j.InfoCircleOutlined,{style:{marginLeft:"4px"}})})]}),name:"max_budget",children:(0,t.jsx)(k.default,{step:.01,precision:2,width:200})}),(0,t.jsx)(h.Form.Item,{className:"mt-4",label:(0,t.jsxs)("span",{children:["Reset Budget"," ",(0,t.jsx)(f.Tooltip,{title:"How often the budget should reset. For example, setting 'daily' will reset the budget every 24 hours",children:(0,t.jsx)(j.InfoCircleOutlined,{style:{marginLeft:"4px"}})})]}),name:"budget_duration",children:(0,t.jsx)(C.default,{onChange:e=>i.setFieldValue("budget_duration",e)})}),(0,t.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-md border border-gray-200",children:(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["TPM/RPM limits for tags are not currently supported. If you need this feature, please"," ",(0,t.jsx)("a",{href:"https://github.com/BerriAI/litellm/issues/new",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"create a GitHub issue"}),"."]})})]})]}),(0,t.jsx)("div",{style:{textAlign:"right",marginTop:"10px"},children:(0,t.jsx)(r.Button,{type:"submit",children:"Create Tag"})})]})})};e.s(["default",0,({accessToken:e,userID:d,userRole:c})=>{let[m,u]=(0,a.useState)([]),[x,g]=(0,a.useState)(!1),[h,b]=(0,a.useState)(null),[p,f]=(0,a.useState)(!1),[j,y]=(0,a.useState)(!1),[v,k]=(0,a.useState)(null),[C,T]=(0,a.useState)(""),[_,M]=(0,a.useState)([]),S=async()=>{if(e)try{let t=await (0,N.tagListCall)(e);console.log("List tags response:",t),u(Object.values(t))}catch(e){console.error("Error fetching tags:",e),w.default.fromBackend("Error fetching tags: "+e)}},E=async t=>{if(e)try{await (0,N.tagCreateCall)(e,{name:t.tag_name,description:t.description,models:t.allowed_llms,max_budget:t.max_budget,soft_budget:t.soft_budget,tpm_limit:t.tpm_limit,rpm_limit:t.rpm_limit,budget_duration:t.budget_duration}),w.default.success("Tag created successfully"),g(!1),S()}catch(e){console.error("Error creating tag:",e),w.default.fromBackend("Error creating tag: "+e)}},R=async e=>{k(e),y(!0)},L=async()=>{if(e&&v){try{await (0,N.tagDeleteCall)(e,v),w.default.success("Tag deleted successfully"),S()}catch(e){console.error("Error deleting tag:",e),w.default.fromBackend("Error deleting tag: "+e)}y(!1),k(null)}};return(0,a.useEffect)(()=>{d&&c&&e&&(async()=>{try{let t=await (0,N.modelInfoCall)(e,d,c);t&&t.data&&M(t.data)}catch(e){console.error("Error fetching models:",e),w.default.fromBackend("Error fetching models: "+e)}})()},[e,d,c]),(0,a.useEffect)(()=>{S()},[e]),(0,t.jsx)("div",{className:"w-full mx-4 h-[75vh]",children:h?(0,t.jsx)(I,{tagId:h,onClose:()=>{b(null),f(!1)},accessToken:e,is_admin:"Admin"===c,editTag:p}):(0,t.jsxs)("div",{className:"gap-2 p-8 h-[75vh] w-full mt-2",children:[(0,t.jsxs)("div",{className:"flex justify-between mt-2 w-full items-center mb-4",children:[(0,t.jsx)("h1",{children:"Tag Management"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[C&&(0,t.jsxs)(i.Text,{children:["Last Refreshed: ",C]}),(0,t.jsx)(l.Icon,{icon:o.RefreshIcon,variant:"shadow",size:"xs",className:"self-center cursor-pointer",onClick:()=>{S(),T(new Date().toLocaleString())}})]})]}),(0,t.jsxs)(i.Text,{className:"mb-4",children:["Click on a tag name to view and edit its details.",(0,t.jsxs)("p",{children:["You can use tags to restrict the usage of certain LLMs based on tags passed in the request. Read more about tag routing"," ",(0,t.jsx)("a",{href:"https://docs.litellm.ai/docs/proxy/tag_routing",target:"_blank",rel:"noopener noreferrer",children:"here"}),"."]})]}),(0,t.jsx)(r.Button,{className:"mb-4",onClick:()=>g(!0),children:"+ Create New Tag"}),(0,t.jsx)(n.Grid,{numItems:1,className:"gap-2 pt-2 pb-2 h-[75vh] w-full mt-2",children:(0,t.jsx)(s.Col,{numColSpan:1,children:(0,t.jsx)(V,{data:m,onEdit:e=>{b(e.name),f(!0)},onDelete:R,onSelectTag:b})})}),(0,t.jsx)(Y,{visible:x,onCancel:()=>g(!1),onSubmit:E,availableModels:_}),j&&(0,t.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:(0,t.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,t.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,t.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,t.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[(0,t.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,t.jsx)("div",{className:"sm:flex sm:items-start",children:(0,t.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,t.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Delete Tag"}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this tag?"})})]})})}),(0,t.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,t.jsx)(r.Button,{onClick:L,color:"red",className:"ml-2",children:"Delete"}),(0,t.jsx)(r.Button,{onClick:()=>{y(!1),k(null)},children:"Cancel"})]})]})]})})]})})}],345244)},954210,e=>{"use strict";var t=e.i(843476),a=e.i(345244),l=e.i(135214);e.s(["default",0,()=>{let{accessToken:e,userId:r,userRole:s}=(0,l.default)();return(0,t.jsx)(a.default,{accessToken:e,userID:r,userRole:s})}])}]);