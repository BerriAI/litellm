"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5706],{56083:function(e,l,s){s.d(l,{H:function(){return d}});var i=s(57437),a=s(10012),t=s(4260),r=s(7310),n=s.n(r),o=s(2265);let d=e=>{let{placeholder:l,value:s,onChange:r,icon:d,className:c}=e,[m,u]=(0,o.useState)(s);(0,o.useEffect)(()=>{u(s)},[s]);let x=(0,o.useMemo)(()=>n()(e=>r(e),300),[r]);(0,o.useEffect)(()=>()=>{x.cancel()},[x]);let h=(0,o.useCallback)(e=>{let l=e.target.value;u(l),x(l)},[x]);return(0,i.jsx)(t.default,{placeholder:l,value:m,onChange:h,prefix:d?(0,i.jsx)(d,{size:16,className:"text-gray-500"}):void 0,className:(0,a.cx)("w-64",c)})}},51205:function(e,l,s){s.d(l,{c:function(){return n}});var i=s(57437),a=s(33866),t=s(5545),r=s(3577);s(2265);let n=e=>{let{onClick:l,active:s,hasActiveFilters:n,label:o="Filters"}=e;return(0,i.jsx)(a.Z,{color:"blue",dot:n,children:(0,i.jsx)(t.ZP,{type:"default",onClick:l,icon:(0,i.jsx)(r.Z,{size:16}),className:s?"bg-gray-100":"",children:o})})}},57716:function(e,l,s){s.d(l,{z:function(){return r}});var i=s(57437),a=s(5545),t=s(69076);s(2265);let r=e=>{let{onClick:l,label:s="Reset Filters"}=e;return(0,i.jsx)(a.ZP,{type:"default",onClick:l,icon:(0,i.jsx)(t.Z,{size:16}),children:s})}},35706:function(e,l,s){s.d(l,{Z:function(){return ed},g:function(){return eo}});var i=s(57437),a=s(56083),t=s(51205),r=s(57716),n=s(73247),o=s(92369),d=e=>{let{filters:l,showFilters:s,onToggleFilters:d,onChange:c,onReset:m}=e,u=!!(l.org_id||l.org_alias);return(0,i.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,i.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,i.jsx)(a.H,{placeholder:"Search by Organization Name",value:l.org_alias,onChange:e=>c("org_alias",e),icon:n.Z,className:"w-64"}),(0,i.jsx)(t.c,{onClick:()=>d(!s),active:s,hasActiveFilters:u}),(0,i.jsx)(r.z,{onClick:m})]}),s&&(0,i.jsx)("div",{className:"flex flex-wrap items-center gap-3 mt-3",children:(0,i.jsx)(a.H,{placeholder:"Search by Organization ID",value:l.org_id,onChange:e=>c("org_id",e),icon:o.Z,className:"w-64"})})]})},c=s(15424),m=s(23628),u=s(86462),x=s(47686),h=s(41649),_=s(78489),g=s(12514),j=s(49804),p=s(67101),v=s(47323),Z=s(12485),b=s(18135),f=s(35242),w=s(29706),z=s(77991),y=s(21626),N=s(97214),C=s(28241),S=s(58834),O=s(69552),k=s(71876),M=s(84264),I=s(49566),F=s(10032),P=s(99981),A=s(22116),T=s(37592),D=s(4260),L=s(2265),E=s(59872),R=s(21609),U=s(39957),V=s(46468),B=s(97492),q=s(8156),G=s(9114),W=s(19250),$=s(47359),H=s(29299),J=s(10900),Q=s(53410),Y=s(74998),K=s(96761),X=s(5545),ee=s(30401),el=s(78867),es=s(33860),ei=s(60131),ea=s(24199),et=s(36894),er=s(97415),en=e=>{var l,s,a,t;let{organizationId:r,onClose:n,accessToken:o,is_org_admin:d,is_proxy_admin:c,userModels:m,editOrg:u}=e,[x,j]=(0,L.useState)(null),[P,A]=(0,L.useState)(!0),[R]=F.Z.useForm(),[U,V]=(0,L.useState)(!1),[en,eo]=(0,L.useState)(!1),[ed,ec]=(0,L.useState)(!1),[em,eu]=(0,L.useState)(null),[ex,eh]=(0,L.useState)({}),[e_,eg]=(0,L.useState)(!1),ej=d||c,{data:ep}=(0,$.y2)(),ev=(0,L.useMemo)(()=>(0,H.O)(ep),[ep]),eZ=async()=>{try{if(A(!0),!o)return;let e=await (0,W.organizationInfoCall)(o,r);j(e)}catch(e){G.Z.fromBackend("Failed to load organization information"),console.error("Error fetching organization info:",e)}finally{A(!1)}};(0,L.useEffect)(()=>{eZ()},[r,o]);let eb=async e=>{try{if(null==o)return;let l={user_email:e.user_email,user_id:e.user_id,role:e.role};await (0,W.organizationMemberAddCall)(o,r,l),G.Z.success("Organization member added successfully"),eo(!1),R.resetFields(),eZ()}catch(e){G.Z.fromBackend("Failed to add organization member"),console.error("Error adding organization member:",e)}},ef=async e=>{try{if(!o)return;let l={user_email:e.user_email,user_id:e.user_id,role:e.role};await (0,W.organizationMemberUpdateCall)(o,r,l),G.Z.success("Organization member updated successfully"),ec(!1),R.resetFields(),eZ()}catch(e){G.Z.fromBackend("Failed to update organization member"),console.error("Error updating organization member:",e)}},ew=async e=>{try{if(!o)return;await (0,W.organizationMemberDeleteCall)(o,r,e.user_id),G.Z.success("Organization member deleted successfully"),ec(!1),R.resetFields(),eZ()}catch(e){G.Z.fromBackend("Failed to delete organization member"),console.error("Error deleting organization member:",e)}},ez=async e=>{try{if(!o)return;eg(!0);let l={organization_id:r,organization_alias:e.organization_alias,models:e.models,litellm_budget_table:{tpm_limit:e.tpm_limit,rpm_limit:e.rpm_limit,max_budget:e.max_budget,budget_duration:e.budget_duration},metadata:e.metadata?JSON.parse(e.metadata):null};if((void 0!==e.vector_stores||void 0!==e.mcp_servers_and_groups)&&(l.object_permission={...null==x?void 0:x.object_permission,vector_stores:e.vector_stores||[]},void 0!==e.mcp_servers_and_groups)){let{servers:s,accessGroups:i}=e.mcp_servers_and_groups||{servers:[],accessGroups:[]};s&&s.length>0&&(l.object_permission.mcp_servers=s),i&&i.length>0&&(l.object_permission.mcp_access_groups=i)}await (0,W.organizationUpdateCall)(o,l),G.Z.success("Organization settings updated successfully"),V(!1),eZ()}catch(e){G.Z.fromBackend("Failed to update organization settings"),console.error("Error updating organization:",e)}finally{eg(!1)}};if(P)return(0,i.jsx)("div",{className:"p-4",children:"Loading..."});if(!x)return(0,i.jsx)("div",{className:"p-4",children:"Organization not found"});let ey=async(e,l)=>{await (0,E.vQ)(e)&&(eh(e=>({...e,[l]:!0})),setTimeout(()=>{eh(e=>({...e,[l]:!1}))},2e3))};return(0,i.jsxs)("div",{className:"w-full h-screen p-4 bg-white",children:[(0,i.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,i.jsxs)("div",{children:[(0,i.jsx)(_.Z,{icon:J.Z,onClick:n,variant:"light",className:"mb-4",children:"Back to Organizations"}),(0,i.jsx)(K.Z,{children:x.organization_alias}),(0,i.jsxs)("div",{className:"flex items-center cursor-pointer",children:[(0,i.jsx)(M.Z,{className:"text-gray-500 font-mono",children:x.organization_id}),(0,i.jsx)(X.ZP,{type:"text",size:"small",icon:ex["org-id"]?(0,i.jsx)(ee.Z,{size:12}):(0,i.jsx)(el.Z,{size:12}),onClick:()=>ey(x.organization_id,"org-id"),className:"left-2 z-10 transition-all duration-200 ".concat(ex["org-id"]?"text-green-600 bg-green-50 border-green-200":"text-gray-500 hover:text-gray-700 hover:bg-gray-100")})]})]})}),(0,i.jsxs)(b.Z,{defaultIndex:u?2:0,children:[(0,i.jsxs)(f.Z,{className:"mb-4",children:[(0,i.jsx)(Z.Z,{children:"Overview"}),(0,i.jsx)(Z.Z,{children:"Members"}),(0,i.jsx)(Z.Z,{children:"Settings"})]}),(0,i.jsxs)(z.Z,{children:[(0,i.jsx)(w.Z,{children:(0,i.jsxs)(p.Z,{numItems:1,numItemsSm:2,numItemsLg:3,className:"gap-6",children:[(0,i.jsxs)(g.Z,{children:[(0,i.jsx)(M.Z,{children:"Organization Details"}),(0,i.jsxs)("div",{className:"mt-2",children:[(0,i.jsxs)(M.Z,{children:["Created: ",new Date(x.created_at).toLocaleDateString()]}),(0,i.jsxs)(M.Z,{children:["Updated: ",new Date(x.updated_at).toLocaleDateString()]}),(0,i.jsxs)(M.Z,{children:["Created By: ",x.created_by]})]})]}),(0,i.jsxs)(g.Z,{children:[(0,i.jsx)(M.Z,{children:"Budget Status"}),(0,i.jsxs)("div",{className:"mt-2",children:[(0,i.jsxs)(K.Z,{children:["$",(0,E.pw)(x.spend,4)]}),(0,i.jsxs)(M.Z,{children:["of"," ",null===x.litellm_budget_table.max_budget?"Unlimited":"$".concat((0,E.pw)(x.litellm_budget_table.max_budget,4))]}),x.litellm_budget_table.budget_duration&&(0,i.jsxs)(M.Z,{className:"text-gray-500",children:["Reset: ",x.litellm_budget_table.budget_duration]})]})]}),(0,i.jsxs)(g.Z,{children:[(0,i.jsx)(M.Z,{children:"Rate Limits"}),(0,i.jsxs)("div",{className:"mt-2",children:[(0,i.jsxs)(M.Z,{children:["TPM: ",x.litellm_budget_table.tpm_limit||"Unlimited"]}),(0,i.jsxs)(M.Z,{children:["RPM: ",x.litellm_budget_table.rpm_limit||"Unlimited"]}),x.litellm_budget_table.max_parallel_requests&&(0,i.jsxs)(M.Z,{children:["Max Parallel Requests: ",x.litellm_budget_table.max_parallel_requests]})]})]}),(0,i.jsxs)(g.Z,{children:[(0,i.jsx)(M.Z,{children:"Models"}),(0,i.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:0===x.models.length?(0,i.jsx)(h.Z,{color:"red",children:"All proxy models"}):x.models.map((e,l)=>(0,i.jsx)(h.Z,{color:"red",children:e},l))})]}),(0,i.jsxs)(g.Z,{children:[(0,i.jsx)(M.Z,{children:"Teams"}),(0,i.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:null===(l=x.teams)||void 0===l?void 0:l.map((e,l)=>(0,i.jsx)(h.Z,{color:"red",children:ev[e.team_id]||e.team_id},l))})]}),(0,i.jsx)(ei.Z,{objectPermission:x.object_permission,variant:"card",accessToken:o})]})}),(0,i.jsx)(w.Z,{children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)(g.Z,{className:"w-full mx-auto flex-auto overflow-y-auto max-h-[75vh]",children:(0,i.jsxs)(y.Z,{children:[(0,i.jsx)(S.Z,{children:(0,i.jsxs)(k.Z,{children:[(0,i.jsx)(O.Z,{children:"User ID"}),(0,i.jsx)(O.Z,{children:"Role"}),(0,i.jsx)(O.Z,{children:"Spend"}),(0,i.jsx)(O.Z,{children:"Created At"}),(0,i.jsx)(O.Z,{})]})}),(0,i.jsx)(N.Z,{children:x.members&&x.members.length>0?x.members.map((e,l)=>(0,i.jsxs)(k.Z,{children:[(0,i.jsx)(C.Z,{children:(0,i.jsx)(M.Z,{className:"font-mono",children:e.user_id})}),(0,i.jsx)(C.Z,{children:(0,i.jsx)(M.Z,{className:"font-mono",children:e.user_role})}),(0,i.jsx)(C.Z,{children:(0,i.jsxs)(M.Z,{children:["$",(0,E.pw)(e.spend,4)]})}),(0,i.jsx)(C.Z,{children:(0,i.jsx)(M.Z,{children:new Date(e.created_at).toLocaleString()})}),(0,i.jsx)(C.Z,{children:ej&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v.Z,{icon:Q.Z,size:"sm",onClick:()=>{eu({role:e.user_role,user_email:e.user_email,user_id:e.user_id}),ec(!0)}}),(0,i.jsx)(v.Z,{icon:Y.Z,size:"sm",onClick:()=>{ew(e)}})]})})]},l)):(0,i.jsx)(k.Z,{children:(0,i.jsx)(C.Z,{colSpan:5,className:"text-center py-8",children:(0,i.jsx)(M.Z,{className:"text-gray-500",children:"No members found"})})})})]})}),ej&&(0,i.jsx)(_.Z,{onClick:()=>{eo(!0)},children:"Add Member"})]})}),(0,i.jsx)(w.Z,{children:(0,i.jsxs)(g.Z,{className:"overflow-y-auto max-h-[65vh]",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,i.jsx)(K.Z,{children:"Organization Settings"}),ej&&!U&&(0,i.jsx)(_.Z,{onClick:()=>V(!0),children:"Edit Settings"})]}),U?(0,i.jsxs)(F.Z,{form:R,onFinish:ez,initialValues:{organization_alias:x.organization_alias,models:x.models,tpm_limit:x.litellm_budget_table.tpm_limit,rpm_limit:x.litellm_budget_table.rpm_limit,max_budget:x.litellm_budget_table.max_budget,budget_duration:x.litellm_budget_table.budget_duration,metadata:x.metadata?JSON.stringify(x.metadata,null,2):"",vector_stores:(null===(s=x.object_permission)||void 0===s?void 0:s.vector_stores)||[],mcp_servers_and_groups:{servers:(null===(a=x.object_permission)||void 0===a?void 0:a.mcp_servers)||[],accessGroups:(null===(t=x.object_permission)||void 0===t?void 0:t.mcp_access_groups)||[]}},layout:"vertical",children:[(0,i.jsx)(F.Z.Item,{label:"Organization Name",name:"organization_alias",rules:[{required:!0,message:"Please input an organization name"}],children:(0,i.jsx)(I.Z,{})}),(0,i.jsx)(F.Z.Item,{label:"Models",name:"models",children:(0,i.jsx)(q.q,{value:R.getFieldValue("models"),onChange:e=>R.setFieldValue("models",e),context:"organization",options:{includeSpecialOptions:!0,showAllProxyModelsOverride:!0}})}),(0,i.jsx)(F.Z.Item,{label:"Max Budget (USD)",name:"max_budget",children:(0,i.jsx)(ea.Z,{step:.01,precision:2,style:{width:"100%"}})}),(0,i.jsx)(F.Z.Item,{label:"Reset Budget",name:"budget_duration",children:(0,i.jsxs)(T.default,{placeholder:"n/a",children:[(0,i.jsx)(T.default.Option,{value:"24h",children:"daily"}),(0,i.jsx)(T.default.Option,{value:"7d",children:"weekly"}),(0,i.jsx)(T.default.Option,{value:"30d",children:"monthly"})]})}),(0,i.jsx)(F.Z.Item,{label:"Tokens per minute Limit (TPM)",name:"tpm_limit",children:(0,i.jsx)(ea.Z,{step:1,style:{width:"100%"}})}),(0,i.jsx)(F.Z.Item,{label:"Requests per minute Limit (RPM)",name:"rpm_limit",children:(0,i.jsx)(ea.Z,{step:1,style:{width:"100%"}})}),(0,i.jsx)(F.Z.Item,{label:"Vector Stores",name:"vector_stores",children:(0,i.jsx)(er.Z,{onChange:e=>R.setFieldValue("vector_stores",e),value:R.getFieldValue("vector_stores"),accessToken:o||"",placeholder:"Select vector stores"})}),(0,i.jsx)(F.Z.Item,{label:"MCP Servers & Access Groups",name:"mcp_servers_and_groups",children:(0,i.jsx)(B.Z,{onChange:e=>R.setFieldValue("mcp_servers_and_groups",e),value:R.getFieldValue("mcp_servers_and_groups"),accessToken:o||"",placeholder:"Select MCP servers and access groups"})}),(0,i.jsx)(F.Z.Item,{label:"Metadata",name:"metadata",children:(0,i.jsx)(D.default.TextArea,{rows:4})}),(0,i.jsx)("div",{className:"sticky z-10 bg-white p-4 border-t border-gray-200 bottom-[-1.5rem] inset-x-[-1.5rem]",children:(0,i.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,i.jsx)(_.Z,{variant:"secondary",onClick:()=>V(!1),disabled:e_,children:"Cancel"}),(0,i.jsx)(_.Z,{type:"submit",loading:e_,children:"Save Changes"})]})})]}):(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(M.Z,{className:"font-medium",children:"Organization Name"}),(0,i.jsx)("div",{children:x.organization_alias})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(M.Z,{className:"font-medium",children:"Organization ID"}),(0,i.jsx)("div",{className:"font-mono",children:x.organization_id})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(M.Z,{className:"font-medium",children:"Created At"}),(0,i.jsx)("div",{children:new Date(x.created_at).toLocaleString()})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(M.Z,{className:"font-medium",children:"Models"}),(0,i.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:x.models.map((e,l)=>(0,i.jsx)(h.Z,{color:"red",children:e},l))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(M.Z,{className:"font-medium",children:"Rate Limits"}),(0,i.jsxs)("div",{children:["TPM: ",x.litellm_budget_table.tpm_limit||"Unlimited"]}),(0,i.jsxs)("div",{children:["RPM: ",x.litellm_budget_table.rpm_limit||"Unlimited"]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(M.Z,{className:"font-medium",children:"Budget"}),(0,i.jsxs)("div",{children:["Max:"," ",null!==x.litellm_budget_table.max_budget?"$".concat((0,E.pw)(x.litellm_budget_table.max_budget,4)):"No Limit"]}),(0,i.jsxs)("div",{children:["Reset: ",x.litellm_budget_table.budget_duration||"Never"]})]}),(0,i.jsx)(ei.Z,{objectPermission:x.object_permission,variant:"inline",className:"pt-4 border-t border-gray-200",accessToken:o})]})]})})]})]}),(0,i.jsx)(es.Z,{isVisible:en,onCancel:()=>eo(!1),onSubmit:eb,accessToken:o,title:"Add Organization Member",roles:[{label:"org_admin",value:"org_admin",description:"Can add and remove members, and change their roles."},{label:"internal_user",value:"internal_user",description:"Can view/create keys for themselves within organization."},{label:"internal_user_viewer",value:"internal_user_viewer",description:"Can only view their keys within organization."}],defaultRole:"internal_user"}),(0,i.jsx)(et.Z,{visible:ed,onCancel:()=>ec(!1),onSubmit:ef,initialData:em,mode:"edit",config:{title:"Edit Member",showEmail:!0,showUserId:!0,roleOptions:[{label:"Org Admin",value:"org_admin"},{label:"Internal User",value:"internal_user"},{label:"Internal User Viewer",value:"internal_user_viewer"}]}})]})};let eo=async function(e,l){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;l(await (0,W.organizationListCall)(e,s,i))};var ed=e=>{let{organizations:l,userRole:s,userModels:a,accessToken:t,lastRefreshed:r,handleRefreshClick:n,currentOrg:o,guardrailsList:$=[],setOrganizations:H,premiumUser:J}=e,[Q,Y]=(0,L.useState)(null),[K,X]=(0,L.useState)(!1),[ee,el]=(0,L.useState)(!1),[es,ei]=(0,L.useState)(null),[et,ed]=(0,L.useState)(!1),[ec,em]=(0,L.useState)(!1),[eu]=F.Z.useForm(),[ex,eh]=(0,L.useState)({}),[e_,eg]=(0,L.useState)(!1),[ej,ep]=(0,L.useState)({org_id:"",org_alias:"",sort_by:"created_at",sort_order:"desc"}),ev=e=>{e&&(ei(e),el(!0))},eZ=async()=>{if(es&&t)try{ed(!0),await (0,W.organizationDeleteCall)(t,es),G.Z.success("Organization deleted successfully"),el(!1),ei(null),await eo(t,H,ej.org_id||null,ej.org_alias||null)}catch(e){console.error("Error deleting organization:",e)}finally{ed(!1)}},eb=async e=>{try{var l,s,i,a;if(!t)return;console.log("values in organizations new create call: ".concat(JSON.stringify(e))),(e.allowed_vector_store_ids&&e.allowed_vector_store_ids.length>0||e.allowed_mcp_servers_and_groups&&((null===(l=e.allowed_mcp_servers_and_groups.servers)||void 0===l?void 0:l.length)>0||(null===(s=e.allowed_mcp_servers_and_groups.accessGroups)||void 0===s?void 0:s.length)>0))&&(e.object_permission={},e.allowed_vector_store_ids&&e.allowed_vector_store_ids.length>0&&(e.object_permission.vector_stores=e.allowed_vector_store_ids,delete e.allowed_vector_store_ids),e.allowed_mcp_servers_and_groups&&((null===(i=e.allowed_mcp_servers_and_groups.servers)||void 0===i?void 0:i.length)>0&&(e.object_permission.mcp_servers=e.allowed_mcp_servers_and_groups.servers),(null===(a=e.allowed_mcp_servers_and_groups.accessGroups)||void 0===a?void 0:a.length)>0&&(e.object_permission.mcp_access_groups=e.allowed_mcp_servers_and_groups.accessGroups),delete e.allowed_mcp_servers_and_groups)),await (0,W.organizationCreateCall)(t,e),G.Z.success("Organization created successfully"),em(!1),eu.resetFields(),eo(t,H,ej.org_id||null,ej.org_alias||null)}catch(e){console.error("Error creating organization:",e)}};return J?(0,i.jsxs)("div",{className:"w-full mx-4 h-[75vh]",children:[(0,i.jsx)(p.Z,{numItems:1,className:"gap-2 p-8 w-full mt-2",children:(0,i.jsxs)(j.Z,{numColSpan:1,className:"flex flex-col gap-2",children:[("Admin"===s||"Org Admin"===s)&&(0,i.jsx)(_.Z,{className:"w-fit",onClick:()=>em(!0),children:"+ Create New Organization"}),Q?(0,i.jsx)(en,{organizationId:Q,onClose:()=>{Y(null),X(!1)},accessToken:t,is_org_admin:!0,is_proxy_admin:"Admin"===s,userModels:a,editOrg:K}):(0,i.jsxs)(b.Z,{className:"gap-2 h-[75vh] w-full",children:[(0,i.jsxs)(f.Z,{className:"flex justify-between mt-2 w-full items-center",children:[(0,i.jsx)("div",{className:"flex",children:(0,i.jsx)(Z.Z,{children:"Your Organizations"})}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[r&&(0,i.jsxs)(M.Z,{children:["Last Refreshed: ",r]}),(0,i.jsx)(v.Z,{icon:m.Z,variant:"shadow",size:"xs",className:"self-center",onClick:n})]})]}),(0,i.jsx)(z.Z,{children:(0,i.jsxs)(w.Z,{children:[(0,i.jsx)(M.Z,{children:"Click on â€œOrganization IDâ€ to view organization details."}),(0,i.jsx)(p.Z,{numItems:1,className:"gap-2 pt-2 pb-2 h-[75vh] w-full mt-2",children:(0,i.jsx)(j.Z,{numColSpan:1,children:(0,i.jsxs)(g.Z,{className:"w-full mx-auto flex-auto overflow-hidden overflow-y-auto max-h-[50vh]",children:[(0,i.jsx)("div",{className:"border-b px-6 py-4",children:(0,i.jsx)("div",{className:"flex flex-col space-y-4",children:(0,i.jsx)(d,{filters:ej,showFilters:e_,onToggleFilters:eg,onChange:(e,l)=>{let s={...ej,[e]:l};ep(s),t&&(0,W.organizationListCall)(t,s.org_id||null,s.org_alias||null).then(e=>{e&&H(e)}).catch(e=>{console.error("Error fetching organizations:",e)})},onReset:()=>{ep({org_id:"",org_alias:"",sort_by:"created_at",sort_order:"desc"}),t&&(0,W.organizationListCall)(t,null,null).then(e=>{e&&H(e)}).catch(e=>{console.error("Error fetching organizations:",e)})}})})}),(0,i.jsxs)(y.Z,{children:[(0,i.jsx)(S.Z,{children:(0,i.jsxs)(k.Z,{children:[(0,i.jsx)(O.Z,{children:"Organization ID"}),(0,i.jsx)(O.Z,{children:"Organization Name"}),(0,i.jsx)(O.Z,{children:"Created"}),(0,i.jsx)(O.Z,{children:"Spend (USD)"}),(0,i.jsx)(O.Z,{children:"Budget (USD)"}),(0,i.jsx)(O.Z,{children:"Models"}),(0,i.jsx)(O.Z,{children:"TPM / RPM Limits"}),(0,i.jsx)(O.Z,{children:"Info"}),(0,i.jsx)(O.Z,{children:"Actions"})]})}),(0,i.jsx)(N.Z,{children:l&&l.length>0?l.sort((e,l)=>new Date(l.created_at).getTime()-new Date(e.created_at).getTime()).map(e=>{var l,a,t,r,n,o,d,c,m;return(0,i.jsxs)(k.Z,{children:[(0,i.jsx)(C.Z,{children:(0,i.jsx)("div",{className:"overflow-hidden",children:(0,i.jsx)(P.Z,{title:e.organization_id,children:(0,i.jsxs)(_.Z,{size:"xs",variant:"light",className:"font-mono text-blue-500 bg-blue-50 hover:bg-blue-100 text-xs font-normal px-2 py-0.5 text-left overflow-hidden truncate max-w-[200px]",onClick:()=>Y(e.organization_id),children:[null===(l=e.organization_id)||void 0===l?void 0:l.slice(0,7),"..."]})})})}),(0,i.jsx)(C.Z,{children:e.organization_alias}),(0,i.jsx)(C.Z,{children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"}),(0,i.jsx)(C.Z,{children:(0,E.pw)(e.spend,4)}),(0,i.jsx)(C.Z,{children:(null===(a=e.litellm_budget_table)||void 0===a?void 0:a.max_budget)!==null&&(null===(t=e.litellm_budget_table)||void 0===t?void 0:t.max_budget)!==void 0?null===(r=e.litellm_budget_table)||void 0===r?void 0:r.max_budget:"No limit"}),(0,i.jsx)(C.Z,{style:{maxWidth:"8-x",whiteSpace:"pre-wrap",overflow:"hidden"},className:e.models.length>3?"px-0":"",children:(0,i.jsx)("div",{className:"flex flex-col",children:Array.isArray(e.models)?(0,i.jsx)("div",{className:"flex flex-col",children:0===e.models.length?(0,i.jsx)(h.Z,{size:"xs",className:"mb-1",color:"red",children:(0,i.jsx)(M.Z,{children:"All Proxy Models"})}):(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"flex items-start",children:[e.models.length>3&&(0,i.jsx)("div",{children:(0,i.jsx)(v.Z,{icon:ex[e.organization_id||""]?u.Z:x.Z,className:"cursor-pointer",size:"xs",onClick:()=>{eh(l=>({...l,[e.organization_id||""]:!l[e.organization_id||""]}))}})}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.models.slice(0,3).map((e,l)=>"all-proxy-models"===e?(0,i.jsx)(h.Z,{size:"xs",color:"red",children:(0,i.jsx)(M.Z,{children:"All Proxy Models"})},l):(0,i.jsx)(h.Z,{size:"xs",color:"blue",children:(0,i.jsx)(M.Z,{children:e.length>30?"".concat((0,V.W0)(e).slice(0,30),"..."):(0,V.W0)(e)})},l)),e.models.length>3&&!ex[e.organization_id||""]&&(0,i.jsx)(h.Z,{size:"xs",color:"gray",className:"cursor-pointer",children:(0,i.jsxs)(M.Z,{children:["+",e.models.length-3," ",e.models.length-3==1?"more model":"more models"]})}),ex[e.organization_id||""]&&(0,i.jsx)("div",{className:"flex flex-wrap gap-1",children:e.models.slice(3).map((e,l)=>"all-proxy-models"===e?(0,i.jsx)(h.Z,{size:"xs",color:"red",children:(0,i.jsx)(M.Z,{children:"All Proxy Models"})},l+3):(0,i.jsx)(h.Z,{size:"xs",color:"blue",children:(0,i.jsx)(M.Z,{children:e.length>30?"".concat((0,V.W0)(e).slice(0,30),"..."):(0,V.W0)(e)})},l+3))})]})]})})}):null})}),(0,i.jsx)(C.Z,{children:(0,i.jsxs)(M.Z,{children:["TPM:"," ",(null===(n=e.litellm_budget_table)||void 0===n?void 0:n.tpm_limit)?null===(o=e.litellm_budget_table)||void 0===o?void 0:o.tpm_limit:"Unlimited",(0,i.jsx)("br",{}),"RPM:"," ",(null===(d=e.litellm_budget_table)||void 0===d?void 0:d.rpm_limit)?null===(c=e.litellm_budget_table)||void 0===c?void 0:c.rpm_limit:"Unlimited"]})}),(0,i.jsx)(C.Z,{children:(0,i.jsxs)(M.Z,{children:[(null===(m=e.members)||void 0===m?void 0:m.length)||0," Members"]})}),(0,i.jsx)(C.Z,{children:"Admin"===s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(U.Z,{variant:"Edit",tooltipText:"Edit organization",onClick:()=>{Y(e.organization_id),X(!0)}}),(0,i.jsx)(U.Z,{variant:"Delete",tooltipText:"Delete organization",onClick:()=>ev(e.organization_id)})]})})]},e.organization_id)}):null})]})]})})})]})})]})]})}),(0,i.jsx)(A.Z,{title:"Create Organization",visible:ec,width:800,footer:null,onCancel:()=>{em(!1),eu.resetFields()},children:(0,i.jsxs)(F.Z,{form:eu,onFinish:eb,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",children:[(0,i.jsx)(F.Z.Item,{label:"Organization Name",name:"organization_alias",rules:[{required:!0,message:"Please input an organization name"}],children:(0,i.jsx)(I.Z,{placeholder:""})}),(0,i.jsx)(F.Z.Item,{label:"Models",name:"models",children:(0,i.jsx)(q.q,{options:{showAllProxyModelsOverride:!0,includeSpecialOptions:!0},value:eu.getFieldValue("models"),onChange:e=>eu.setFieldValue("models",e),context:"organization"})}),(0,i.jsx)(F.Z.Item,{label:"Max Budget (USD)",name:"max_budget",children:(0,i.jsx)(ea.Z,{step:.01,precision:2,width:200})}),(0,i.jsx)(F.Z.Item,{label:"Reset Budget",name:"budget_duration",children:(0,i.jsxs)(T.default,{defaultValue:null,placeholder:"n/a",children:[(0,i.jsx)(T.default.Option,{value:"24h",children:"daily"}),(0,i.jsx)(T.default.Option,{value:"7d",children:"weekly"}),(0,i.jsx)(T.default.Option,{value:"30d",children:"monthly"})]})}),(0,i.jsx)(F.Z.Item,{label:"Tokens per minute Limit (TPM)",name:"tpm_limit",children:(0,i.jsx)(ea.Z,{step:1,width:400})}),(0,i.jsx)(F.Z.Item,{label:"Requests per minute Limit (RPM)",name:"rpm_limit",children:(0,i.jsx)(ea.Z,{step:1,width:400})}),(0,i.jsx)(F.Z.Item,{label:(0,i.jsxs)("span",{children:["Allowed Vector Stores"," ",(0,i.jsx)(P.Z,{title:"Select which vector stores this organization can access by default. Leave empty for access to all vector stores",children:(0,i.jsx)(c.Z,{style:{marginLeft:"4px"}})})]}),name:"allowed_vector_store_ids",className:"mt-4",help:"Select vector stores this organization can access. Leave empty for access to all vector stores",children:(0,i.jsx)(er.Z,{onChange:e=>eu.setFieldValue("allowed_vector_store_ids",e),value:eu.getFieldValue("allowed_vector_store_ids"),accessToken:t||"",placeholder:"Select vector stores (optional)"})}),(0,i.jsx)(F.Z.Item,{label:(0,i.jsxs)("span",{children:["Allowed MCP Servers"," ",(0,i.jsx)(P.Z,{title:"Select which MCP servers and access groups this organization can access by default.",children:(0,i.jsx)(c.Z,{style:{marginLeft:"4px"}})})]}),name:"allowed_mcp_servers_and_groups",className:"mt-4",help:"Select MCP servers and access groups this organization can access.",children:(0,i.jsx)(B.Z,{onChange:e=>eu.setFieldValue("allowed_mcp_servers_and_groups",e),value:eu.getFieldValue("allowed_mcp_servers_and_groups"),accessToken:t||"",placeholder:"Select MCP servers and access groups (optional)"})}),(0,i.jsx)(F.Z.Item,{label:"Metadata",name:"metadata",children:(0,i.jsx)(D.default.TextArea,{rows:4})}),(0,i.jsx)("div",{style:{textAlign:"right",marginTop:"10px"},children:(0,i.jsx)(_.Z,{type:"submit",children:"Create Organization"})})]})}),(0,i.jsx)(R.Z,{isOpen:ee,title:"Delete Organization?",message:"Are you sure you want to delete this organization? This action cannot be undone.",resourceInformationTitle:"Organization Information",resourceInformation:[{label:"Organization ID",value:es,code:!0}],onCancel:()=>{el(!1),ei(null)},onOk:eZ,confirmLoading:et})]}):(0,i.jsx)("div",{children:(0,i.jsxs)(M.Z,{children:["This is a LiteLLM Enterprise feature, and requires a valid key to use. Get a trial key"," ",(0,i.jsx)("a",{href:"https://www.litellm.ai/#pricing",target:"_blank",rel:"noopener noreferrer",children:"here"}),"."]})})}},29299:function(e,l,s){s.d(l,{O:function(){return i},o:function(){return a}});let i=e=>e?e.reduce((e,l)=>(e[l.team_id]=l.team_alias,e),{}):{},a=(e,l)=>{let s=l.find(l=>l.team_id===e);return s?s.team_alias:null}}}]);