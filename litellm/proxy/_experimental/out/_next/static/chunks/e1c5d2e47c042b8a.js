(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,934879,e=>{"use strict";var s=e.i(843476),l=e.i(994388),a=e.i(389083),t=e.i(599724),r=e.i(592968),i=e.i(262218),n=e.i(166406),c=e.i(827252),d=e.i(271645),o=e.i(212931),x=e.i(808613),m=e.i(280898),h=e.i(464571),u=e.i(536916),p=e.i(629569),g=e.i(764205),j=e.i(727749);let{Step:b}=m.Steps,f=({visible:e,onClose:l,accessToken:r,agentHubData:i,onSuccess:n})=>{let[c,f]=(0,d.useState)(0),[y,N]=(0,d.useState)(new Set),[v,T]=(0,d.useState)(!1),[_]=x.Form.useForm(),k=()=>{f(0),N(new Set),_.resetFields(),l()};(0,d.useEffect)(()=>{e&&i.length>0&&N(new Set(i.filter(e=>!0===e.is_public).map(e=>e.agent_id||e.name)))},[e,i]);let C=async()=>{if(0===y.size)return void j.default.fromBackend("Please select at least one agent to make public");T(!0);try{let e=Array.from(y);await (0,g.makeAgentsPublicCall)(r,e),j.default.success(`Successfully made ${e.length} agent(s) public!`),k(),n()}catch(e){console.error("Error making agents public:",e),j.default.fromBackend("Failed to make agents public. Please try again.")}finally{T(!1)}};return(0,s.jsx)(o.Modal,{title:"Make Agents Public",open:e,onCancel:k,footer:null,width:1200,maskClosable:!1,children:(0,s.jsxs)(x.Form,{form:_,layout:"vertical",children:[(0,s.jsxs)(m.Steps,{current:c,className:"mb-6",children:[(0,s.jsx)(b,{title:"Select Agents"}),(0,s.jsx)(b,{title:"Confirm"})]}),(()=>{switch(c){case 0:let e,l;return e=i.length>0&&i.every(e=>y.has(e.agent_id||e.name)),l=y.size>0&&!e,(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(p.Title,{children:"Select Agents to Make Public"}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsxs)(u.Checkbox,{checked:e,indeterminate:l,onChange:e=>{e.target.checked?N(new Set(i.map(e=>e.agent_id||e.name))):N(new Set)},disabled:0===i.length,children:["Select All ",i.length>0&&`(${i.length})`]})})]}),(0,s.jsx)(t.Text,{className:"text-sm text-gray-600",children:"Select the agents you want to be visible on the public model hub. Users will still require a valid Virtual Key to use these agents."}),(0,s.jsx)("div",{className:"max-h-96 overflow-y-auto border rounded-lg p-4",children:(0,s.jsx)("div",{className:"space-y-3",children:0===i.length?(0,s.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,s.jsx)(t.Text,{children:"No agents available."})}):i.map(e=>{let l=e.agent_id||e.name;return(0,s.jsxs)("div",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-gray-50",children:[(0,s.jsx)(u.Checkbox,{checked:y.has(l),onChange:e=>{var s;let a;return s=e.target.checked,a=new Set(y),void(s?a.add(l):a.delete(l),N(a))}}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(t.Text,{className:"font-medium",children:e.name}),(0,s.jsxs)(a.Badge,{color:"blue",size:"sm",children:["v",e.version]})]}),(0,s.jsx)(t.Text,{className:"text-xs text-gray-600 mt-1",children:e.description}),e.skills&&e.skills.length>0&&(0,s.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[e.skills.slice(0,3).map(e=>(0,s.jsx)(a.Badge,{color:"purple",size:"xs",children:e.name},e.id)),e.skills.length>3&&(0,s.jsxs)(t.Text,{className:"text-xs text-gray-500",children:["+",e.skills.length-3," more"]})]})]})]},l)})})}),y.size>0&&(0,s.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,s.jsxs)(t.Text,{className:"text-sm text-blue-800",children:[(0,s.jsx)("strong",{children:y.size})," agent",1!==y.size?"s":""," selected"]})})]});case 1:return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(p.Title,{children:"Confirm Making Agents Public"}),(0,s.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,s.jsxs)(t.Text,{className:"text-sm text-yellow-800",children:[(0,s.jsx)("strong",{children:"Warning:"})," Once you make these agents public, anyone who can go to the"," ",(0,s.jsx)("code",{children:"/ui/model_hub_table"})," will be able to know they exist on the proxy."]})}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Agents to be made public:"}),(0,s.jsx)("div",{className:"max-h-48 overflow-y-auto border rounded-lg p-3",children:(0,s.jsx)("div",{className:"space-y-2",children:Array.from(y).map(e=>{let l=i.find(s=>(s.agent_id||s.name)===e);return(0,s.jsx)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(t.Text,{className:"font-medium",children:l?.name||e}),l&&(0,s.jsxs)(a.Badge,{color:"blue",size:"xs",children:["v",l.version]})]}),l?.description&&(0,s.jsx)(t.Text,{className:"text-xs text-gray-600 mt-1",children:l.description})]})},e)})})})]}),(0,s.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,s.jsxs)(t.Text,{className:"text-sm text-blue-800",children:["Total: ",(0,s.jsx)("strong",{children:y.size})," agent",1!==y.size?"s":""," will be made public"]})})]});default:return null}})(),(0,s.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,s.jsx)(h.Button,{onClick:0===c?k:()=>{1===c&&f(0)},children:0===c?"Cancel":"Previous"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[0===c&&(0,s.jsx)(h.Button,{onClick:()=>{if(0===c){if(0===y.size)return void j.default.fromBackend("Please select at least one agent to make public");f(1)}},disabled:0===y.size,children:"Next"}),1===c&&(0,s.jsx)(h.Button,{onClick:C,loading:v,children:"Make Public"})]})]})]})})},{Step:y}=m.Steps,N=({visible:e,onClose:l,accessToken:r,mcpHubData:i,onSuccess:n})=>{let[c,b]=(0,d.useState)(0),[f,N]=(0,d.useState)(new Set),[v,T]=(0,d.useState)(!1),[_]=x.Form.useForm(),k=()=>{b(0),N(new Set),_.resetFields(),l()};(0,d.useEffect)(()=>{e&&i.length>0&&N(new Set(i.filter(e=>e.mcp_info?.is_public===!0).map(e=>e.server_id)))},[e]);let C=async()=>{if(0===f.size)return void j.default.fromBackend("Please select at least one MCP server to make public");T(!0);try{let e=Array.from(f);await (0,g.makeMCPPublicCall)(r,e),j.default.success(`Successfully made ${e.length} MCP server(s) public!`),k(),n()}catch(e){console.error("Error making MCP servers public:",e),j.default.fromBackend("Failed to make MCP servers public. Please try again.")}finally{T(!1)}};return(0,s.jsx)(o.Modal,{title:"Make MCP Servers Public",open:e,onCancel:k,footer:null,width:1200,maskClosable:!1,children:(0,s.jsxs)(x.Form,{form:_,layout:"vertical",children:[(0,s.jsxs)(m.Steps,{current:c,className:"mb-6",children:[(0,s.jsx)(y,{title:"Select Servers"}),(0,s.jsx)(y,{title:"Confirm"})]}),(()=>{switch(c){case 0:let e,l;return e=i.length>0&&i.every(e=>f.has(e.server_id)),l=f.size>0&&!e,(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(p.Title,{children:"Select MCP Servers to Make Public"}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsxs)(u.Checkbox,{checked:e,indeterminate:l,onChange:e=>{e.target.checked?N(new Set(i.map(e=>e.server_id))):N(new Set)},disabled:0===i.length,children:["Select All ",i.length>0&&`(${i.length})`]})})]}),(0,s.jsx)(t.Text,{className:"text-sm text-gray-600",children:"Select the MCP servers you want to be visible on the public model hub. Users will still require a valid Virtual Key to use these servers."}),(0,s.jsx)("div",{className:"max-h-96 overflow-y-auto border rounded-lg p-4",children:(0,s.jsx)("div",{className:"space-y-3",children:0===i.length?(0,s.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,s.jsx)(t.Text,{children:"No MCP servers available."})}):i.map(e=>{let l=e.mcp_info?.is_public===!0;return(0,s.jsxs)("div",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-gray-50",children:[(0,s.jsx)(u.Checkbox,{checked:f.has(e.server_id),onChange:s=>{var l,a;let t;return l=e.server_id,a=s.target.checked,t=new Set(f),void(a?t.add(l):t.delete(l),N(t))}}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(t.Text,{className:"font-medium",children:e.server_name}),l&&(0,s.jsx)(a.Badge,{color:"emerald",size:"sm",children:"Public"}),(0,s.jsx)(a.Badge,{color:"blue",size:"sm",children:e.transport}),(0,s.jsx)(a.Badge,{color:"active"===e.status||"healthy"===e.status?"green":"inactive"===e.status||"unhealthy"===e.status?"red":"gray",size:"sm",children:e.status||"unknown"})]}),(0,s.jsx)(t.Text,{className:"text-xs text-gray-600 mt-1",children:e.description||e.url}),e.allowed_tools&&e.allowed_tools.length>0&&(0,s.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[e.allowed_tools.slice(0,3).map((e,l)=>(0,s.jsx)(a.Badge,{color:"purple",size:"xs",children:e},l)),e.allowed_tools.length>3&&(0,s.jsxs)(t.Text,{className:"text-xs text-gray-500",children:["+",e.allowed_tools.length-3," more"]})]})]})]},e.server_id)})})}),f.size>0&&(0,s.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,s.jsxs)(t.Text,{className:"text-sm text-blue-800",children:[(0,s.jsx)("strong",{children:f.size})," MCP server",1!==f.size?"s":""," selected"]})})]});case 1:return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(p.Title,{children:"Confirm Making MCP Servers Public"}),(0,s.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,s.jsxs)(t.Text,{className:"text-sm text-yellow-800",children:[(0,s.jsx)("strong",{children:"Warning:"})," Once you make these MCP servers public, anyone who can go to the"," ",(0,s.jsx)("code",{children:"/ui/model_hub_table"})," will be able to know they exist on the proxy."]})}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"MCP Servers to be made public:"}),(0,s.jsx)("div",{className:"max-h-48 overflow-y-auto border rounded-lg p-3",children:(0,s.jsx)("div",{className:"space-y-2",children:Array.from(f).map(e=>{let l=i.find(s=>s.server_id===e);return(0,s.jsx)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(t.Text,{className:"font-medium",children:l?.server_name||e}),l&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Badge,{color:"blue",size:"xs",children:l.transport}),(0,s.jsx)(a.Badge,{color:"active"===l.status||"healthy"===l.status?"green":"inactive"===l.status||"unhealthy"===l.status?"red":"gray",size:"xs",children:l.status||"unknown"})]})]}),l?.description&&(0,s.jsx)(t.Text,{className:"text-xs text-gray-600 mt-1",children:l.description}),l?.url&&(0,s.jsx)(t.Text,{className:"text-xs text-gray-500 mt-1",children:l.url})]})},e)})})})]}),(0,s.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,s.jsxs)(t.Text,{className:"text-sm text-blue-800",children:["Total: ",(0,s.jsx)("strong",{children:f.size})," MCP server",1!==f.size?"s":""," will be made public"]})})]});default:return null}})(),(0,s.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,s.jsx)(h.Button,{onClick:0===c?k:()=>{1===c&&b(0)},children:0===c?"Cancel":"Previous"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[0===c&&(0,s.jsx)(h.Button,{onClick:()=>{if(0===c){if(0===f.size)return void j.default.fromBackend("Please select at least one MCP server to make public");b(1)}},disabled:0===f.size,children:"Next"}),1===c&&(0,s.jsx)(h.Button,{onClick:C,loading:v,children:"Make Public"})]})]})]})})};var v=e.i(304967);let T=({modelHubData:e,onFilteredDataChange:l,showFiltersCard:a=!0,className:r=""})=>{let i,n,c,[o,x]=(0,d.useState)(""),[m,h]=(0,d.useState)(""),[u,p]=(0,d.useState)(""),[g,j]=(0,d.useState)(""),b=(0,d.useRef)([]),f=(0,d.useMemo)(()=>e?.filter(e=>{let s=e.model_group.toLowerCase().includes(o.toLowerCase()),l=""===m||e.providers.includes(m),a=""===u||e.mode===u,t=""===g||Object.entries(e).filter(([e,s])=>e.startsWith("supports_")&&!0===s).some(([e])=>e.replace(/^supports_/,"").split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")===g);return s&&l&&a&&t})||[],[e,o,m,u,g]);(0,d.useEffect)(()=>{(f.length!==b.current.length||f.some((e,s)=>e.model_group!==b.current[s]?.model_group))&&(b.current=f,l(f))},[f,l]);let y=(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"text-sm font-medium mb-2",children:"Search Models:"}),(0,s.jsx)("input",{type:"text",placeholder:"Search model names...",value:o,onChange:e=>x(e.target.value),className:"border rounded px-3 py-2 w-64 h-10 text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"text-sm font-medium mb-2",children:"Provider:"}),(0,s.jsxs)("select",{value:m,onChange:e=>h(e.target.value),className:"border rounded px-3 py-2 text-sm text-gray-600 w-40 h-10",children:[(0,s.jsx)("option",{value:"",className:"text-sm text-gray-600",children:"All Providers"}),e&&(i=new Set,e.forEach(e=>{e.providers.forEach(e=>i.add(e))}),Array.from(i)).map(e=>(0,s.jsx)("option",{value:e,className:"text-sm text-gray-800",children:e},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"text-sm font-medium mb-2",children:"Mode:"}),(0,s.jsxs)("select",{value:u,onChange:e=>p(e.target.value),className:"border rounded px-3 py-2 text-sm text-gray-600 w-32 h-10",children:[(0,s.jsx)("option",{value:"",className:"text-sm text-gray-600",children:"All Modes"}),e&&(n=new Set,e.forEach(e=>{e.mode&&n.add(e.mode)}),Array.from(n)).map(e=>(0,s.jsx)("option",{value:e,className:"text-sm text-gray-800",children:e},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"text-sm font-medium mb-2",children:"Features:"}),(0,s.jsxs)("select",{value:g,onChange:e=>j(e.target.value),className:"border rounded px-3 py-2 text-sm text-gray-600 w-48 h-10",children:[(0,s.jsx)("option",{value:"",className:"text-sm text-gray-600",children:"All Features"}),e&&(c=new Set,e.forEach(e=>{Object.entries(e).filter(([e,s])=>e.startsWith("supports_")&&!0===s).forEach(([e])=>{let s=e.replace(/^supports_/,"").split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");c.add(s)})}),Array.from(c).sort()).map(e=>(0,s.jsx)("option",{value:e,className:"text-sm text-gray-800",children:e},e))]})]}),(o||m||u||g)&&(0,s.jsx)("div",{className:"flex items-end",children:(0,s.jsx)("button",{onClick:()=>{x(""),h(""),p(""),j("")},className:"text-blue-600 hover:text-blue-800 text-sm underline h-10 flex items-center",children:"Clear Filters"})})]});return a?(0,s.jsx)(v.Card,{className:`mb-6 ${r}`,children:y}):(0,s.jsx)("div",{className:r,children:y})},{Step:_}=m.Steps,k=({visible:e,onClose:l,accessToken:r,modelHubData:i,onSuccess:n})=>{let[c,b]=(0,d.useState)(0),[f,y]=(0,d.useState)(new Set),[N,v]=(0,d.useState)([]),[k,C]=(0,d.useState)(!1),[w]=x.Form.useForm(),S=()=>{b(0),y(new Set),v([]),w.resetFields(),l()},M=(0,d.useCallback)(e=>{v(e)},[]);(0,d.useEffect)(()=>{e&&i.length>0&&(v(i),y(new Set(i.filter(e=>!0===e.is_public_model_group).map(e=>e.model_group))))},[e,i]);let P=async()=>{if(0===f.size)return void j.default.fromBackend("Please select at least one model to make public");C(!0);try{let e=Array.from(f);await (0,g.makeModelGroupPublic)(r,e),j.default.success(`Successfully made ${e.length} model group(s) public!`),S(),n()}catch(e){console.error("Error making model groups public:",e),j.default.fromBackend("Failed to make model groups public. Please try again.")}finally{C(!1)}};return(0,s.jsx)(o.Modal,{title:"Make Models Public",open:e,onCancel:S,footer:null,width:1200,maskClosable:!1,children:(0,s.jsxs)(x.Form,{form:w,layout:"vertical",children:[(0,s.jsxs)(m.Steps,{current:c,className:"mb-6",children:[(0,s.jsx)(_,{title:"Select Models"}),(0,s.jsx)(_,{title:"Confirm"})]}),(()=>{switch(c){case 0:let e,l;return e=N.length>0&&N.every(e=>f.has(e.model_group)),l=f.size>0&&!e,(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(p.Title,{children:"Select Models to Make Public"}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsxs)(u.Checkbox,{checked:e,indeterminate:l,onChange:e=>{e.target.checked?y(new Set(N.map(e=>e.model_group))):y(new Set)},disabled:0===N.length,children:["Select All ",N.length>0&&`(${N.length})`]})})]}),(0,s.jsx)(t.Text,{className:"text-sm text-gray-600",children:"Select the models you want to be visible on the public model hub. Users will still require a valid Virtual Key to use these models."}),(0,s.jsx)(T,{modelHubData:i,onFilteredDataChange:M,showFiltersCard:!1,className:"border rounded-lg p-4 bg-gray-50"}),(0,s.jsx)("div",{className:"max-h-96 overflow-y-auto border rounded-lg p-4",children:(0,s.jsx)("div",{className:"space-y-3",children:0===N.length?(0,s.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,s.jsx)(t.Text,{children:"No models match the current filters."})}):N.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-gray-50",children:[(0,s.jsx)(u.Checkbox,{checked:f.has(e.model_group),onChange:s=>{var l,a;let t;return l=e.model_group,a=s.target.checked,t=new Set(f),void(a?t.add(l):t.delete(l),y(t))}}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(t.Text,{className:"font-medium",children:e.model_group}),e.mode&&(0,s.jsx)(a.Badge,{color:"green",size:"sm",children:e.mode})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:e.providers.map(e=>(0,s.jsx)(a.Badge,{color:"blue",size:"xs",children:e},e))})]})]},e.model_group))})}),f.size>0&&(0,s.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,s.jsxs)(t.Text,{className:"text-sm text-blue-800",children:[(0,s.jsx)("strong",{children:f.size})," model",1!==f.size?"s":""," selected"]})})]});case 1:return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(p.Title,{children:"Confirm Making Models Public"}),(0,s.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,s.jsxs)(t.Text,{className:"text-sm text-yellow-800",children:[(0,s.jsx)("strong",{children:"Warning:"})," Once you make these models public, anyone who can go to the"," ",(0,s.jsx)("code",{children:"/ui/model_hub_table"})," will be able to know they exist on the proxy."]})}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Models to be made public:"}),(0,s.jsx)("div",{className:"max-h-48 overflow-y-auto border rounded-lg p-3",children:(0,s.jsx)("div",{className:"space-y-2",children:Array.from(f).map(e=>{let l=i.find(s=>s.model_group===e);return(0,s.jsx)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:e}),l&&(0,s.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:l.providers.map(e=>(0,s.jsx)(a.Badge,{color:"blue",size:"xs",children:e},e))})]})},e)})})})]}),(0,s.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,s.jsxs)(t.Text,{className:"text-sm text-blue-800",children:["Total: ",(0,s.jsx)("strong",{children:f.size})," model",1!==f.size?"s":""," will be made public"]})})]});default:return null}})(),(0,s.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,s.jsx)(h.Button,{onClick:0===c?S:()=>{1===c&&b(0)},children:0===c?"Cancel":"Previous"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[0===c&&(0,s.jsx)(h.Button,{onClick:()=>{if(0===c){if(0===f.size)return void j.default.fromBackend("Please select at least one model to make public");b(1)}},disabled:0===f.size,children:"Next"}),1===c&&(0,s.jsx)(h.Button,{onClick:P,loading:k,children:"Make Public"})]})]})]})})},C=e=>`$${(1e6*e).toFixed(2)}`,w=e=>e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString();var S=e.i(902555),M=e.i(708347),P=e.i(871943),B=e.i(502547),A=e.i(434626),z=e.i(250980),F=e.i(269200),O=e.i(942232),L=e.i(977572),D=e.i(427612),$=e.i(64848),K=e.i(496020),I=e.i(522016);let U=({accessToken:e,userRole:l})=>{let[a,r]=(0,d.useState)([]),[i,n]=(0,d.useState)({url:"",displayName:""}),[c,o]=(0,d.useState)(null),[x,m]=(0,d.useState)(!1),[h,u]=(0,d.useState)(!0),[b,f]=(0,d.useState)(!1),[y,N]=(0,d.useState)([]),T=async()=>{if(e)try{m(!0);let e=await (0,g.getPublicModelHubInfo)();if(e&&e.useful_links){let s=e.useful_links||{},l=Object.entries(s).map(([e,s])=>"object"==typeof s&&null!==s&&"url"in s?{id:`${s.index??0}-${e}`,displayName:e,url:s.url,index:s.index??0}:{id:`0-${e}`,displayName:e,url:s,index:0}).sort((e,s)=>(e.index??0)-(s.index??0)).map((e,s)=>({...e,id:`${s}-${e.displayName}`}));r(l)}else r([])}catch(e){console.error("Error fetching useful links:",e),r([])}finally{m(!1)}};if((0,d.useEffect)(()=>{T()},[e]),!(0,M.isAdminRole)(l||""))return null;let _=async s=>{if(!e)return!1;try{let l={};return s.forEach((e,s)=>{l[e.displayName]={url:e.url,index:s}}),await (0,g.updateUsefulLinksCall)(e,l),!0}catch(e){return console.error("Error saving links:",e),j.default.fromBackend(`Failed to save links - ${e}`),!1}},k=async()=>{if(!i.url||!i.displayName)return;try{new URL(i.url)}catch{j.default.fromBackend("Please enter a valid URL");return}if(a.some(e=>e.displayName===i.displayName))return void j.default.fromBackend("A link with this display name already exists");let e=[...a,{id:`${Date.now()}-${i.displayName}`,displayName:i.displayName,url:i.url}];await _(e)&&(r(e),n({url:"",displayName:""}),j.default.success("Link added successfully"))},C=async()=>{if(!c)return;try{new URL(c.url)}catch{j.default.fromBackend("Please enter a valid URL");return}if(a.some(e=>e.id!==c.id&&e.displayName===c.displayName))return void j.default.fromBackend("A link with this display name already exists");let e=a.map(e=>e.id===c.id?c:e);await _(e)&&(r(e),o(null),j.default.success("Link updated successfully"))},w=()=>{o(null)},U=async e=>{let s=a.filter(s=>s.id!==e);await _(s)&&(r(s),j.default.success("Link deleted successfully"))},E=async()=>{await _(a)&&(f(!1),N([]),j.default.success("Link order saved successfully"))};return(0,s.jsxs)(v.Card,{className:"mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>u(!h),children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)(p.Title,{className:"mb-0",children:"Link Management"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Manage the links that are displayed under 'Useful Links' on the public model hub."})]}),(0,s.jsx)("div",{className:"flex items-center",children:h?(0,s.jsx)(P.ChevronDownIcon,{className:"w-5 h-5 text-gray-500"}):(0,s.jsx)(B.ChevronRightIcon,{className:"w-5 h-5 text-gray-500"})})]}),h&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)(t.Text,{className:"text-sm font-medium text-gray-700 mb-2",children:"Add New Link"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Display Name"}),(0,s.jsx)("input",{type:"text",value:i.displayName,onChange:e=>n({...i,displayName:e.target.value}),placeholder:"Friendly name",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"URL"}),(0,s.jsx)("input",{type:"text",value:i.url,onChange:e=>n({...i,url:e.target.value}),placeholder:"https://example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}),(0,s.jsx)("div",{className:"flex items-end",children:(0,s.jsxs)("button",{onClick:k,disabled:!i.url||!i.displayName,className:`flex items-center px-4 py-2 rounded-md text-sm ${!i.url||!i.displayName?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:[(0,s.jsx)(z.PlusCircleIcon,{className:"w-4 h-4 mr-1"}),"Add Link"]})})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)(t.Text,{className:"text-sm font-medium text-gray-700",children:"Manage Existing Links"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)(I.default,{href:`${(0,g.getProxyBaseUrl)()}/ui/model_hub_table`,target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-blue-50 text-blue-600 px-3 py-1.5 rounded hover:bg-blue-100 flex items-center",title:"Open Public Model Hub",children:["Public Model Hub",(0,s.jsx)(A.ExternalLinkIcon,{className:"w-4 h-4 ml-1"})]}),b?(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:E,className:"text-xs bg-green-600 text-white px-3 py-1.5 rounded hover:bg-green-700",children:"Save Order"}),(0,s.jsx)("button",{onClick:()=>{r([...y]),f(!1),N([])},className:"text-xs bg-gray-50 text-gray-600 px-3 py-1.5 rounded hover:bg-gray-100",children:"Cancel"})]}):(0,s.jsx)("button",{onClick:()=>{c&&o(null),N([...a]),f(!0)},className:"text-xs bg-purple-50 text-purple-600 px-3 py-1.5 rounded hover:bg-purple-100 flex items-center",children:"Rearrange Order"})]})]}),(0,s.jsx)("div",{className:"rounded-lg custom-border relative",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)(F.Table,{className:"[&_td]:py-0.5 [&_th]:py-1",children:[(0,s.jsx)(D.TableHead,{children:(0,s.jsxs)(K.TableRow,{children:[(0,s.jsx)($.TableHeaderCell,{className:"py-1 h-8",children:"Display Name"}),(0,s.jsx)($.TableHeaderCell,{className:"py-1 h-8",children:"URL"}),(0,s.jsx)($.TableHeaderCell,{className:"py-1 h-8",children:"Actions"})]})}),(0,s.jsxs)(O.TableBody,{children:[a.map((e,l)=>(0,s.jsx)(K.TableRow,{className:"h-8",children:c&&c.id===e.id?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(L.TableCell,{className:"py-0.5",children:(0,s.jsx)("input",{type:"text",value:c.displayName,onChange:e=>o({...c,displayName:e.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm"})}),(0,s.jsx)(L.TableCell,{className:"py-0.5",children:(0,s.jsx)("input",{type:"text",value:c.url,onChange:e=>o({...c,url:e.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm"})}),(0,s.jsx)(L.TableCell,{className:"py-0.5 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:C,className:"text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded hover:bg-blue-100",children:"Save"}),(0,s.jsx)("button",{onClick:w,className:"text-xs bg-gray-50 text-gray-600 px-2 py-1 rounded hover:bg-gray-100",children:"Cancel"})]})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(L.TableCell,{className:"py-0.5 text-sm text-gray-900",children:e.displayName}),(0,s.jsx)(L.TableCell,{className:"py-0.5 text-sm text-gray-500",children:e.url}),(0,s.jsx)(L.TableCell,{className:"py-0.5 whitespace-nowrap",children:b?(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(S.default,{variant:"Up",onClick:()=>(e=>{if(0===e)return;let s=[...a];[s[e-1],s[e]]=[s[e],s[e-1]],r(s)})(l),tooltipText:"Move up",disabled:0===l,disabledTooltipText:"Already at the top",dataTestId:`move-up-${e.id}`}),(0,s.jsx)(S.default,{variant:"Down",onClick:()=>(e=>{if(e===a.length-1)return;let s=[...a];[s[e],s[e+1]]=[s[e+1],s[e]],r(s)})(l),tooltipText:"Move down",disabled:l===a.length-1,disabledTooltipText:"Already at the bottom",dataTestId:`move-down-${e.id}`})]}):(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(S.default,{variant:"Open",onClick:()=>{var s;return s=e.url,void window.open(s,"_blank")},tooltipText:"Open link",dataTestId:`open-link-${e.id}`}),(0,s.jsx)(S.default,{variant:"Edit",onClick:()=>{o({...e})},tooltipText:"Edit link",dataTestId:`edit-link-${e.id}`}),(0,s.jsx)(S.default,{variant:"Delete",onClick:()=>U(e.id),tooltipText:"Delete link",dataTestId:`delete-link-${e.id}`})]})})]})},e.id)),0===a.length&&(0,s.jsx)(K.TableRow,{children:(0,s.jsx)(L.TableCell,{colSpan:3,className:"py-0.5 text-sm text-gray-500 text-center",children:"No links added yet. Add a new link above."})})]})]})})})]})]})};var E=e.i(928685),R=e.i(197647),H=e.i(653824),V=e.i(881073),W=e.i(404206),q=e.i(723731),G=e.i(311451),Y=e.i(209261),J=e.i(798496);let Q=({publicPage:e=!1})=>{let[i,c]=(0,d.useState)(null),[o,x]=(0,d.useState)(!0),[m,h]=(0,d.useState)(""),[u,p]=(0,d.useState)(0);(0,d.useEffect)(()=>{b()},[]);let b=async()=>{x(!0);try{let e=await (0,g.getClaudeCodeMarketplace)();console.log("Claude Code marketplace:",e),c(e)}catch(e){console.error("Error fetching marketplace:",e)}finally{x(!1)}},f=e=>{navigator.clipboard.writeText(e),j.default.success("Copied to clipboard!")},y=(0,d.useMemo)(()=>i?(0,Y.extractCategories)(i.plugins):["All"],[i]),N=y[u]||"All",T=(0,d.useMemo)(()=>{if(!i)return[];let e=i.plugins;return e=(0,Y.filterPluginsByCategory)(e,N),e=(0,Y.filterPluginsBySearch)(e,m)},[i,N,m]),_=(0,d.useMemo)(()=>((e,i=!1)=>[{header:"Plugin Name",accessorKey:"name",enableSorting:!0,sortingFn:"alphanumeric",cell:({row:l})=>{let a=l.original,i=(0,Y.formatInstallCommand)(a);return(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(t.Text,{className:"font-medium text-sm",children:a.name}),(0,s.jsx)(r.Tooltip,{title:"Copy install command",children:(0,s.jsx)(n.CopyOutlined,{onClick:()=>e(i),className:"cursor-pointer text-gray-500 hover:text-blue-500 text-xs"})})]}),(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsx)(t.Text,{className:"text-xs text-gray-600",children:a.description||"No description"})})]})}},{header:"Description",accessorKey:"description",enableSorting:!0,sortingFn:"alphanumeric",cell:({row:e})=>{let l=e.original;return(0,s.jsx)(t.Text,{className:"text-xs line-clamp-2",children:l.description||"-"})},meta:{className:"hidden md:table-cell"}},{header:"Version",accessorKey:"version",enableSorting:!0,sortingFn:"alphanumeric",cell:({row:e})=>{let l=e.original;return l.version?(0,s.jsxs)(a.Badge,{color:"blue",size:"sm",children:["v",l.version]}):(0,s.jsx)(t.Text,{className:"text-xs text-gray-400",children:"-"})},meta:{className:"hidden lg:table-cell"}},{header:"Category",accessorKey:"category",enableSorting:!0,sortingFn:"alphanumeric",cell:({row:e})=>{let l=e.original,t=(0,Y.getCategoryBadgeColor)(l.category);return l.category?(0,s.jsx)(a.Badge,{color:t,size:"sm",children:l.category}):(0,s.jsx)(a.Badge,{color:"gray",size:"sm",children:"Uncategorized"})},meta:{className:"hidden lg:table-cell"}},{header:"Source",accessorKey:"source",enableSorting:!1,cell:({row:e})=>{let l=e.original,a=(0,Y.getSourceDisplayText)(l.source);return(0,s.jsx)(t.Text,{className:"text-xs text-gray-600",children:a})},meta:{className:"hidden xl:table-cell"}},{header:"Keywords",accessorKey:"keywords",enableSorting:!1,cell:({row:e})=>{let l=e.original,t=l.keywords?.slice(0,3)||[],r=(l.keywords?.length||0)-3;return(0,s.jsxs)("div",{className:"flex flex-wrap gap-1",children:[t.map((e,l)=>(0,s.jsx)(a.Badge,{color:"gray",size:"xs",children:e},l)),r>0&&(0,s.jsxs)(a.Badge,{color:"gray",size:"xs",children:["+",r]})]})},meta:{className:"hidden xl:table-cell"}},{header:"Install Command",id:"install_command",enableSorting:!1,cell:({row:a})=>{let t=a.original,i=(0,Y.formatInstallCommand)(t);return(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded font-mono truncate max-w-[200px]",children:i}),(0,s.jsx)(r.Tooltip,{title:"Copy command",children:(0,s.jsx)(l.Button,{size:"xs",variant:"secondary",icon:n.CopyOutlined,onClick:()=>e(i)})})]})}}])(f,e),[e]);return i||o?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"max-w-md",children:(0,s.jsx)(G.Input,{placeholder:"Search plugins by name, description, or keywords...",prefix:(0,s.jsx)(E.SearchOutlined,{className:"text-gray-400"}),value:m,onChange:e=>h(e.target.value),allowClear:!0,size:"large"})}),(0,s.jsxs)(H.TabGroup,{index:u,onIndexChange:p,children:[(0,s.jsx)(V.TabList,{className:"mb-4",children:y.map(e=>{let l=(0,Y.filterPluginsByCategory)(i?.plugins||[],e),a=(0,Y.filterPluginsBySearch)(l,m).length;return(0,s.jsxs)(R.Tab,{children:[e," ",a>0&&`(${a})`]},e)})}),(0,s.jsx)(q.TabPanels,{children:y.map(e=>(0,s.jsxs)(W.TabPanel,{children:[(0,s.jsx)(v.Card,{children:(0,s.jsx)(J.ModelDataTable,{columns:_,data:T,isLoading:o,defaultSorting:[{id:"name",desc:!1}]})}),(0,s.jsx)("div",{className:"mt-4 text-center space-y-2",children:(0,s.jsxs)(t.Text,{className:"text-sm text-gray-600",children:["Showing ",T.length," of"," ",i?.plugins.length||0," plugin",i?.plugins.length!==1?"s":"",m&&` matching "${m}"`,"All"!==N&&` in ${N}`]})})]},e))})]})]}):(0,s.jsx)(v.Card,{children:(0,s.jsx)("div",{className:"text-center p-12",children:(0,s.jsx)(t.Text,{className:"text-gray-500",children:"Failed to load marketplace. Please try again later."})})})};var X=e.i(976883),Z=e.i(174886),ee=e.i(618566),es=e.i(650056),el=e.i(292639),ea=e.i(161281),et=e.i(268004);e.s(["default",0,({accessToken:e,publicPage:x,premiumUser:m,userRole:h})=>{let u,b,[y,_]=(0,d.useState)(!1),[S,P]=(0,d.useState)(null),[B,A]=(0,d.useState)(!0),[z,F]=(0,d.useState)(!1),[O,L]=(0,d.useState)(!1),[D,$]=(0,d.useState)(null),[K,I]=(0,d.useState)([]),[E,G]=(0,d.useState)(!1),[Y,er]=(0,d.useState)(null),[ei,en]=(0,d.useState)(!1),[ec,ed]=(0,d.useState)(!0),[eo,ex]=(0,d.useState)(null),[em,eh]=(0,d.useState)(!1),[eu,ep]=(0,d.useState)(null),[eg,ej]=(0,d.useState)(!0),[eb,ef]=(0,d.useState)(null),[ey,eN]=(0,d.useState)(!1),[ev,eT]=(0,d.useState)(!1),e_=(0,ee.useRouter)(),{data:ek,isLoading:eC}=(0,el.useUISettings)();(0,d.useEffect)(()=>{if(!eC&&x&&!0===ek?.values?.require_auth_for_public_ai_hub){let e=(0,et.getCookie)("token");if(!(0,ea.checkTokenValidity)(e))return void e_.replace(`${(0,g.getProxyBaseUrl)()}/ui/login`)}},[eC,x,ek,e_]),(0,d.useEffect)(()=>{let s=async e=>{try{A(!0);let s=await (0,g.modelHubCall)(e);console.log("ModelHubData:",s),P(s.data),(0,g.getConfigFieldSetting)(e,"enable_public_model_hub").then(e=>{console.log(`data: ${JSON.stringify(e)}`),!0==e.field_value&&_(!0)}).catch(e=>{})}catch(e){console.error("There was an error fetching the model data",e)}finally{A(!1)}},l=async()=>{try{A(!0),await (0,g.getUiConfig)();let e=await (0,g.modelHubPublicModelsCall)();console.log("ModelHubData:",e),console.log("First model structure:",e[0]),console.log("Model has model_group?",e[0]?.model_group),console.log("Model has providers?",e[0]?.providers),P(e),_(!0)}catch(e){console.error("There was an error fetching the public model data",e)}finally{A(!1)}};e?s(e):x&&l()},[e,x]),(0,d.useEffect)(()=>{let s=async()=>{if(e)try{ed(!0);let s=await (0,g.getAgentsList)(e);console.log("AgentHubData:",s);let l=s.agents.map(e=>({agent_id:e.agent_id,...e.agent_card_params,is_public:e.litellm_params.is_public}));er(l)}catch(e){console.error("There was an error fetching the agent data",e)}finally{ed(!1)}};x||s()},[x,e]),(0,d.useEffect)(()=>{let s=async()=>{if(e)try{ej(!0);let s=await (0,g.fetchMCPServers)(e);console.log("MCPHubData:",s),ep(s)}catch(e){console.error("There was an error fetching the MCP server data",e)}finally{ej(!1)}};x||s()},[x,e]);let ew=()=>{F(!1),L(!1),$(null),eh(!1),ex(null),eN(!1),ef(null)},eS=()=>{F(!1),L(!1),$(null),eh(!1),ex(null),eN(!1),ef(null)},eM=e=>{navigator.clipboard.writeText(e),j.default.success("Copied to clipboard!")},eP=e=>`$${(1e6*e).toFixed(2)}`,eB=(0,d.useCallback)(e=>{I(e)},[]);return(console.log("publicPage: ",x),console.log("publicPageAllowed: ",y),x&&y)?(0,s.jsx)(X.default,{accessToken:e}):(0,s.jsxs)("div",{className:"w-full mx-4 h-[75vh]",children:[!1==x?(0,s.jsxs)("div",{className:"w-full m-2 mt-2 p-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsxs)("div",{className:"flex flex-col items-start",children:[(0,s.jsx)(p.Title,{className:"text-center",children:"AI Hub"}),(0,M.isAdminRole)(h||"")?(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Make models, agents, and MCP servers public for developers to know what's available."}):(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"A list of all public model names personally available to you."})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(t.Text,{children:"Model Hub URL:"}),(0,s.jsxs)("div",{className:"flex items-center bg-gray-200 px-2 py-1 rounded",children:[(0,s.jsx)(t.Text,{className:"mr-2",children:`${(0,g.getProxyBaseUrl)()}/ui/model_hub_table`}),(0,s.jsx)("button",{onClick:()=>eM(`${(0,g.getProxyBaseUrl)()}/ui/model_hub_table`),className:"p-1 hover:bg-gray-300 rounded transition-colors",title:"Copy URL",children:(0,s.jsx)(Z.Copy,{size:16,className:"text-gray-600"})})]})]})]}),(0,M.isAdminRole)(h||"")&&(0,s.jsx)("div",{className:"mt-8 mb-2",children:(0,s.jsx)(U,{accessToken:e,userRole:h})}),(0,s.jsxs)(H.TabGroup,{children:[(0,s.jsxs)(V.TabList,{className:"mb-4",children:[(0,s.jsx)(R.Tab,{children:"Model Hub"}),(0,s.jsx)(R.Tab,{children:"Agent Hub"}),(0,s.jsx)(R.Tab,{children:"MCP Hub"}),(0,s.jsx)(R.Tab,{children:"Claude Code Plugin Marketplace"})]}),(0,s.jsxs)(q.TabPanels,{children:[(0,s.jsxs)(W.TabPanel,{children:[(0,s.jsxs)(v.Card,{children:[!1==x&&(0,M.isAdminRole)(h||"")&&(0,s.jsx)("div",{className:"flex justify-end mb-4",children:(0,s.jsx)(l.Button,{onClick:()=>void(e&&G(!0)),children:"Select Models to Make Public"})}),(0,s.jsx)(T,{modelHubData:S||[],onFilteredDataChange:eB}),(0,s.jsx)(J.ModelDataTable,{columns:((e,d,o=!1)=>{let x=[{header:"Public Model Name",accessorKey:"model_group",enableSorting:!0,sortingFn:"alphanumeric",cell:({row:e})=>{let l=e.original;return(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(t.Text,{className:"font-medium text-sm",children:l.model_group}),(0,s.jsx)(r.Tooltip,{title:"Copy model name",children:(0,s.jsx)(n.CopyOutlined,{onClick:()=>d(l.model_group),className:"cursor-pointer text-gray-500 hover:text-blue-500 text-xs"})})]}),(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsx)(t.Text,{className:"text-xs text-gray-600",children:l.providers.join(", ")})})]})}},{header:"Provider",accessorKey:"providers",enableSorting:!0,sortingFn:(e,s)=>{let l=e.original.providers.join(", "),a=s.original.providers.join(", ");return l.localeCompare(a)},cell:({row:e})=>{let l=e.original;return(0,s.jsxs)("div",{className:"flex flex-wrap gap-1",children:[l.providers.slice(0,2).map(e=>(0,s.jsx)(i.Tag,{color:"blue",className:"text-xs",children:e},e)),l.providers.length>2&&(0,s.jsxs)(t.Text,{className:"text-xs text-gray-500",children:["+",l.providers.length-2]})]})},meta:{className:"hidden md:table-cell"}},{header:"Mode",accessorKey:"mode",enableSorting:!0,sortingFn:"alphanumeric",cell:({row:e})=>{let l=e.original;return l.mode?(0,s.jsx)(a.Badge,{color:"green",size:"sm",children:l.mode}):(0,s.jsx)(t.Text,{className:"text-gray-500",children:"-"})},meta:{className:"hidden lg:table-cell"}},{header:"Tokens",accessorKey:"max_input_tokens",enableSorting:!0,sortingFn:(e,s)=>(e.original.max_input_tokens||0)+(e.original.max_output_tokens||0)-((s.original.max_input_tokens||0)+(s.original.max_output_tokens||0)),cell:({row:e})=>{let l=e.original;return(0,s.jsx)("div",{className:"space-y-1",children:(0,s.jsxs)(t.Text,{className:"text-xs",children:[l.max_input_tokens?w(l.max_input_tokens):"-"," /"," ",l.max_output_tokens?w(l.max_output_tokens):"-"]})})},meta:{className:"hidden lg:table-cell"}},{header:"Cost/1M",accessorKey:"input_cost_per_token",enableSorting:!0,sortingFn:(e,s)=>(e.original.input_cost_per_token||0)+(e.original.output_cost_per_token||0)-((s.original.input_cost_per_token||0)+(s.original.output_cost_per_token||0)),cell:({row:e})=>{let l=e.original;return(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(t.Text,{className:"text-xs",children:l.input_cost_per_token?C(l.input_cost_per_token):"-"}),(0,s.jsx)(t.Text,{className:"text-xs text-gray-500",children:l.output_cost_per_token?C(l.output_cost_per_token):"-"})]})}},{header:"Features",accessorKey:"capabilities",enableSorting:!1,cell:({row:e})=>{let l=Object.entries(e.original).filter(([e,s])=>e.startsWith("supports_")&&!0===s).map(([e])=>e),r=["green","blue","purple","orange","red","yellow"];return(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:0===l.length?(0,s.jsx)(t.Text,{className:"text-gray-500 text-xs",children:"-"}):l.map((e,l)=>(0,s.jsx)(a.Badge,{color:r[l%r.length],size:"xs",children:e.replace(/^supports_/,"").split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")},e))})}},{header:"Public",accessorKey:"is_public_model_group",enableSorting:!0,sortingFn:(e,s)=>(!0===e.original.is_public_model_group)-(!0===s.original.is_public_model_group),cell:({row:e})=>!0===e.original.is_public_model_group?(0,s.jsx)(a.Badge,{color:"green",size:"xs",children:"Yes"}):(0,s.jsx)(a.Badge,{color:"gray",size:"xs",children:"No"}),meta:{className:"hidden md:table-cell"}},{header:"Details",id:"details",enableSorting:!1,cell:({row:a})=>{let t=a.original;return(0,s.jsxs)(l.Button,{size:"xs",variant:"secondary",onClick:()=>e(t),icon:c.InfoCircleOutlined,children:[(0,s.jsx)("span",{className:"hidden lg:inline",children:"Details"}),(0,s.jsx)("span",{className:"lg:hidden",children:"Info"})]})}}];return o?x.filter(e=>!("accessorKey"in e)||"is_public_model_group"!==e.accessorKey):x})(e=>{$(e),F(!0)},eM,x),data:K,isLoading:B,defaultSorting:[{id:"model_group",desc:!1}]})]}),(0,s.jsx)("div",{className:"mt-4 text-center space-y-2",children:(0,s.jsxs)(t.Text,{className:"text-sm text-gray-600",children:["Showing ",K.length," of ",S?.length||0," models"]})})]}),(0,s.jsxs)(W.TabPanel,{children:[(0,s.jsxs)(v.Card,{children:[!1==x&&(0,M.isAdminRole)(h||"")&&(0,s.jsx)("div",{className:"flex justify-end mb-4",children:(0,s.jsx)(l.Button,{onClick:()=>void(e&&en(!0)),children:"Select Agents to Make Public"})}),(0,s.jsx)(J.ModelDataTable,{columns:((e,d,o=!1)=>[{header:"Agent Name",accessorKey:"name",enableSorting:!0,sortingFn:"alphanumeric",cell:({row:e})=>{let l=e.original;return(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(t.Text,{className:"font-medium text-sm",children:l.name}),(0,s.jsx)(r.Tooltip,{title:"Copy agent name",children:(0,s.jsx)(n.CopyOutlined,{onClick:()=>d(l.name),className:"cursor-pointer text-gray-500 hover:text-blue-500 text-xs"})})]}),(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsx)(t.Text,{className:"text-xs text-gray-600",children:l.description})})]})}},{header:"Description",accessorKey:"description",enableSorting:!0,sortingFn:"alphanumeric",cell:({row:e})=>{let l=e.original;return(0,s.jsx)(t.Text,{className:"text-xs line-clamp-2",children:l.description||"-"})},meta:{className:"hidden md:table-cell"}},{header:"Version",accessorKey:"version",enableSorting:!0,sortingFn:"alphanumeric",cell:({row:e})=>{let l=e.original;return(0,s.jsxs)(a.Badge,{color:"blue",size:"sm",children:["v",l.version]})},meta:{className:"hidden lg:table-cell"}},{header:"Protocol",accessorKey:"protocolVersion",enableSorting:!0,sortingFn:"alphanumeric",cell:({row:e})=>{let l=e.original;return(0,s.jsx)(t.Text,{className:"text-xs",children:l.protocolVersion||"-"})},meta:{className:"hidden lg:table-cell"}},{header:"Skills",accessorKey:"skills",enableSorting:!1,cell:({row:e})=>{let l=e.original.skills||[];return(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)(t.Text,{className:"text-xs font-medium",children:[l.length," skill",1!==l.length?"s":""]}),l.length>0&&(0,s.jsxs)("div",{className:"flex flex-wrap gap-1",children:[l.slice(0,2).map(e=>(0,s.jsx)(i.Tag,{color:"purple",className:"text-xs",children:e.name},e.id)),l.length>2&&(0,s.jsxs)(t.Text,{className:"text-xs text-gray-500",children:["+",l.length-2]})]})]})}},{header:"Capabilities",accessorKey:"capabilities",enableSorting:!1,cell:({row:e})=>{let l=Object.entries(e.original.capabilities||{}).filter(([e,s])=>!0===s).map(([e])=>e);return(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:0===l.length?(0,s.jsx)(t.Text,{className:"text-gray-500 text-xs",children:"-"}):l.map(e=>(0,s.jsx)(a.Badge,{color:"green",size:"xs",children:e},e))})}},{header:"I/O Modes",accessorKey:"defaultInputModes",enableSorting:!1,cell:({row:e})=>{let l=e.original,a=l.defaultInputModes||[],r=l.defaultOutputModes||[];return(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)(t.Text,{className:"text-xs",children:[(0,s.jsx)("span",{className:"font-medium",children:"In:"})," ",a.join(", ")||"-"]}),(0,s.jsxs)(t.Text,{className:"text-xs",children:[(0,s.jsx)("span",{className:"font-medium",children:"Out:"})," ",r.join(", ")||"-"]})]})},meta:{className:"hidden xl:table-cell"}},{header:"Public",accessorKey:"is_public",enableSorting:!0,sortingFn:(e,s)=>(!0===e.original.is_public)-(!0===s.original.is_public),cell:({row:e})=>(console.log(`CHECKPOINT 1: ${JSON.stringify(e.original)}`),!0===e.original.is_public?(0,s.jsx)(a.Badge,{color:"green",size:"xs",children:"Yes"}):(0,s.jsx)(a.Badge,{color:"gray",size:"xs",children:"No"})),meta:{className:"hidden md:table-cell"}},{header:"Details",id:"details",enableSorting:!1,cell:({row:a})=>{let t=a.original;return(0,s.jsxs)(l.Button,{size:"xs",variant:"secondary",onClick:()=>e(t),icon:c.InfoCircleOutlined,children:[(0,s.jsx)("span",{className:"hidden lg:inline",children:"Details"}),(0,s.jsx)("span",{className:"lg:hidden",children:"Info"})]})}}])(e=>{ex(e),eh(!0)},eM,x),data:Y||[],isLoading:ec,defaultSorting:[{id:"name",desc:!1}]})]}),(0,s.jsx)("div",{className:"mt-4 text-center space-y-2",children:(0,s.jsxs)(t.Text,{className:"text-sm text-gray-600",children:["Showing ",Y?.length||0," agent",Y?.length!==1?"s":""]})})]}),(0,s.jsxs)(W.TabPanel,{children:[(0,s.jsxs)(v.Card,{children:[!1==x&&(0,M.isAdminRole)(h||"")&&(0,s.jsx)("div",{className:"flex justify-end mb-4",children:(0,s.jsx)(l.Button,{onClick:()=>void(e&&eT(!0)),children:"Select MCP Servers to Make Public"})}),(0,s.jsx)(J.ModelDataTable,{columns:((e,d,o=!1)=>[{header:"Server Name",accessorKey:"server_name",enableSorting:!0,sortingFn:"alphanumeric",cell:({row:e})=>{let l=e.original;return(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(t.Text,{className:"font-medium text-sm",children:l.server_name}),(0,s.jsx)(r.Tooltip,{title:"Copy server name",children:(0,s.jsx)(n.CopyOutlined,{onClick:()=>d(l.server_name),className:"cursor-pointer text-gray-500 hover:text-blue-500 text-xs"})})]}),(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsx)(t.Text,{className:"text-xs text-gray-600",children:l.description||"-"})})]})}},{header:"Description",accessorKey:"description",enableSorting:!0,sortingFn:"alphanumeric",cell:({row:e})=>{let l=e.original;return(0,s.jsx)(t.Text,{className:"text-xs line-clamp-2",children:l.description||"-"})},meta:{className:"hidden md:table-cell"}},{header:"URL",accessorKey:"url",enableSorting:!0,sortingFn:"alphanumeric",cell:({row:e})=>{let l=e.original;return(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(t.Text,{className:"text-xs truncate max-w-xs",children:l.url}),(0,s.jsx)(r.Tooltip,{title:"Copy URL",children:(0,s.jsx)(n.CopyOutlined,{onClick:()=>d(l.url),className:"cursor-pointer text-gray-500 hover:text-blue-500 text-xs flex-shrink-0"})})]})},meta:{className:"hidden lg:table-cell"}},{header:"Transport",accessorKey:"transport",enableSorting:!0,sortingFn:"alphanumeric",cell:({row:e})=>{let l=e.original;return(0,s.jsx)(a.Badge,{color:"blue",size:"sm",children:l.transport})},meta:{className:"hidden md:table-cell"}},{header:"Auth Type",accessorKey:"auth_type",enableSorting:!0,sortingFn:"alphanumeric",cell:({row:e})=>{let l=e.original,t="none"===l.auth_type?"gray":"green";return(0,s.jsx)(a.Badge,{color:t,size:"sm",children:l.auth_type})},meta:{className:"hidden md:table-cell"}},{header:"Status",accessorKey:"status",enableSorting:!0,sortingFn:"alphanumeric",cell:({row:e})=>{let l=e.original,t={active:"green",inactive:"red",unknown:"gray",healthy:"green",unhealthy:"red"}[l.status]||"gray";return(0,s.jsx)(a.Badge,{color:t,size:"sm",children:l.status||"unknown"})}},{header:"Tools",accessorKey:"allowed_tools",enableSorting:!1,cell:({row:e})=>{let l=e.original.allowed_tools||[];return(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(t.Text,{className:"text-xs font-medium",children:l.length>0?`${l.length} tool${1!==l.length?"s":""}`:"All tools"}),l.length>0&&(0,s.jsxs)("div",{className:"flex flex-wrap gap-1",children:[l.slice(0,2).map((e,l)=>(0,s.jsx)(i.Tag,{color:"purple",className:"text-xs",children:e},l)),l.length>2&&(0,s.jsxs)(t.Text,{className:"text-xs text-gray-500",children:["+",l.length-2]})]})]})},meta:{className:"hidden lg:table-cell"}},{header:"Created By",accessorKey:"created_by",enableSorting:!0,sortingFn:"alphanumeric",cell:({row:e})=>{let l=e.original;return(0,s.jsx)(t.Text,{className:"text-xs",children:l.created_by||"-"})},meta:{className:"hidden xl:table-cell"}},{header:"Public",accessorKey:"mcp_info.is_public",enableSorting:!0,sortingFn:(e,s)=>(e.original.mcp_info?.is_public===!0)-(s.original.mcp_info?.is_public===!0),cell:({row:e})=>{let l=e.original;return l.mcp_info?.is_public===!0?(0,s.jsx)(a.Badge,{color:"green",size:"xs",children:"Yes"}):(0,s.jsx)(a.Badge,{color:"gray",size:"xs",children:"No"})},meta:{className:"hidden md:table-cell"}},{header:"Details",id:"details",enableSorting:!1,cell:({row:a})=>{let t=a.original;return(0,s.jsxs)(l.Button,{size:"xs",variant:"secondary",onClick:()=>e(t),icon:c.InfoCircleOutlined,children:[(0,s.jsx)("span",{className:"hidden lg:inline",children:"Details"}),(0,s.jsx)("span",{className:"lg:hidden",children:"Info"})]})}}])(e=>{ef(e),eN(!0)},eM,x),data:eu||[],isLoading:eg,defaultSorting:[{id:"server_name",desc:!1}]})]}),(0,s.jsx)("div",{className:"mt-4 text-center space-y-2",children:(0,s.jsxs)(t.Text,{className:"text-sm text-gray-600",children:["Showing ",eu?.length||0," MCP server",eu?.length!==1?"s":""]})})]}),(0,s.jsx)(W.TabPanel,{children:(0,s.jsx)(Q,{publicPage:x})})]})]})]}):(0,s.jsxs)(v.Card,{className:"mx-auto max-w-xl mt-10",children:[(0,s.jsx)(t.Text,{className:"text-xl text-center mb-2 text-black",children:"Public Model Hub not enabled."}),(0,s.jsx)("p",{className:"text-base text-center text-slate-800",children:"Ask your proxy admin to enable this on their Admin UI."})]}),(0,s.jsx)(o.Modal,{title:"Public Model Hub",width:600,open:O,footer:null,onOk:ew,onCancel:eS,children:(0,s.jsxs)("div",{className:"pt-5 pb-5",children:[(0,s.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,s.jsx)(t.Text,{className:"text-base mr-2",children:"Shareable Link:"}),(0,s.jsx)(t.Text,{className:"max-w-sm ml-2 bg-gray-200 pr-2 pl-2 pt-1 pb-1 text-center rounded",children:`${(0,g.getProxyBaseUrl)()}/ui/model_hub_table`})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(l.Button,{onClick:()=>{e_.replace(`/model_hub_table?key=${e}`)},children:"See Page"})})]})}),(0,s.jsx)(o.Modal,{title:D?.model_group||"Model Details",width:1e3,open:z,footer:null,onOk:ew,onCancel:eS,children:D&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"text-lg font-semibold mb-4",children:"Model Overview"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Model Group:"}),(0,s.jsx)(t.Text,{children:D.model_group})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Mode:"}),(0,s.jsx)(t.Text,{children:D.mode||"Not specified"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Providers:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:D.providers.map(e=>(0,s.jsx)(a.Badge,{color:"blue",children:e},e))})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"text-lg font-semibold mb-4",children:"Token & Cost Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Max Input Tokens:"}),(0,s.jsx)(t.Text,{children:D.max_input_tokens?.toLocaleString()||"Not specified"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Max Output Tokens:"}),(0,s.jsx)(t.Text,{children:D.max_output_tokens?.toLocaleString()||"Not specified"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Input Cost per 1M Tokens:"}),(0,s.jsx)(t.Text,{children:D.input_cost_per_token?eP(D.input_cost_per_token):"Not specified"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Output Cost per 1M Tokens:"}),(0,s.jsx)(t.Text,{children:D.output_cost_per_token?eP(D.output_cost_per_token):"Not specified"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"text-lg font-semibold mb-4",children:"Capabilities"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:(u=Object.entries(D).filter(([e,s])=>e.startsWith("supports_")&&!0===s).map(([e])=>e),b=["green","blue","purple","orange","red","yellow"],0===u.length?(0,s.jsx)(t.Text,{className:"text-gray-500",children:"No special capabilities listed"}):u.map((e,l)=>(0,s.jsx)(a.Badge,{color:b[l%b.length],children:e.replace(/^supports_/,"").split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")},e)))})]}),(D.tpm||D.rpm)&&(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"text-lg font-semibold mb-4",children:"Rate Limits"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[D.tpm&&(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Tokens per Minute:"}),(0,s.jsx)(t.Text,{children:D.tpm.toLocaleString()})]}),D.rpm&&(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Requests per Minute:"}),(0,s.jsx)(t.Text,{children:D.rpm.toLocaleString()})]})]})]}),D.supported_openai_params&&(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"text-lg font-semibold mb-4",children:"Supported OpenAI Parameters"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:D.supported_openai_params.map(e=>(0,s.jsx)(a.Badge,{color:"green",children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"text-lg font-semibold mb-4",children:"Usage Example"}),(0,s.jsx)(es.Prism,{language:"python",className:"text-sm",children:`import openai

client = openai.OpenAI(
    api_key="your_api_key",
    base_url="http://0.0.0.0:4000"  # Your LiteLLM Proxy URL
)

response = client.chat.completions.create(
    model="${D.model_group}",
    messages=[
        {
            "role": "user",
            "content": "Hello, how are you?"
        }
    ]
)

print(response.choices[0].message.content)`})]})]})}),(0,s.jsx)(o.Modal,{title:eo?.name||"Agent Details",width:1e3,open:em,footer:null,onOk:ew,onCancel:eS,children:eo&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"text-lg font-semibold mb-4",children:"Agent Overview"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Name:"}),(0,s.jsx)(t.Text,{children:eo.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Version:"}),(0,s.jsxs)(a.Badge,{color:"blue",children:["v",eo.version]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Protocol Version:"}),(0,s.jsx)(t.Text,{children:eo.protocolVersion})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"URL:"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(t.Text,{className:"truncate",children:eo.url}),(0,s.jsx)(n.CopyOutlined,{onClick:()=>eM(eo.url),className:"cursor-pointer text-gray-500 hover:text-blue-500"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Description:"}),(0,s.jsx)(t.Text,{className:"mt-1",children:eo.description})]})]}),eo.capabilities&&Object.keys(eo.capabilities).length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"text-lg font-semibold mb-4",children:"Capabilities"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(eo.capabilities).filter(([e,s])=>!0===s).map(([e])=>(0,s.jsx)(a.Badge,{color:"green",children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"text-lg font-semibold mb-4",children:"Input/Output Modes"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Input Modes:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:eo.defaultInputModes?.map(e=>(0,s.jsx)(a.Badge,{color:"blue",children:e},e))||(0,s.jsx)(t.Text,{children:"Not specified"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Output Modes:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:eo.defaultOutputModes?.map(e=>(0,s.jsx)(a.Badge,{color:"purple",children:e},e))||(0,s.jsx)(t.Text,{children:"Not specified"})})]})]})]}),eo.skills&&eo.skills.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"text-lg font-semibold mb-4",children:"Skills"}),(0,s.jsx)("div",{className:"space-y-4",children:eo.skills.map(e=>(0,s.jsxs)("div",{className:"border border-gray-200 rounded p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium text-base",children:e.name}),(0,s.jsxs)(t.Text,{className:"text-xs text-gray-500",children:["ID: ",e.id]})]}),e.tags&&e.tags.length>0&&(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:e.tags.map(e=>(0,s.jsx)(a.Badge,{color:"purple",size:"xs",children:e},e))})]}),(0,s.jsx)(t.Text,{className:"text-sm mb-2",children:e.description}),e.examples&&e.examples.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"text-xs font-medium text-gray-700",children:"Examples:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:e.examples.map((e,l)=>(0,s.jsx)(a.Badge,{color:"gray",size:"xs",children:e},l))})]})]},e.id))})]}),eo.supportsAuthenticatedExtendedCard&&(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"text-lg font-semibold mb-4",children:"Additional Features"}),(0,s.jsx)(a.Badge,{color:"green",children:"Supports Authenticated Extended Card"})]})]})}),(0,s.jsx)(o.Modal,{title:eb?.server_name||"MCP Server Details",width:1e3,open:ey,footer:null,onOk:ew,onCancel:eS,children:eb&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"text-lg font-semibold mb-4",children:"Server Overview"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Server Name:"}),(0,s.jsx)(t.Text,{children:eb.server_name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Server ID:"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(t.Text,{className:"text-xs truncate",children:eb.server_id}),(0,s.jsx)(n.CopyOutlined,{onClick:()=>eM(eb.server_id),className:"cursor-pointer text-gray-500 hover:text-blue-500"})]})]}),eb.alias&&(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Alias:"}),(0,s.jsx)(t.Text,{children:eb.alias})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Transport:"}),(0,s.jsx)(a.Badge,{color:"blue",children:eb.transport})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Auth Type:"}),(0,s.jsx)(a.Badge,{color:"none"===eb.auth_type?"gray":"green",children:eb.auth_type})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Status:"}),(0,s.jsx)(a.Badge,{color:"active"===eb.status||"healthy"===eb.status?"green":"inactive"===eb.status||"unhealthy"===eb.status?"red":"gray",children:eb.status||"unknown"})]})]}),eb.description&&(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Description:"}),(0,s.jsx)(t.Text,{className:"mt-1",children:eb.description})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"text-lg font-semibold mb-4",children:"Connection Details"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"URL:"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,s.jsx)(t.Text,{className:"text-sm break-all bg-gray-100 p-2 rounded flex-1",children:eb.url}),(0,s.jsx)(n.CopyOutlined,{onClick:()=>eM(eb.url),className:"cursor-pointer text-gray-500 hover:text-blue-500 flex-shrink-0"})]})]}),eb.command&&(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Command:"}),(0,s.jsx)(t.Text,{className:"text-sm bg-gray-100 p-2 rounded mt-1 font-mono",children:eb.command})]})]})]}),eb.allowed_tools&&eb.allowed_tools.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"text-lg font-semibold mb-4",children:"Allowed Tools"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:eb.allowed_tools.map((e,l)=>(0,s.jsx)(a.Badge,{color:"purple",children:e},l))})]}),eb.teams&&eb.teams.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"text-lg font-semibold mb-4",children:"Teams"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:eb.teams.map((e,l)=>(0,s.jsx)(a.Badge,{color:"blue",children:e},l))})]}),eb.mcp_access_groups&&eb.mcp_access_groups.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"text-lg font-semibold mb-4",children:"Access Groups"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:eb.mcp_access_groups.map((e,l)=>(0,s.jsx)(a.Badge,{color:"green",children:e},l))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"text-lg font-semibold mb-4",children:"Metadata"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Created By:"}),(0,s.jsx)(t.Text,{children:eb.created_by})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Updated By:"}),(0,s.jsx)(t.Text,{children:eb.updated_by})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Created At:"}),(0,s.jsx)(t.Text,{className:"text-sm",children:new Date(eb.created_at).toLocaleString()})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Updated At:"}),(0,s.jsx)(t.Text,{className:"text-sm",children:new Date(eb.updated_at).toLocaleString()})]}),eb.last_health_check&&(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"font-medium",children:"Last Health Check:"}),(0,s.jsx)(t.Text,{className:"text-sm",children:new Date(eb.last_health_check).toLocaleString()})]})]}),eb.health_check_error&&(0,s.jsxs)("div",{className:"mt-2 p-2 bg-red-50 rounded",children:[(0,s.jsx)(t.Text,{className:"font-medium text-red-700",children:"Health Check Error:"}),(0,s.jsx)(t.Text,{className:"text-sm text-red-600 mt-1",children:eb.health_check_error})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.Text,{className:"text-lg font-semibold mb-4",children:"Usage Example"}),(0,s.jsx)(es.Prism,{language:"python",className:"text-sm",children:`from fastmcp import Client
import asyncio

# Standard MCP configuration
config = {
    "mcpServers": {
        "${eb.server_name}": {
            "url": "http://localhost:4000/${eb.server_name}/mcp",
            "headers": {
                "x-litellm-api-key": "Bearer sk-1234"
            }
        }
    }
}

# Create a client that connects to the server
client = Client(config)

async def main():
    async with client:
        # List available tools
        tools = await client.list_tools()
        print(f"Available tools: {[tool.name for tool in tools]}")

        # Call a tool
        response = await client.call_tool(
            name="tool_name", 
            arguments={"arg": "value"}
        )
        print(f"Response: {response}")

if __name__ == "__main__":
    asyncio.run(main())`})]})]})}),(0,s.jsx)(k,{visible:E,onClose:()=>G(!1),accessToken:e||"",modelHubData:S||[],onSuccess:()=>{e&&(async()=>{try{let s=await (0,g.modelHubCall)(e);P(s.data)}catch(e){console.error("Error refreshing model data:",e)}})()}}),(0,s.jsx)(f,{visible:ei,onClose:()=>en(!1),accessToken:e||"",agentHubData:Y||[],onSuccess:()=>{e&&(async()=>{try{let s=(await (0,g.getAgentsList)(e)).agents.map(e=>({agent_id:e.agent_id,...e.agent_card_params,is_public:e.is_public}));er(s)}catch(e){console.error("Error refreshing agent data:",e)}})()}}),(0,s.jsx)(N,{visible:ev,onClose:()=>eT(!1),accessToken:e||"",mcpHubData:eu||[],onSuccess:()=>{e&&(async()=>{try{let s=await (0,g.fetchMCPServers)(e);ep(s)}catch(e){console.error("Error refreshing MCP server data:",e)}})()}})]})}],934879)}]);