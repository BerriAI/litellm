(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,846835,e=>{"use strict";var l=e.i(843476),a=e.i(655913),t=e.i(38419),s=e.i(78334),r=e.i(555436),i=e.i(284614);let n=({filters:e,showFilters:n,onToggleFilters:o,onChange:d,onReset:c})=>{let m=!!(e.org_id||e.org_alias);return(0,l.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,l.jsx)(a.FilterInput,{placeholder:"Search by Organization Name",value:e.org_alias,onChange:e=>d("org_alias",e),icon:r.Search,className:"w-64"}),(0,l.jsx)(t.FiltersButton,{onClick:()=>o(!n),active:n,hasActiveFilters:m}),(0,l.jsx)(s.ResetFiltersButton,{onClick:c})]}),n&&(0,l.jsx)("div",{className:"flex flex-wrap items-center gap-3 mt-3",children:(0,l.jsx)(a.FilterInput,{placeholder:"Search by Organization ID",value:e.org_id,onChange:e=>d("org_id",e),icon:i.User,className:"w-64"})})]})};var o=e.i(827252),d=e.i(871943),c=e.i(502547),m=e.i(278587),u=e.i(389083),x=e.i(994388),g=e.i(304967),h=e.i(309426),b=e.i(350967),p=e.i(752978),j=e.i(197647),f=e.i(653824),v=e.i(269200),y=e.i(942232),_=e.i(977572),C=e.i(427612),w=e.i(64848),N=e.i(496020),T=e.i(881073),S=e.i(404206),O=e.i(723731),z=e.i(599724),k=e.i(779241),I=e.i(808613),M=e.i(311451),$=e.i(212931),F=e.i(199133),E=e.i(592968),A=e.i(271645),B=e.i(500330),P=e.i(127952),D=e.i(902555),R=e.i(355619),L=e.i(75921),H=e.i(162386),U=e.i(727749),q=e.i(764205),V=e.i(785242),K=e.i(980187),W=e.i(530212),Q=e.i(591935),G=e.i(68155),Z=e.i(629569),J=e.i(464571),Y=e.i(678784),X=e.i(118366),ee=e.i(907308),el=e.i(384767),ea=e.i(435451),et=e.i(276173),es=e.i(916940);let er=({organizationId:e,onClose:a,accessToken:t,is_org_admin:s,is_proxy_admin:r,userModels:i,editOrg:n})=>{let[o,d]=(0,A.useState)(null),[c,m]=(0,A.useState)(!0),[h]=I.Form.useForm(),[$,E]=(0,A.useState)(!1),[P,D]=(0,A.useState)(!1),[R,er]=(0,A.useState)(!1),[ei,en]=(0,A.useState)(null),[eo,ed]=(0,A.useState)({}),[ec,em]=(0,A.useState)(!1),eu=s||r,{data:ex}=(0,V.useTeams)(),eg=(0,A.useMemo)(()=>(0,K.createTeamAliasMap)(ex),[ex]),eh=async()=>{try{if(m(!0),!t)return;let l=await (0,q.organizationInfoCall)(t,e);d(l)}catch(e){U.default.fromBackend("Failed to load organization information"),console.error("Error fetching organization info:",e)}finally{m(!1)}};(0,A.useEffect)(()=>{eh()},[e,t]);let eb=async l=>{try{if(null==t)return;let a={user_email:l.user_email,user_id:l.user_id,role:l.role};await (0,q.organizationMemberAddCall)(t,e,a),U.default.success("Organization member added successfully"),D(!1),h.resetFields(),eh()}catch(e){U.default.fromBackend("Failed to add organization member"),console.error("Error adding organization member:",e)}},ep=async l=>{try{if(!t)return;let a={user_email:l.user_email,user_id:l.user_id,role:l.role};await (0,q.organizationMemberUpdateCall)(t,e,a),U.default.success("Organization member updated successfully"),er(!1),h.resetFields(),eh()}catch(e){U.default.fromBackend("Failed to update organization member"),console.error("Error updating organization member:",e)}},ej=async l=>{try{if(!t)return;await (0,q.organizationMemberDeleteCall)(t,e,l.user_id),U.default.success("Organization member deleted successfully"),er(!1),h.resetFields(),eh()}catch(e){U.default.fromBackend("Failed to delete organization member"),console.error("Error deleting organization member:",e)}},ef=async l=>{try{if(!t)return;em(!0);let a={organization_id:e,organization_alias:l.organization_alias,models:l.models,litellm_budget_table:{tpm_limit:l.tpm_limit,rpm_limit:l.rpm_limit,max_budget:l.max_budget,budget_duration:l.budget_duration},metadata:l.metadata?JSON.parse(l.metadata):null};if((void 0!==l.vector_stores||void 0!==l.mcp_servers_and_groups)&&(a.object_permission={...o?.object_permission,vector_stores:l.vector_stores||[]},void 0!==l.mcp_servers_and_groups)){let{servers:e,accessGroups:t}=l.mcp_servers_and_groups||{servers:[],accessGroups:[]};e&&e.length>0&&(a.object_permission.mcp_servers=e),t&&t.length>0&&(a.object_permission.mcp_access_groups=t)}await (0,q.organizationUpdateCall)(t,a),U.default.success("Organization settings updated successfully"),E(!1),eh()}catch(e){U.default.fromBackend("Failed to update organization settings"),console.error("Error updating organization:",e)}finally{em(!1)}};if(c)return(0,l.jsx)("div",{className:"p-4",children:"Loading..."});if(!o)return(0,l.jsx)("div",{className:"p-4",children:"Organization not found"});let ev=async(e,l)=>{await (0,B.copyToClipboard)(e)&&(ed(e=>({...e,[l]:!0})),setTimeout(()=>{ed(e=>({...e,[l]:!1}))},2e3))};return(0,l.jsxs)("div",{className:"w-full h-screen p-4 bg-white",children:[(0,l.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,l.jsxs)("div",{children:[(0,l.jsx)(x.Button,{icon:W.ArrowLeftIcon,onClick:a,variant:"light",className:"mb-4",children:"Back to Organizations"}),(0,l.jsx)(Z.Title,{children:o.organization_alias}),(0,l.jsxs)("div",{className:"flex items-center cursor-pointer",children:[(0,l.jsx)(z.Text,{className:"text-gray-500 font-mono",children:o.organization_id}),(0,l.jsx)(J.Button,{type:"text",size:"small",icon:eo["org-id"]?(0,l.jsx)(Y.CheckIcon,{size:12}):(0,l.jsx)(X.CopyIcon,{size:12}),onClick:()=>ev(o.organization_id,"org-id"),className:`left-2 z-10 transition-all duration-200 ${eo["org-id"]?"text-green-600 bg-green-50 border-green-200":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`})]})]})}),(0,l.jsxs)(f.TabGroup,{defaultIndex:2*!!n,children:[(0,l.jsxs)(T.TabList,{className:"mb-4",children:[(0,l.jsx)(j.Tab,{children:"Overview"}),(0,l.jsx)(j.Tab,{children:"Members"}),(0,l.jsx)(j.Tab,{children:"Settings"})]}),(0,l.jsxs)(O.TabPanels,{children:[(0,l.jsx)(S.TabPanel,{children:(0,l.jsxs)(b.Grid,{numItems:1,numItemsSm:2,numItemsLg:3,className:"gap-6",children:[(0,l.jsxs)(g.Card,{children:[(0,l.jsx)(z.Text,{children:"Organization Details"}),(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsxs)(z.Text,{children:["Created: ",new Date(o.created_at).toLocaleDateString()]}),(0,l.jsxs)(z.Text,{children:["Updated: ",new Date(o.updated_at).toLocaleDateString()]}),(0,l.jsxs)(z.Text,{children:["Created By: ",o.created_by]})]})]}),(0,l.jsxs)(g.Card,{children:[(0,l.jsx)(z.Text,{children:"Budget Status"}),(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsxs)(Z.Title,{children:["$",(0,B.formatNumberWithCommas)(o.spend,4)]}),(0,l.jsxs)(z.Text,{children:["of"," ",null===o.litellm_budget_table.max_budget?"Unlimited":`$${(0,B.formatNumberWithCommas)(o.litellm_budget_table.max_budget,4)}`]}),o.litellm_budget_table.budget_duration&&(0,l.jsxs)(z.Text,{className:"text-gray-500",children:["Reset: ",o.litellm_budget_table.budget_duration]})]})]}),(0,l.jsxs)(g.Card,{children:[(0,l.jsx)(z.Text,{children:"Rate Limits"}),(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsxs)(z.Text,{children:["TPM: ",o.litellm_budget_table.tpm_limit||"Unlimited"]}),(0,l.jsxs)(z.Text,{children:["RPM: ",o.litellm_budget_table.rpm_limit||"Unlimited"]}),o.litellm_budget_table.max_parallel_requests&&(0,l.jsxs)(z.Text,{children:["Max Parallel Requests: ",o.litellm_budget_table.max_parallel_requests]})]})]}),(0,l.jsxs)(g.Card,{children:[(0,l.jsx)(z.Text,{children:"Models"}),(0,l.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:0===o.models.length?(0,l.jsx)(u.Badge,{color:"red",children:"All proxy models"}):o.models.map((e,a)=>(0,l.jsx)(u.Badge,{color:"red",children:e},a))})]}),(0,l.jsxs)(g.Card,{children:[(0,l.jsx)(z.Text,{children:"Teams"}),(0,l.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:o.teams?.map((e,a)=>(0,l.jsx)(u.Badge,{color:"red",children:eg[e.team_id]||e.team_id},a))})]}),(0,l.jsx)(el.default,{objectPermission:o.object_permission,variant:"card",accessToken:t})]})}),(0,l.jsx)(S.TabPanel,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)(g.Card,{className:"w-full mx-auto flex-auto overflow-y-auto max-h-[75vh]",children:(0,l.jsxs)(v.Table,{children:[(0,l.jsx)(C.TableHead,{children:(0,l.jsxs)(N.TableRow,{children:[(0,l.jsx)(w.TableHeaderCell,{children:"User ID"}),(0,l.jsx)(w.TableHeaderCell,{children:"Role"}),(0,l.jsx)(w.TableHeaderCell,{children:"Spend"}),(0,l.jsx)(w.TableHeaderCell,{children:"Created At"}),(0,l.jsx)(w.TableHeaderCell,{})]})}),(0,l.jsx)(y.TableBody,{children:o.members&&o.members.length>0?o.members.map((e,a)=>(0,l.jsxs)(N.TableRow,{children:[(0,l.jsx)(_.TableCell,{children:(0,l.jsx)(z.Text,{className:"font-mono",children:e.user_id})}),(0,l.jsx)(_.TableCell,{children:(0,l.jsx)(z.Text,{className:"font-mono",children:e.user_role})}),(0,l.jsx)(_.TableCell,{children:(0,l.jsxs)(z.Text,{children:["$",(0,B.formatNumberWithCommas)(e.spend,4)]})}),(0,l.jsx)(_.TableCell,{children:(0,l.jsx)(z.Text,{children:new Date(e.created_at).toLocaleString()})}),(0,l.jsx)(_.TableCell,{children:eu&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(p.Icon,{icon:Q.PencilAltIcon,size:"sm",onClick:()=>{en({role:e.user_role,user_email:e.user_email,user_id:e.user_id}),er(!0)}}),(0,l.jsx)(p.Icon,{icon:G.TrashIcon,size:"sm",onClick:()=>{ej(e)}})]})})]},a)):(0,l.jsx)(N.TableRow,{children:(0,l.jsx)(_.TableCell,{colSpan:5,className:"text-center py-8",children:(0,l.jsx)(z.Text,{className:"text-gray-500",children:"No members found"})})})})]})}),eu&&(0,l.jsx)(x.Button,{onClick:()=>{D(!0)},children:"Add Member"})]})}),(0,l.jsx)(S.TabPanel,{children:(0,l.jsxs)(g.Card,{className:"overflow-y-auto max-h-[65vh]",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)(Z.Title,{children:"Organization Settings"}),eu&&!$&&(0,l.jsx)(x.Button,{onClick:()=>E(!0),children:"Edit Settings"})]}),$?(0,l.jsxs)(I.Form,{form:h,onFinish:ef,initialValues:{organization_alias:o.organization_alias,models:o.models,tpm_limit:o.litellm_budget_table.tpm_limit,rpm_limit:o.litellm_budget_table.rpm_limit,max_budget:o.litellm_budget_table.max_budget,budget_duration:o.litellm_budget_table.budget_duration,metadata:o.metadata?JSON.stringify(o.metadata,null,2):"",vector_stores:o.object_permission?.vector_stores||[],mcp_servers_and_groups:{servers:o.object_permission?.mcp_servers||[],accessGroups:o.object_permission?.mcp_access_groups||[]}},layout:"vertical",children:[(0,l.jsx)(I.Form.Item,{label:"Organization Name",name:"organization_alias",rules:[{required:!0,message:"Please input an organization name"}],children:(0,l.jsx)(k.TextInput,{})}),(0,l.jsx)(I.Form.Item,{label:"Models",name:"models",children:(0,l.jsx)(H.ModelSelect,{value:h.getFieldValue("models"),onChange:e=>h.setFieldValue("models",e),context:"organization",options:{includeSpecialOptions:!0,showAllProxyModelsOverride:!0}})}),(0,l.jsx)(I.Form.Item,{label:"Max Budget (USD)",name:"max_budget",children:(0,l.jsx)(ea.default,{step:.01,precision:2,style:{width:"100%"}})}),(0,l.jsx)(I.Form.Item,{label:"Reset Budget",name:"budget_duration",children:(0,l.jsxs)(F.Select,{placeholder:"n/a",children:[(0,l.jsx)(F.Select.Option,{value:"24h",children:"daily"}),(0,l.jsx)(F.Select.Option,{value:"7d",children:"weekly"}),(0,l.jsx)(F.Select.Option,{value:"30d",children:"monthly"})]})}),(0,l.jsx)(I.Form.Item,{label:"Tokens per minute Limit (TPM)",name:"tpm_limit",children:(0,l.jsx)(ea.default,{step:1,style:{width:"100%"}})}),(0,l.jsx)(I.Form.Item,{label:"Requests per minute Limit (RPM)",name:"rpm_limit",children:(0,l.jsx)(ea.default,{step:1,style:{width:"100%"}})}),(0,l.jsx)(I.Form.Item,{label:"Vector Stores",name:"vector_stores",children:(0,l.jsx)(es.default,{onChange:e=>h.setFieldValue("vector_stores",e),value:h.getFieldValue("vector_stores"),accessToken:t||"",placeholder:"Select vector stores"})}),(0,l.jsx)(I.Form.Item,{label:"MCP Servers & Access Groups",name:"mcp_servers_and_groups",children:(0,l.jsx)(L.default,{onChange:e=>h.setFieldValue("mcp_servers_and_groups",e),value:h.getFieldValue("mcp_servers_and_groups"),accessToken:t||"",placeholder:"Select MCP servers and access groups"})}),(0,l.jsx)(I.Form.Item,{label:"Metadata",name:"metadata",children:(0,l.jsx)(M.Input.TextArea,{rows:4})}),(0,l.jsx)("div",{className:"sticky z-10 bg-white p-4 border-t border-gray-200 bottom-[-1.5rem] inset-x-[-1.5rem]",children:(0,l.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,l.jsx)(x.Button,{variant:"secondary",onClick:()=>E(!1),disabled:ec,children:"Cancel"}),(0,l.jsx)(x.Button,{type:"submit",loading:ec,children:"Save Changes"})]})})]}):(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(z.Text,{className:"font-medium",children:"Organization Name"}),(0,l.jsx)("div",{children:o.organization_alias})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(z.Text,{className:"font-medium",children:"Organization ID"}),(0,l.jsx)("div",{className:"font-mono",children:o.organization_id})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(z.Text,{className:"font-medium",children:"Created At"}),(0,l.jsx)("div",{children:new Date(o.created_at).toLocaleString()})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(z.Text,{className:"font-medium",children:"Models"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:o.models.map((e,a)=>(0,l.jsx)(u.Badge,{color:"red",children:e},a))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(z.Text,{className:"font-medium",children:"Rate Limits"}),(0,l.jsxs)("div",{children:["TPM: ",o.litellm_budget_table.tpm_limit||"Unlimited"]}),(0,l.jsxs)("div",{children:["RPM: ",o.litellm_budget_table.rpm_limit||"Unlimited"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(z.Text,{className:"font-medium",children:"Budget"}),(0,l.jsxs)("div",{children:["Max:"," ",null!==o.litellm_budget_table.max_budget?`$${(0,B.formatNumberWithCommas)(o.litellm_budget_table.max_budget,4)}`:"No Limit"]}),(0,l.jsxs)("div",{children:["Reset: ",o.litellm_budget_table.budget_duration||"Never"]})]}),(0,l.jsx)(el.default,{objectPermission:o.object_permission,variant:"inline",className:"pt-4 border-t border-gray-200",accessToken:t})]})]})})]})]}),(0,l.jsx)(ee.default,{isVisible:P,onCancel:()=>D(!1),onSubmit:eb,accessToken:t,title:"Add Organization Member",roles:[{label:"org_admin",value:"org_admin",description:"Can add and remove members, and change their roles."},{label:"internal_user",value:"internal_user",description:"Can view/create keys for themselves within organization."},{label:"internal_user_viewer",value:"internal_user_viewer",description:"Can only view their keys within organization."}],defaultRole:"internal_user"}),(0,l.jsx)(et.default,{visible:R,onCancel:()=>er(!1),onSubmit:ep,initialData:ei,mode:"edit",config:{title:"Edit Member",showEmail:!0,showUserId:!0,roleOptions:[{label:"Org Admin",value:"org_admin"},{label:"Internal User",value:"internal_user"},{label:"Internal User Viewer",value:"internal_user_viewer"}]}})]})},ei=async(e,l,a=null,t=null)=>{l(await (0,q.organizationListCall)(e,a,t))};e.s(["default",0,({organizations:e,userRole:a,userModels:t,accessToken:s,lastRefreshed:r,handleRefreshClick:i,currentOrg:V,guardrailsList:K=[],setOrganizations:W,premiumUser:Q})=>{let[G,Z]=(0,A.useState)(null),[J,Y]=(0,A.useState)(!1),[X,ee]=(0,A.useState)(!1),[el,et]=(0,A.useState)(null),[en,eo]=(0,A.useState)(!1),[ed,ec]=(0,A.useState)(!1),[em]=I.Form.useForm(),[eu,ex]=(0,A.useState)({}),[eg,eh]=(0,A.useState)(!1),[eb,ep]=(0,A.useState)({org_id:"",org_alias:"",sort_by:"created_at",sort_order:"desc"}),ej=async()=>{if(el&&s)try{eo(!0),await (0,q.organizationDeleteCall)(s,el),U.default.success("Organization deleted successfully"),ee(!1),et(null),await ei(s,W,eb.org_id||null,eb.org_alias||null)}catch(e){console.error("Error deleting organization:",e)}finally{eo(!1)}},ef=async e=>{try{if(!s)return;console.log(`values in organizations new create call: ${JSON.stringify(e)}`),(e.allowed_vector_store_ids&&e.allowed_vector_store_ids.length>0||e.allowed_mcp_servers_and_groups&&(e.allowed_mcp_servers_and_groups.servers?.length>0||e.allowed_mcp_servers_and_groups.accessGroups?.length>0))&&(e.object_permission={},e.allowed_vector_store_ids&&e.allowed_vector_store_ids.length>0&&(e.object_permission.vector_stores=e.allowed_vector_store_ids,delete e.allowed_vector_store_ids),e.allowed_mcp_servers_and_groups&&(e.allowed_mcp_servers_and_groups.servers?.length>0&&(e.object_permission.mcp_servers=e.allowed_mcp_servers_and_groups.servers),e.allowed_mcp_servers_and_groups.accessGroups?.length>0&&(e.object_permission.mcp_access_groups=e.allowed_mcp_servers_and_groups.accessGroups),delete e.allowed_mcp_servers_and_groups)),await (0,q.organizationCreateCall)(s,e),U.default.success("Organization created successfully"),ec(!1),em.resetFields(),ei(s,W,eb.org_id||null,eb.org_alias||null)}catch(e){console.error("Error creating organization:",e)}};return Q?(0,l.jsxs)("div",{className:"w-full mx-4 h-[75vh]",children:[(0,l.jsx)(b.Grid,{numItems:1,className:"gap-2 p-8 w-full mt-2",children:(0,l.jsxs)(h.Col,{numColSpan:1,className:"flex flex-col gap-2",children:[("Admin"===a||"Org Admin"===a)&&(0,l.jsx)(x.Button,{className:"w-fit",onClick:()=>ec(!0),children:"+ Create New Organization"}),G?(0,l.jsx)(er,{organizationId:G,onClose:()=>{Z(null),Y(!1)},accessToken:s,is_org_admin:!0,is_proxy_admin:"Admin"===a,userModels:t,editOrg:J}):(0,l.jsxs)(f.TabGroup,{className:"gap-2 h-[75vh] w-full",children:[(0,l.jsxs)(T.TabList,{className:"flex justify-between mt-2 w-full items-center",children:[(0,l.jsx)("div",{className:"flex",children:(0,l.jsx)(j.Tab,{children:"Your Organizations"})}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[r&&(0,l.jsxs)(z.Text,{children:["Last Refreshed: ",r]}),(0,l.jsx)(p.Icon,{icon:m.RefreshIcon,variant:"shadow",size:"xs",className:"self-center",onClick:i})]})]}),(0,l.jsx)(O.TabPanels,{children:(0,l.jsxs)(S.TabPanel,{children:[(0,l.jsx)(z.Text,{children:"Click on “Organization ID” to view organization details."}),(0,l.jsx)(b.Grid,{numItems:1,className:"gap-2 pt-2 pb-2 h-[75vh] w-full mt-2",children:(0,l.jsx)(h.Col,{numColSpan:1,children:(0,l.jsxs)(g.Card,{className:"w-full mx-auto flex-auto overflow-hidden overflow-y-auto max-h-[50vh]",children:[(0,l.jsx)("div",{className:"border-b px-6 py-4",children:(0,l.jsx)("div",{className:"flex flex-col space-y-4",children:(0,l.jsx)(n,{filters:eb,showFilters:eg,onToggleFilters:eh,onChange:(e,l)=>{let a={...eb,[e]:l};ep(a),s&&(0,q.organizationListCall)(s,a.org_id||null,a.org_alias||null).then(e=>{e&&W(e)}).catch(e=>{console.error("Error fetching organizations:",e)})},onReset:()=>{ep({org_id:"",org_alias:"",sort_by:"created_at",sort_order:"desc"}),s&&(0,q.organizationListCall)(s,null,null).then(e=>{e&&W(e)}).catch(e=>{console.error("Error fetching organizations:",e)})}})})}),(0,l.jsxs)(v.Table,{children:[(0,l.jsx)(C.TableHead,{children:(0,l.jsxs)(N.TableRow,{children:[(0,l.jsx)(w.TableHeaderCell,{children:"Organization ID"}),(0,l.jsx)(w.TableHeaderCell,{children:"Organization Name"}),(0,l.jsx)(w.TableHeaderCell,{children:"Created"}),(0,l.jsx)(w.TableHeaderCell,{children:"Spend (USD)"}),(0,l.jsx)(w.TableHeaderCell,{children:"Budget (USD)"}),(0,l.jsx)(w.TableHeaderCell,{children:"Models"}),(0,l.jsx)(w.TableHeaderCell,{children:"TPM / RPM Limits"}),(0,l.jsx)(w.TableHeaderCell,{children:"Info"}),(0,l.jsx)(w.TableHeaderCell,{children:"Actions"})]})}),(0,l.jsx)(y.TableBody,{children:e&&e.length>0?e.sort((e,l)=>new Date(l.created_at).getTime()-new Date(e.created_at).getTime()).map(e=>(0,l.jsxs)(N.TableRow,{children:[(0,l.jsx)(_.TableCell,{children:(0,l.jsx)("div",{className:"overflow-hidden",children:(0,l.jsx)(E.Tooltip,{title:e.organization_id,children:(0,l.jsxs)(x.Button,{size:"xs",variant:"light",className:"font-mono text-blue-500 bg-blue-50 hover:bg-blue-100 text-xs font-normal px-2 py-0.5 text-left overflow-hidden truncate max-w-[200px]",onClick:()=>Z(e.organization_id),children:[e.organization_id?.slice(0,7),"..."]})})})}),(0,l.jsx)(_.TableCell,{children:e.organization_alias}),(0,l.jsx)(_.TableCell,{children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"}),(0,l.jsx)(_.TableCell,{children:(0,B.formatNumberWithCommas)(e.spend,4)}),(0,l.jsx)(_.TableCell,{children:e.litellm_budget_table?.max_budget!==null&&e.litellm_budget_table?.max_budget!==void 0?e.litellm_budget_table?.max_budget:"No limit"}),(0,l.jsx)(_.TableCell,{style:{maxWidth:"8-x",whiteSpace:"pre-wrap",overflow:"hidden"},className:e.models.length>3?"px-0":"",children:(0,l.jsx)("div",{className:"flex flex-col",children:Array.isArray(e.models)?(0,l.jsx)("div",{className:"flex flex-col",children:0===e.models.length?(0,l.jsx)(u.Badge,{size:"xs",className:"mb-1",color:"red",children:(0,l.jsx)(z.Text,{children:"All Proxy Models"})}):(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"flex items-start",children:[e.models.length>3&&(0,l.jsx)("div",{children:(0,l.jsx)(p.Icon,{icon:eu[e.organization_id||""]?d.ChevronDownIcon:c.ChevronRightIcon,className:"cursor-pointer",size:"xs",onClick:()=>{ex(l=>({...l,[e.organization_id||""]:!l[e.organization_id||""]}))}})}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.models.slice(0,3).map((e,a)=>"all-proxy-models"===e?(0,l.jsx)(u.Badge,{size:"xs",color:"red",children:(0,l.jsx)(z.Text,{children:"All Proxy Models"})},a):(0,l.jsx)(u.Badge,{size:"xs",color:"blue",children:(0,l.jsx)(z.Text,{children:e.length>30?`${(0,R.getModelDisplayName)(e).slice(0,30)}...`:(0,R.getModelDisplayName)(e)})},a)),e.models.length>3&&!eu[e.organization_id||""]&&(0,l.jsx)(u.Badge,{size:"xs",color:"gray",className:"cursor-pointer",children:(0,l.jsxs)(z.Text,{children:["+",e.models.length-3," ",e.models.length-3==1?"more model":"more models"]})}),eu[e.organization_id||""]&&(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:e.models.slice(3).map((e,a)=>"all-proxy-models"===e?(0,l.jsx)(u.Badge,{size:"xs",color:"red",children:(0,l.jsx)(z.Text,{children:"All Proxy Models"})},a+3):(0,l.jsx)(u.Badge,{size:"xs",color:"blue",children:(0,l.jsx)(z.Text,{children:e.length>30?`${(0,R.getModelDisplayName)(e).slice(0,30)}...`:(0,R.getModelDisplayName)(e)})},a+3))})]})]})})}):null})}),(0,l.jsx)(_.TableCell,{children:(0,l.jsxs)(z.Text,{children:["TPM:"," ",e.litellm_budget_table?.tpm_limit?e.litellm_budget_table?.tpm_limit:"Unlimited",(0,l.jsx)("br",{}),"RPM:"," ",e.litellm_budget_table?.rpm_limit?e.litellm_budget_table?.rpm_limit:"Unlimited"]})}),(0,l.jsx)(_.TableCell,{children:(0,l.jsxs)(z.Text,{children:[e.members?.length||0," Members"]})}),(0,l.jsx)(_.TableCell,{children:"Admin"===a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(D.default,{variant:"Edit",tooltipText:"Edit organization",onClick:()=>{Z(e.organization_id),Y(!0)}}),(0,l.jsx)(D.default,{variant:"Delete",tooltipText:"Delete organization",onClick:()=>{var l;(l=e.organization_id)&&(et(l),ee(!0))}})]})})]},e.organization_id)):null})]})]})})})]})})]})]})}),(0,l.jsx)($.Modal,{title:"Create Organization",visible:ed,width:800,footer:null,onCancel:()=>{ec(!1),em.resetFields()},children:(0,l.jsxs)(I.Form,{form:em,onFinish:ef,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",children:[(0,l.jsx)(I.Form.Item,{label:"Organization Name",name:"organization_alias",rules:[{required:!0,message:"Please input an organization name"}],children:(0,l.jsx)(k.TextInput,{placeholder:""})}),(0,l.jsx)(I.Form.Item,{label:"Models",name:"models",children:(0,l.jsx)(H.ModelSelect,{options:{showAllProxyModelsOverride:!0,includeSpecialOptions:!0},value:em.getFieldValue("models"),onChange:e=>em.setFieldValue("models",e),context:"organization"})}),(0,l.jsx)(I.Form.Item,{label:"Max Budget (USD)",name:"max_budget",children:(0,l.jsx)(ea.default,{step:.01,precision:2,width:200})}),(0,l.jsx)(I.Form.Item,{label:"Reset Budget",name:"budget_duration",children:(0,l.jsxs)(F.Select,{defaultValue:null,placeholder:"n/a",children:[(0,l.jsx)(F.Select.Option,{value:"24h",children:"daily"}),(0,l.jsx)(F.Select.Option,{value:"7d",children:"weekly"}),(0,l.jsx)(F.Select.Option,{value:"30d",children:"monthly"})]})}),(0,l.jsx)(I.Form.Item,{label:"Tokens per minute Limit (TPM)",name:"tpm_limit",children:(0,l.jsx)(ea.default,{step:1,width:400})}),(0,l.jsx)(I.Form.Item,{label:"Requests per minute Limit (RPM)",name:"rpm_limit",children:(0,l.jsx)(ea.default,{step:1,width:400})}),(0,l.jsx)(I.Form.Item,{label:(0,l.jsxs)("span",{children:["Allowed Vector Stores"," ",(0,l.jsx)(E.Tooltip,{title:"Select which vector stores this organization can access by default. Leave empty for access to all vector stores",children:(0,l.jsx)(o.InfoCircleOutlined,{style:{marginLeft:"4px"}})})]}),name:"allowed_vector_store_ids",className:"mt-4",help:"Select vector stores this organization can access. Leave empty for access to all vector stores",children:(0,l.jsx)(es.default,{onChange:e=>em.setFieldValue("allowed_vector_store_ids",e),value:em.getFieldValue("allowed_vector_store_ids"),accessToken:s||"",placeholder:"Select vector stores (optional)"})}),(0,l.jsx)(I.Form.Item,{label:(0,l.jsxs)("span",{children:["Allowed MCP Servers"," ",(0,l.jsx)(E.Tooltip,{title:"Select which MCP servers and access groups this organization can access by default.",children:(0,l.jsx)(o.InfoCircleOutlined,{style:{marginLeft:"4px"}})})]}),name:"allowed_mcp_servers_and_groups",className:"mt-4",help:"Select MCP servers and access groups this organization can access.",children:(0,l.jsx)(L.default,{onChange:e=>em.setFieldValue("allowed_mcp_servers_and_groups",e),value:em.getFieldValue("allowed_mcp_servers_and_groups"),accessToken:s||"",placeholder:"Select MCP servers and access groups (optional)"})}),(0,l.jsx)(I.Form.Item,{label:"Metadata",name:"metadata",children:(0,l.jsx)(M.Input.TextArea,{rows:4})}),(0,l.jsx)("div",{style:{textAlign:"right",marginTop:"10px"},children:(0,l.jsx)(x.Button,{type:"submit",children:"Create Organization"})})]})}),(0,l.jsx)(P.default,{isOpen:X,title:"Delete Organization?",message:"Are you sure you want to delete this organization? This action cannot be undone.",resourceInformationTitle:"Organization Information",resourceInformation:[{label:"Organization ID",value:el,code:!0}],onCancel:()=>{ee(!1),et(null)},onOk:ej,confirmLoading:en})]}):(0,l.jsx)("div",{children:(0,l.jsxs)(z.Text,{children:["This is a LiteLLM Enterprise feature, and requires a valid key to use. Get a trial key"," ",(0,l.jsx)("a",{href:"https://www.litellm.ai/#pricing",target:"_blank",rel:"noopener noreferrer",children:"here"}),"."]})})},"fetchOrganizations",0,ei],846835)},270345,e=>{"use strict";var l=e.i(764205);let a=async(e,a,t,s)=>"Admin"!=t&&"Admin Viewer"!=t?await (0,l.teamListCall)(e,s?.organization_id||null,a):await (0,l.teamListCall)(e,s?.organization_id||null);e.s(["fetchTeams",0,a])},860585,e=>{"use strict";var l=e.i(843476),a=e.i(199133);let{Option:t}=a.Select;e.s(["default",0,({value:e,onChange:s,className:r="",style:i={}})=>(0,l.jsxs)(a.Select,{style:{width:"100%",...i},value:e||void 0,onChange:s,className:r,placeholder:"n/a",allowClear:!0,children:[(0,l.jsx)(t,{value:"24h",children:"daily"}),(0,l.jsx)(t,{value:"7d",children:"weekly"}),(0,l.jsx)(t,{value:"30d",children:"monthly"})]}),"getBudgetDurationLabel",0,e=>e?({"24h":"daily","7d":"weekly","30d":"monthly"})[e]||e:"Not set"])},533882,e=>{"use strict";var l=e.i(843476),a=e.i(271645),t=e.i(250980),s=e.i(797672),r=e.i(68155),i=e.i(304967),n=e.i(629569),o=e.i(599724),d=e.i(269200),c=e.i(427612),m=e.i(64848),u=e.i(942232),x=e.i(496020),g=e.i(977572),h=e.i(992619),b=e.i(727749);e.s(["default",0,({accessToken:e,initialModelAliases:p={},onAliasUpdate:j,showExampleConfig:f=!0})=>{let[v,y]=(0,a.useState)([]),[_,C]=(0,a.useState)({aliasName:"",targetModel:""}),[w,N]=(0,a.useState)(null);(0,a.useEffect)(()=>{y(Object.entries(p).map(([e,l],a)=>({id:`${a}-${e}`,aliasName:e,targetModel:l})))},[p]);let T=()=>{if(!w)return;if(!w.aliasName||!w.targetModel)return void b.default.fromBackend("Please provide both alias name and target model");if(v.some(e=>e.id!==w.id&&e.aliasName===w.aliasName))return void b.default.fromBackend("An alias with this name already exists");let e=v.map(e=>e.id===w.id?w:e);y(e),N(null);let l={};e.forEach(e=>{l[e.aliasName]=e.targetModel}),j&&j(l),b.default.success("Alias updated successfully")},S=()=>{N(null)},O=v.reduce((e,l)=>(e[l.aliasName]=l.targetModel,e),{});return(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)(o.Text,{className:"text-sm font-medium text-gray-700 mb-2",children:"Add New Alias"}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Alias Name"}),(0,l.jsx)("input",{type:"text",value:_.aliasName,onChange:e=>C({..._,aliasName:e.target.value}),placeholder:"e.g., gpt-4o",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Target Model"}),(0,l.jsx)(h.default,{accessToken:e,value:_.targetModel,placeholder:"Select target model",onChange:e=>C({..._,targetModel:e}),showLabel:!1})]}),(0,l.jsx)("div",{className:"flex items-end",children:(0,l.jsxs)("button",{onClick:()=>{if(!_.aliasName||!_.targetModel)return void b.default.fromBackend("Please provide both alias name and target model");if(v.some(e=>e.aliasName===_.aliasName))return void b.default.fromBackend("An alias with this name already exists");let e=[...v,{id:`${Date.now()}-${_.aliasName}`,aliasName:_.aliasName,targetModel:_.targetModel}];y(e),C({aliasName:"",targetModel:""});let l={};e.forEach(e=>{l[e.aliasName]=e.targetModel}),j&&j(l),b.default.success("Alias added successfully")},disabled:!_.aliasName||!_.targetModel,className:`flex items-center px-4 py-2 rounded-md text-sm ${!_.aliasName||!_.targetModel?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:[(0,l.jsx)(t.PlusCircleIcon,{className:"w-4 h-4 mr-1"}),"Add Alias"]})})]})]}),(0,l.jsx)(o.Text,{className:"text-sm font-medium text-gray-700 mb-2",children:"Manage Existing Aliases"}),(0,l.jsx)("div",{className:"rounded-lg custom-border relative mb-6",children:(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)(d.Table,{className:"[&_td]:py-0.5 [&_th]:py-1",children:[(0,l.jsx)(c.TableHead,{children:(0,l.jsxs)(x.TableRow,{children:[(0,l.jsx)(m.TableHeaderCell,{className:"py-1 h-8",children:"Alias Name"}),(0,l.jsx)(m.TableHeaderCell,{className:"py-1 h-8",children:"Target Model"}),(0,l.jsx)(m.TableHeaderCell,{className:"py-1 h-8",children:"Actions"})]})}),(0,l.jsxs)(u.TableBody,{children:[v.map(a=>(0,l.jsx)(x.TableRow,{className:"h-8",children:w&&w.id===a.id?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g.TableCell,{className:"py-0.5",children:(0,l.jsx)("input",{type:"text",value:w.aliasName,onChange:e=>N({...w,aliasName:e.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm"})}),(0,l.jsx)(g.TableCell,{className:"py-0.5",children:(0,l.jsx)(h.default,{accessToken:e,value:w.targetModel,onChange:e=>N({...w,targetModel:e}),showLabel:!1,style:{height:"32px"}})}),(0,l.jsx)(g.TableCell,{className:"py-0.5 whitespace-nowrap",children:(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("button",{onClick:T,className:"text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded hover:bg-blue-100",children:"Save"}),(0,l.jsx)("button",{onClick:S,className:"text-xs bg-gray-50 text-gray-600 px-2 py-1 rounded hover:bg-gray-100",children:"Cancel"})]})})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g.TableCell,{className:"py-0.5 text-sm text-gray-900",children:a.aliasName}),(0,l.jsx)(g.TableCell,{className:"py-0.5 text-sm text-gray-500",children:a.targetModel}),(0,l.jsx)(g.TableCell,{className:"py-0.5 whitespace-nowrap",children:(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("button",{onClick:()=>{N({...a})},className:"text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded hover:bg-blue-100",children:(0,l.jsx)(s.PencilIcon,{className:"w-3 h-3"})}),(0,l.jsx)("button",{onClick:()=>{var e;let l,t;return e=a.id,y(l=v.filter(l=>l.id!==e)),t={},void(l.forEach(e=>{t[e.aliasName]=e.targetModel}),j&&j(t),b.default.success("Alias deleted successfully"))},className:"text-xs bg-red-50 text-red-600 px-2 py-1 rounded hover:bg-red-100",children:(0,l.jsx)(r.TrashIcon,{className:"w-3 h-3"})})]})})]})},a.id)),0===v.length&&(0,l.jsx)(x.TableRow,{children:(0,l.jsx)(g.TableCell,{colSpan:3,className:"py-0.5 text-sm text-gray-500 text-center",children:"No aliases added yet. Add a new alias above."})})]})]})})}),f&&(0,l.jsxs)(i.Card,{children:[(0,l.jsx)(n.Title,{className:"mb-4",children:"Configuration Example"}),(0,l.jsx)(o.Text,{className:"text-gray-600 mb-4",children:"Here's how your current aliases would look in the config:"}),(0,l.jsx)("div",{className:"bg-gray-100 rounded-lg p-4 font-mono text-sm",children:(0,l.jsxs)("div",{className:"text-gray-700",children:["model_aliases:",0===Object.keys(O).length?(0,l.jsxs)("span",{className:"text-gray-500",children:[(0,l.jsx)("br",{}),"  # No aliases configured yet"]}):Object.entries(O).map(([e,a])=>(0,l.jsxs)("span",{children:[(0,l.jsx)("br",{}),'  "',e,'": "',a,'"']},e))]})})]})]})}])},651904,e=>{"use strict";var l=e.i(843476),a=e.i(599724),t=e.i(266484);e.s(["default",0,function({value:e,onChange:s,premiumUser:r=!1,disabledCallbacks:i=[],onDisabledCallbacksChange:n}){return r?(0,l.jsx)(t.default,{value:e,onChange:s,disabledCallbacks:i,onDisabledCallbacksChange:n}):(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[(0,l.jsx)("div",{className:"inline-flex items-center px-3 py-1.5 rounded-lg bg-green-50 border border-green-200 text-green-800 text-sm font-medium opacity-50",children:"✨ langfuse-logging"}),(0,l.jsx)("div",{className:"inline-flex items-center px-3 py-1.5 rounded-lg bg-green-50 border border-green-200 text-green-800 text-sm font-medium opacity-50",children:"✨ datadog-logging"})]}),(0,l.jsx)("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,l.jsxs)(a.Text,{className:"text-sm text-yellow-800",children:["Setting Key/Team logging settings is a LiteLLM Enterprise feature. Global Logging Settings are available for all free users. Get a trial key"," ",(0,l.jsx)("a",{href:"https://www.litellm.ai/#pricing",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"here"}),"."]})})]})}])},981339,e=>{"use strict";var l=e.i(185793);e.s(["Skeleton",()=>l.default])},906579,e=>{"use strict";e.i(247167);var l=e.i(271645),a=e.i(343794),t=e.i(361275),s=e.i(702779),r=e.i(763731),i=e.i(242064);e.i(296059);var n=e.i(915654),o=e.i(694758),d=e.i(183293),c=e.i(403541),m=e.i(246422),u=e.i(838378);let x=new o.Keyframes("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),g=new o.Keyframes("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),h=new o.Keyframes("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),b=new o.Keyframes("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),p=new o.Keyframes("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),j=new o.Keyframes("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),f=e=>{let{fontHeight:l,lineWidth:a,marginXS:t,colorBorderBg:s}=e,r=e.colorTextLightSolid,i=e.colorError,n=e.colorErrorHover;return(0,u.mergeToken)(e,{badgeFontHeight:l,badgeShadowSize:a,badgeTextColor:r,badgeColor:i,badgeColorHover:n,badgeShadowColor:s,badgeProcessingDuration:"1.2s",badgeRibbonOffset:t,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},v=e=>{let{fontSize:l,lineHeight:a,fontSizeSM:t,lineWidth:s}=e;return{indicatorZIndex:"auto",indicatorHeight:Math.round(l*a)-2*s,indicatorHeightSM:l,dotSize:t/2,textFontSize:t,textFontSizeSM:t,textFontWeight:"normal",statusSize:t/2}},y=(0,m.genStyleHooks)("Badge",e=>(e=>{let{componentCls:l,iconCls:a,antCls:t,badgeShadowSize:s,textFontSize:r,textFontSizeSM:i,statusSize:o,dotSize:m,textFontWeight:u,indicatorHeight:f,indicatorHeightSM:v,marginXS:y,calc:_}=e,C=`${t}-scroll-number`,w=(0,c.genPresetColor)(e,(e,{darkColor:a})=>({[`&${l} ${l}-color-${e}`]:{background:a,[`&:not(${l}-count)`]:{color:a},"a:hover &":{background:a}}}));return{[l]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,d.resetComponent)(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${l}-count`]:{display:"inline-flex",justifyContent:"center",zIndex:e.indicatorZIndex,minWidth:f,height:f,color:e.badgeTextColor,fontWeight:u,fontSize:r,lineHeight:(0,n.unit)(f),whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:_(f).div(2).equal(),boxShadow:`0 0 0 ${(0,n.unit)(s)} ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${l}-count-sm`]:{minWidth:v,height:v,fontSize:i,lineHeight:(0,n.unit)(v),borderRadius:_(v).div(2).equal()},[`${l}-multiple-words`]:{padding:`0 ${(0,n.unit)(e.paddingXS)}`,bdi:{unicodeBidi:"plaintext"}},[`${l}-dot`]:{zIndex:e.indicatorZIndex,width:m,minWidth:m,height:m,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${(0,n.unit)(s)} ${e.badgeShadowColor}`},[`${l}-count, ${l}-dot, ${C}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${a}-spin`]:{animationName:j,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${l}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${l}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:o,height:o,verticalAlign:"middle",borderRadius:"50%"},[`${l}-status-success`]:{backgroundColor:e.colorSuccess},[`${l}-status-processing`]:{overflow:"visible",color:e.colorInfo,backgroundColor:e.colorInfo,borderColor:"currentcolor","&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:s,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:x,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${l}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${l}-status-error`]:{backgroundColor:e.colorError},[`${l}-status-warning`]:{backgroundColor:e.colorWarning},[`${l}-status-text`]:{marginInlineStart:y,color:e.colorText,fontSize:e.fontSize}}}),w),{[`${l}-zoom-appear, ${l}-zoom-enter`]:{animationName:g,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${l}-zoom-leave`]:{animationName:h,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${l}-not-a-wrapper`]:{[`${l}-zoom-appear, ${l}-zoom-enter`]:{animationName:b,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${l}-zoom-leave`]:{animationName:p,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${l}-status)`]:{verticalAlign:"middle"},[`${C}-custom-component, ${l}-count`]:{transform:"none"},[`${C}-custom-component, ${C}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[C]:{overflow:"hidden",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack}`,[`${C}-only`]:{position:"relative",display:"inline-block",height:f,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${C}-only-unit`]:{height:f,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${C}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${l}-count, ${l}-dot, ${C}-custom-component`]:{transform:"translate(-50%, -50%)"}}})}})(f(e)),v),_=(0,m.genStyleHooks)(["Badge","Ribbon"],e=>(e=>{let{antCls:l,badgeFontHeight:a,marginXS:t,badgeRibbonOffset:s,calc:r}=e,i=`${l}-ribbon`,o=`${l}-ribbon-wrapper`,m=(0,c.genPresetColor)(e,(e,{darkColor:l})=>({[`&${i}-color-${e}`]:{background:l,color:l}}));return{[o]:{position:"relative"},[i]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,d.resetComponent)(e)),{position:"absolute",top:t,padding:`0 ${(0,n.unit)(e.paddingXS)}`,color:e.colorPrimary,lineHeight:(0,n.unit)(a),whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${i}-text`]:{color:e.badgeTextColor},[`${i}-corner`]:{position:"absolute",top:"100%",width:s,height:s,color:"currentcolor",border:`${(0,n.unit)(r(s).div(2).equal())} solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),m),{[`&${i}-placement-end`]:{insetInlineEnd:r(s).mul(-1).equal(),borderEndEndRadius:0,[`${i}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${i}-placement-start`]:{insetInlineStart:r(s).mul(-1).equal(),borderEndStartRadius:0,[`${i}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}})(f(e)),v),C=e=>{let t,{prefixCls:s,value:r,current:i,offset:n=0}=e;return n&&(t={position:"absolute",top:`${n}00%`,left:0}),l.createElement("span",{style:t,className:(0,a.default)(`${s}-only-unit`,{current:i})},r)},w=e=>{let a,t,{prefixCls:s,count:r,value:i}=e,n=Number(i),o=Math.abs(r),[d,c]=l.useState(n),[m,u]=l.useState(o),x=()=>{c(n),u(o)};if(l.useEffect(()=>{let e=setTimeout(x,1e3);return()=>clearTimeout(e)},[n]),d===n||Number.isNaN(n)||Number.isNaN(d))a=[l.createElement(C,Object.assign({},e,{key:n,current:!0}))],t={transition:"none"};else{a=[];let s=n+10,r=[];for(let e=n;e<=s;e+=1)r.push(e);let i=m<o?1:-1,c=r.findIndex(e=>e%10===d);a=(i<0?r.slice(0,c+1):r.slice(c)).map((a,t)=>l.createElement(C,Object.assign({},e,{key:a,value:a%10,offset:i<0?t-c:t,current:t===c}))),t={transform:`translateY(${-function(e,l,a){let t=e,s=0;for(;(t+10)%10!==l;)t+=a,s+=a;return s}(d,n,i)}00%)`}}return l.createElement("span",{className:`${s}-only`,style:t,onTransitionEnd:x},a)};var N=function(e,l){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&0>l.indexOf(t)&&(a[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)0>l.indexOf(t[s])&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(a[t[s]]=e[t[s]]);return a};let T=l.forwardRef((e,t)=>{let{prefixCls:s,count:n,className:o,motionClassName:d,style:c,title:m,show:u,component:x="sup",children:g}=e,h=N(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:b}=l.useContext(i.ConfigContext),p=b("scroll-number",s),j=Object.assign(Object.assign({},h),{"data-show":u,style:c,className:(0,a.default)(p,o,d),title:m}),f=n;if(n&&Number(n)%1==0){let e=String(n).split("");f=l.createElement("bdi",null,e.map((a,t)=>l.createElement(w,{prefixCls:p,count:Number(n),value:a,key:e.length-t})))}return((null==c?void 0:c.borderColor)&&(j.style=Object.assign(Object.assign({},c),{boxShadow:`0 0 0 1px ${c.borderColor} inset`})),g)?(0,r.cloneElement)(g,e=>({className:(0,a.default)(`${p}-custom-component`,null==e?void 0:e.className,d)})):l.createElement(x,Object.assign({},j,{ref:t}),f)});var S=function(e,l){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&0>l.indexOf(t)&&(a[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)0>l.indexOf(t[s])&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(a[t[s]]=e[t[s]]);return a};let O=l.forwardRef((e,n)=>{var o,d,c,m,u;let{prefixCls:x,scrollNumberPrefixCls:g,children:h,status:b,text:p,color:j,count:f=null,overflowCount:v=99,dot:_=!1,size:C="default",title:w,offset:N,style:O,className:z,rootClassName:k,classNames:I,styles:M,showZero:$=!1}=e,F=S(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:E,direction:A,badge:B}=l.useContext(i.ConfigContext),P=E("badge",x),[D,R,L]=y(P),H=f>v?`${v}+`:f,U="0"===H||0===H||"0"===p||0===p,q=null===f||U&&!$,V=(null!=b||null!=j)&&q,K=null!=b||!U,W=_&&!U,Q=W?"":H,G=(0,l.useMemo)(()=>((null==Q||""===Q)&&(null==p||""===p)||U&&!$)&&!W,[Q,U,$,W,p]),Z=(0,l.useRef)(f);G||(Z.current=f);let J=Z.current,Y=(0,l.useRef)(Q);G||(Y.current=Q);let X=Y.current,ee=(0,l.useRef)(W);G||(ee.current=W);let el=(0,l.useMemo)(()=>{if(!N)return Object.assign(Object.assign({},null==B?void 0:B.style),O);let e={marginTop:N[1]};return"rtl"===A?e.left=Number.parseInt(N[0],10):e.right=-Number.parseInt(N[0],10),Object.assign(Object.assign(Object.assign({},e),null==B?void 0:B.style),O)},[A,N,O,null==B?void 0:B.style]),ea=null!=w?w:"string"==typeof J||"number"==typeof J?J:void 0,et=!G&&(0===p?$:!!p&&!0!==p),es=et?l.createElement("span",{className:`${P}-status-text`},p):null,er=J&&"object"==typeof J?(0,r.cloneElement)(J,e=>({style:Object.assign(Object.assign({},el),e.style)})):void 0,ei=(0,s.isPresetColor)(j,!1),en=(0,a.default)(null==I?void 0:I.indicator,null==(o=null==B?void 0:B.classNames)?void 0:o.indicator,{[`${P}-status-dot`]:V,[`${P}-status-${b}`]:!!b,[`${P}-color-${j}`]:ei}),eo={};j&&!ei&&(eo.color=j,eo.background=j);let ed=(0,a.default)(P,{[`${P}-status`]:V,[`${P}-not-a-wrapper`]:!h,[`${P}-rtl`]:"rtl"===A},z,k,null==B?void 0:B.className,null==(d=null==B?void 0:B.classNames)?void 0:d.root,null==I?void 0:I.root,R,L);if(!h&&V&&(p||K||!q)){let e=el.color;return D(l.createElement("span",Object.assign({},F,{className:ed,style:Object.assign(Object.assign(Object.assign({},null==M?void 0:M.root),null==(c=null==B?void 0:B.styles)?void 0:c.root),el)}),l.createElement("span",{className:en,style:Object.assign(Object.assign(Object.assign({},null==M?void 0:M.indicator),null==(m=null==B?void 0:B.styles)?void 0:m.indicator),eo)}),et&&l.createElement("span",{style:{color:e},className:`${P}-status-text`},p)))}return D(l.createElement("span",Object.assign({ref:n},F,{className:ed,style:Object.assign(Object.assign({},null==(u=null==B?void 0:B.styles)?void 0:u.root),null==M?void 0:M.root)}),h,l.createElement(t.default,{visible:!G,motionName:`${P}-zoom`,motionAppear:!1,motionDeadline:1e3},({className:e})=>{var t,s;let r=E("scroll-number",g),i=ee.current,n=(0,a.default)(null==I?void 0:I.indicator,null==(t=null==B?void 0:B.classNames)?void 0:t.indicator,{[`${P}-dot`]:i,[`${P}-count`]:!i,[`${P}-count-sm`]:"small"===C,[`${P}-multiple-words`]:!i&&X&&X.toString().length>1,[`${P}-status-${b}`]:!!b,[`${P}-color-${j}`]:ei}),o=Object.assign(Object.assign(Object.assign({},null==M?void 0:M.indicator),null==(s=null==B?void 0:B.styles)?void 0:s.indicator),el);return j&&!ei&&((o=o||{}).background=j),l.createElement(T,{prefixCls:r,show:!G,motionClassName:e,className:n,count:X,title:ea,style:o,key:"scrollNumber"},er)}),es))});O.Ribbon=e=>{let{className:t,prefixCls:r,style:n,color:o,children:d,text:c,placement:m="end",rootClassName:u}=e,{getPrefixCls:x,direction:g}=l.useContext(i.ConfigContext),h=x("ribbon",r),b=`${h}-wrapper`,[p,j,f]=_(h,b),v=(0,s.isPresetColor)(o,!1),y=(0,a.default)(h,`${h}-placement-${m}`,{[`${h}-rtl`]:"rtl"===g,[`${h}-color-${o}`]:v},t),C={},w={};return o&&!v&&(C.background=o,w.color=o),p(l.createElement("div",{className:(0,a.default)(b,u,j,f)},d,l.createElement("div",{className:(0,a.default)(y,j),style:Object.assign(Object.assign({},C),n)},l.createElement("span",{className:`${h}-text`},c),l.createElement("div",{className:`${h}-corner`,style:w}))))},e.s(["Badge",0,O],906579)},785242,e=>{"use strict";var l=e.i(619273),a=e.i(266027),t=e.i(912598),s=e.i(135214),r=e.i(270345),i=e.i(243652),n=e.i(764205);let o=(0,i.createQueryKeys)("teams"),d=async(e,l,a,t={})=>{try{let s=(0,n.getProxyBaseUrl)(),r=new URLSearchParams(Object.entries({team_id:t.teamID,organization_id:t.organizationID,team_alias:t.team_alias,user_id:t.userID,page:l,page_size:a,sort_by:t.sortBy,sort_order:t.sortOrder,status:"deleted"}).filter(([,e])=>null!=e).map(([e,l])=>[e,String(l)])),i=`${s?`${s}/v2/team/list`:"/v2/team/list"}?${r}`,o=await fetch(i,{method:"GET",headers:{[(0,n.getGlobalLitellmHeaderName)()]:`Bearer ${e}`,"Content-Type":"application/json"}});if(!o.ok){let e=await o.json(),l=(0,n.deriveErrorMessage)(e);throw(0,n.handleError)(l),Error(l)}let d=await o.json();if(console.log("/team/list?status=deleted API Response:",d),d&&"object"==typeof d&&"teams"in d)return d.teams;return d}catch(e){throw console.error("Failed to list deleted teams:",e),e}},c=(0,i.createQueryKeys)("deletedTeams");e.s(["useDeletedTeams",0,(e,t,r={})=>{let{accessToken:i}=(0,s.default)();return(0,a.useQuery)({queryKey:c.list({page:e,limit:t,...r}),queryFn:async()=>await d(i,e,t,r),enabled:!!i,staleTime:3e4,placeholderData:l.keepPreviousData})},"useTeam",0,e=>{let{accessToken:l}=(0,s.default)(),r=(0,t.useQueryClient)();return(0,a.useQuery)({queryKey:o.detail(e),enabled:!!(l&&e),queryFn:async()=>{if(!l||!e)throw Error("Missing auth or teamId");return(0,n.teamInfoCall)(l,e)},initialData:()=>{if(!e)return;let l=r.getQueryData(o.list({}));return l?.find(l=>l.team_id===e)}})},"useTeams",0,()=>{let{accessToken:e,userId:l,userRole:t}=(0,s.default)();return(0,a.useQuery)({queryKey:o.list({}),queryFn:async()=>await (0,r.fetchTeams)(e,l,t,null),enabled:!!e})}])},980187,e=>{"use strict";e.s(["createTeamAliasMap",0,e=>e?e.reduce((e,l)=>(e[l.team_id]=l.team_alias,e),{}):{},"resolveTeamAliasFromTeamID",0,(e,l)=>{let a=l.find(l=>l.team_id===e);return a?a.team_alias:null}])},655913,38419,78334,555436,e=>{"use strict";var l=e.i(843476),a=e.i(115504),t=e.i(311451),s=e.i(374009),r=e.i(271645);e.s(["FilterInput",0,({placeholder:e,value:i,onChange:n,icon:o,className:d})=>{let[c,m]=(0,r.useState)(i);(0,r.useEffect)(()=>{m(i)},[i]);let u=(0,r.useMemo)(()=>(0,s.default)(e=>n(e),300),[n]);(0,r.useEffect)(()=>()=>{u.cancel()},[u]);let x=(0,r.useCallback)(e=>{let l=e.target.value;m(l),u(l)},[u]);return(0,l.jsx)(t.Input,{placeholder:e,value:c,onChange:x,prefix:o?(0,l.jsx)(o,{size:16,className:"text-gray-500"}):void 0,className:(0,a.cx)("w-64",d)})}],655913);var i=e.i(906579),n=e.i(464571),o=e.i(475254);let d=(0,o.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);e.s(["FiltersButton",0,({onClick:e,active:a,hasActiveFilters:t,label:s="Filters"})=>(0,l.jsx)(i.Badge,{color:"blue",dot:t,children:(0,l.jsx)(n.Button,{type:"default",onClick:e,icon:(0,l.jsx)(d,{size:16}),className:a?"bg-gray-100":"",children:s})})],38419);let c=(0,o.default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);e.s(["ResetFiltersButton",0,({onClick:e,label:a="Reset Filters"})=>(0,l.jsx)(n.Button,{type:"default",onClick:e,icon:(0,l.jsx)(c,{size:16}),children:a})],78334);let m=(0,o.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>m],555436)},846753,e=>{"use strict";let l=(0,e.i(475254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["default",()=>l])},284614,e=>{"use strict";var l=e.i(846753);e.s(["User",()=>l.default])},738014,e=>{"use strict";var l=e.i(135214),a=e.i(764205),t=e.i(266027);let s=(0,e.i(243652).createQueryKeys)("users");e.s(["useCurrentUser",0,()=>{let{accessToken:e,userId:r,userRole:i}=(0,l.default)();return(0,t.useQuery)({queryKey:s.detail(r),queryFn:async()=>{let l=await (0,a.userInfoCall)(e,r,i,!1,null,null);return console.log(`userInfo: ${JSON.stringify(l)}`),l.user_info},enabled:!!(e&&r&&i)})}])},109799,e=>{"use strict";var l=e.i(135214),a=e.i(764205),t=e.i(266027),s=e.i(912598);let r=(0,e.i(243652).createQueryKeys)("organizations");e.s(["useOrganization",0,e=>{let i=(0,s.useQueryClient)(),{accessToken:n}=(0,l.default)();return(0,t.useQuery)({queryKey:r.detail(e),enabled:!!(n&&e),queryFn:async()=>{if(!n||!e)throw Error("Missing auth or teamId");return(0,a.organizationInfoCall)(n,e)},initialData:()=>{if(!e)return;let l=i.getQueryData(r.list({}));return l?.find(l=>l.organization_id===e)}})},"useOrganizations",0,()=>{let{accessToken:e,userId:s,userRole:i}=(0,l.default)();return(0,t.useQuery)({queryKey:r.list({}),queryFn:async()=>await (0,a.organizationListCall)(e),enabled:!!(e&&s&&i)})}])},625901,e=>{"use strict";var l=e.i(266027),a=e.i(243652),t=e.i(764205),s=e.i(135214);let r=(0,a.createQueryKeys)("models"),i=(0,a.createQueryKeys)("modelHub"),n=(0,a.createQueryKeys)("allProxyModels");(0,a.createQueryKeys)("selectedTeamModels"),e.s(["useAllProxyModels",0,()=>{let{accessToken:e,userId:a,userRole:r}=(0,s.default)();return(0,l.useQuery)({queryKey:n.list({}),queryFn:async()=>await (0,t.modelAvailableCall)(e,a,r,!0,null,!0,!1,"expand"),enabled:!!(e&&a&&r)})},"useModelHub",0,()=>{let{accessToken:e}=(0,s.default)();return(0,l.useQuery)({queryKey:i.list({}),queryFn:async()=>await (0,t.modelHubCall)(e),enabled:!!e})},"useModelsInfo",0,(e=1,a=50,i,n,o,d,c)=>{let{accessToken:m,userId:u,userRole:x}=(0,s.default)();return(0,l.useQuery)({queryKey:r.list({filters:{...u&&{userId:u},...x&&{userRole:x},page:e,size:a,...i&&{search:i},...n&&{modelId:n},...o&&{teamId:o},...d&&{sortBy:d},...c&&{sortOrder:c}}}),queryFn:async()=>await (0,t.modelInfoCall)(m,u,x,e,a,i,n,o,d,c),enabled:!!(m&&u&&x)})}])},162386,e=>{"use strict";var l=e.i(843476),a=e.i(625901),t=e.i(109799),s=e.i(785242),r=e.i(738014),i=e.i(199133),n=e.i(981339),o=e.i(592968);let d={label:"All Proxy Models",value:"all-proxy-models"},c={label:"No Default Models",value:"no-default-models"},m=[d,c],u={user:({allProxyModels:e,userModels:l,options:a})=>l&&a?.includeUserModels?l:[],team:({allProxyModels:e,selectedOrganization:l,userModels:a})=>l?l.models.includes(d.value)||0===l.models.length?e:e.filter(e=>l.models.includes(e)):e??[],organization:({allProxyModels:e})=>e,global:({allProxyModels:e})=>e};e.s(["ModelSelect",0,e=>{let{teamID:x,organizationID:g,options:h,context:b,dataTestId:p,value:j=[],onChange:f,style:v}=e,{includeUserModels:y,showAllTeamModelsOption:_,showAllProxyModelsOverride:C,includeSpecialOptions:w}=h||{},{data:N,isLoading:T}=(0,a.useAllProxyModels)(),{data:S,isLoading:O}=(0,s.useTeam)(x),{data:z,isLoading:k}=(0,t.useOrganization)(g),{data:I,isLoading:M}=(0,r.useCurrentUser)(),$=e=>m.some(l=>l.value===e),F=j.some($),E=z?.models.includes(d.value)||z?.models.length===0;if(T||O||k||M)return(0,l.jsx)(n.Skeleton.Input,{active:!0,block:!0});let{wildcard:A,regular:B}=(e=>{let l=[],a=[];for(let t of e)t.endsWith("/*")?l.push(t):a.push(t);return{wildcard:l,regular:a}})(((e,l,a)=>{let t=Array.from(new Map(e.map(e=>[e.id,e])).values()).map(e=>e.id);if(l.options?.showAllProxyModelsOverride)return t;let s=u[l.context];return s?s({allProxyModels:t,...a,options:l.options}):[]})(N?.data??[],e,{selectedTeam:S,selectedOrganization:z,userModels:I?.models}));return(0,l.jsx)(i.Select,{"data-testid":p,value:j,onChange:e=>{let l=e.filter($);f(l.length>0?[l[l.length-1]]:e)},style:v,options:[w?{label:(0,l.jsx)("span",{children:"Special Options"}),title:"Special Options",options:[...C||E&&w||"global"===b?[{label:(0,l.jsx)("span",{children:"All Proxy Models"}),value:d.value,disabled:j.length>0&&j.some(e=>$(e)&&e!==d.value),key:d.value}]:[],{label:(0,l.jsx)("span",{children:"No Default Models"}),value:c.value,disabled:j.length>0&&j.some(e=>$(e)&&e!==c.value),key:c.value}]}:[],...A.length>0?[{label:(0,l.jsx)("span",{children:"Wildcard Options"}),title:"Wildcard Options",options:A.map(e=>{let a=e.replace("/*",""),t=a.charAt(0).toUpperCase()+a.slice(1);return{label:(0,l.jsx)("span",{children:`All ${t} models`}),value:e,disabled:F}})}]:[],{label:(0,l.jsx)("span",{children:"Models"}),title:"Models",options:B.map(e=>({label:(0,l.jsx)("span",{children:e}),value:e,disabled:F}))}],mode:"multiple",allowClear:!0,maxTagCount:"responsive",maxTagPlaceholder:e=>(0,l.jsx)(o.Tooltip,{styles:{root:{pointerEvents:"none"}},title:e.map(({value:e})=>e).join(", "),children:(0,l.jsxs)("span",{children:["+",e.length," more"]})})})}],162386)},907308,e=>{"use strict";var l=e.i(843476),a=e.i(271645),t=e.i(212931),s=e.i(808613),r=e.i(464571),i=e.i(199133),n=e.i(592968),o=e.i(374009),d=e.i(764205);e.s(["default",0,({isVisible:e,onCancel:c,onSubmit:m,accessToken:u,title:x="Add Team Member",roles:g=[{label:"admin",value:"admin",description:"Admin role. Can create team keys, add members, and manage settings."},{label:"user",value:"user",description:"User role. Can view team info, but not manage it."}],defaultRole:h="user"})=>{let[b]=s.Form.useForm(),[p,j]=(0,a.useState)([]),[f,v]=(0,a.useState)(!1),[y,_]=(0,a.useState)("user_email"),C=async(e,l)=>{if(!e)return void j([]);v(!0);try{let a=new URLSearchParams;if(a.append(l,e),null==u)return;let t=(await (0,d.userFilterUICall)(u,a)).map(e=>({label:"user_email"===l?`${e.user_email}`:`${e.user_id}`,value:"user_email"===l?e.user_email:e.user_id,user:e}));j(t)}catch(e){console.error("Error fetching users:",e)}finally{v(!1)}},w=(0,a.useCallback)((0,o.default)((e,l)=>C(e,l),300),[]),N=(e,l)=>{_(l),w(e,l)},T=(e,l)=>{let a=l.user;b.setFieldsValue({user_email:a.user_email,user_id:a.user_id,role:b.getFieldValue("role")})};return(0,l.jsx)(t.Modal,{title:x,open:e,onCancel:()=>{b.resetFields(),j([]),c()},footer:null,width:800,children:(0,l.jsxs)(s.Form,{form:b,onFinish:m,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",initialValues:{role:h},children:[(0,l.jsx)(s.Form.Item,{label:"Email",name:"user_email",className:"mb-4",children:(0,l.jsx)(i.Select,{showSearch:!0,className:"w-full",placeholder:"Search by email",filterOption:!1,onSearch:e=>N(e,"user_email"),onSelect:(e,l)=>T(e,l),options:"user_email"===y?p:[],loading:f,allowClear:!0})}),(0,l.jsx)("div",{className:"text-center mb-4",children:"OR"}),(0,l.jsx)(s.Form.Item,{label:"User ID",name:"user_id",className:"mb-4",children:(0,l.jsx)(i.Select,{showSearch:!0,className:"w-full",placeholder:"Search by user ID",filterOption:!1,onSearch:e=>N(e,"user_id"),onSelect:(e,l)=>T(e,l),options:"user_id"===y?p:[],loading:f,allowClear:!0})}),(0,l.jsx)(s.Form.Item,{label:"Member Role",name:"role",className:"mb-4",children:(0,l.jsx)(i.Select,{defaultValue:h,children:g.map(e=>(0,l.jsx)(i.Select.Option,{value:e.value,children:(0,l.jsxs)(n.Tooltip,{title:e.description,children:[(0,l.jsx)("span",{className:"font-medium",children:e.label}),(0,l.jsxs)("span",{className:"ml-2 text-gray-500 text-sm",children:["- ",e.description]})]})},e.value))})}),(0,l.jsx)("div",{className:"text-right mt-4",children:(0,l.jsx)(r.Button,{type:"default",htmlType:"submit",children:"Add Member"})})]})})}])},276173,e=>{"use strict";var l=e.i(843476),a=e.i(599724),t=e.i(779241),s=e.i(464571),r=e.i(808613),i=e.i(212931),n=e.i(199133),o=e.i(271645),d=e.i(435451);e.s(["default",0,({visible:e,onCancel:c,onSubmit:m,initialData:u,mode:x,config:g})=>{let h,[b]=r.Form.useForm(),[p,j]=(0,o.useState)(!1);console.log("Initial Data:",u),(0,o.useEffect)(()=>{if(e)if("edit"===x&&u){let e={...u,role:u.role||g.defaultRole,max_budget_in_team:u.max_budget_in_team||null,tpm_limit:u.tpm_limit||null,rpm_limit:u.rpm_limit||null};console.log("Setting form values:",e),b.setFieldsValue(e)}else b.resetFields(),b.setFieldsValue({role:g.defaultRole||g.roleOptions[0]?.value})},[e,u,x,b,g.defaultRole,g.roleOptions]);let f=async e=>{try{j(!0);let l=Object.entries(e).reduce((e,[l,a])=>{if("string"==typeof a){let t=a.trim();return""===t&&("max_budget_in_team"===l||"tpm_limit"===l||"rpm_limit"===l)?{...e,[l]:null}:{...e,[l]:t}}return{...e,[l]:a}},{});console.log("Submitting form data:",l),await Promise.resolve(m(l)),b.resetFields()}catch(e){console.error("Form submission error:",e)}finally{j(!1)}};return(0,l.jsx)(i.Modal,{title:g.title||("add"===x?"Add Member":"Edit Member"),open:e,width:1e3,footer:null,onCancel:c,children:(0,l.jsxs)(r.Form,{form:b,onFinish:f,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",children:[g.showEmail&&(0,l.jsx)(r.Form.Item,{label:"Email",name:"user_email",className:"mb-4",rules:[{type:"email",message:"Please enter a valid email!"}],children:(0,l.jsx)(t.TextInput,{placeholder:"user@example.com"})}),g.showEmail&&g.showUserId&&(0,l.jsx)("div",{className:"text-center mb-4",children:(0,l.jsx)(a.Text,{children:"OR"})}),g.showUserId&&(0,l.jsx)(r.Form.Item,{label:"User ID",name:"user_id",className:"mb-4",children:(0,l.jsx)(t.TextInput,{placeholder:"user_123"})}),(0,l.jsx)(r.Form.Item,{label:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{children:"Role"}),"edit"===x&&u&&(0,l.jsxs)("span",{className:"text-gray-500 text-sm",children:["(Current: ",(h=u.role,g.roleOptions.find(e=>e.value===h)?.label||h),")"]})]}),name:"role",className:"mb-4",rules:[{required:!0,message:"Please select a role!"}],children:(0,l.jsx)(n.Select,{children:"edit"===x&&u?[...g.roleOptions.filter(e=>e.value===u.role),...g.roleOptions.filter(e=>e.value!==u.role)].map(e=>(0,l.jsx)(n.Select.Option,{value:e.value,children:e.label},e.value)):g.roleOptions.map(e=>(0,l.jsx)(n.Select.Option,{value:e.value,children:e.label},e.value))})}),g.additionalFields?.map(e=>(0,l.jsx)(r.Form.Item,{label:e.label,name:e.name,className:"mb-4",rules:e.rules,children:(e=>{switch(e.type){case"input":return(0,l.jsx)(t.TextInput,{placeholder:e.placeholder});case"numerical":return(0,l.jsx)(d.default,{step:e.step||1,min:e.min||0,style:{width:"100%"},placeholder:e.placeholder||"Enter a numerical value"});case"select":return(0,l.jsx)(n.Select,{children:e.options?.map(e=>(0,l.jsx)(n.Select.Option,{value:e.value,children:e.label},e.value))});default:return null}})(e)},e.name)),(0,l.jsxs)("div",{className:"text-right mt-6",children:[(0,l.jsx)(s.Button,{onClick:c,className:"mr-2",disabled:p,children:"Cancel"}),(0,l.jsx)(s.Button,{type:"default",htmlType:"submit",loading:p,children:"add"===x?p?"Adding...":"Add Member":p?"Saving...":"Save Changes"})]})]})})}])}]);