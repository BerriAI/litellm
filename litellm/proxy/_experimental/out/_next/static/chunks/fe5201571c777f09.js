(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,883552,e=>{"use strict";e.i(247167);var t=e.i(271645),l=e.i(562901),a=e.i(343794),s=e.i(914949),r=e.i(529681),n=e.i(242064),i=e.i(829672),o=e.i(285781),c=e.i(836938),d=e.i(920228),u=e.i(62405),m=e.i(408850),g=e.i(87414),h=e.i(310730);let p=(0,e.i(246422).genStyleHooks)("Popconfirm",e=>(e=>{let{componentCls:t,iconCls:l,antCls:a,zIndexPopup:s,colorText:r,colorWarning:n,marginXXS:i,marginXS:o,fontSize:c,fontWeightStrong:d,colorTextHeading:u}=e;return{[t]:{zIndex:s,[`&${a}-popover`]:{fontSize:c},[`${t}-message`]:{marginBottom:o,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t}-message-icon ${l}`]:{color:n,fontSize:c,lineHeight:1,marginInlineEnd:o},[`${t}-title`]:{fontWeight:d,color:u,"&:only-child":{fontWeight:"normal"}},[`${t}-description`]:{marginTop:i,color:r}},[`${t}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:o}}}}})(e),e=>{let{zIndexPopupBase:t}=e;return{zIndexPopup:t+60}},{resetStyle:!1});var x=function(e,t){var l={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(l[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>t.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(l[a[s]]=e[a[s]]);return l};let f=e=>{let{prefixCls:a,okButtonProps:s,cancelButtonProps:r,title:i,description:h,cancelText:p,okText:x,okType:f="primary",icon:y=t.createElement(l.default,null),showCancel:b=!0,close:j,onConfirm:C,onCancel:v,onPopupClick:k}=e,{getPrefixCls:w}=t.useContext(n.ConfigContext),[T]=(0,m.useLocale)("Popconfirm",g.default.Popconfirm),_=(0,c.getRenderPropValue)(i),N=(0,c.getRenderPropValue)(h);return t.createElement("div",{className:`${a}-inner-content`,onClick:k},t.createElement("div",{className:`${a}-message`},y&&t.createElement("span",{className:`${a}-message-icon`},y),t.createElement("div",{className:`${a}-message-text`},_&&t.createElement("div",{className:`${a}-title`},_),N&&t.createElement("div",{className:`${a}-description`},N))),t.createElement("div",{className:`${a}-buttons`},b&&t.createElement(d.default,Object.assign({onClick:v,size:"small"},r),p||(null==T?void 0:T.cancelText)),t.createElement(o.default,{buttonProps:Object.assign(Object.assign({size:"small"},(0,u.convertLegacyProps)(f)),s),actionFn:C,close:j,prefixCls:w("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},x||(null==T?void 0:T.okText))))};var y=function(e,t){var l={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(l[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>t.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(l[a[s]]=e[a[s]]);return l};let b=t.forwardRef((e,o)=>{var c,d;let{prefixCls:u,placement:m="top",trigger:g="click",okType:h="primary",icon:x=t.createElement(l.default,null),children:b,overlayClassName:j,onOpenChange:C,onVisibleChange:v,overlayStyle:k,styles:w,classNames:T}=e,_=y(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange","overlayStyle","styles","classNames"]),{getPrefixCls:N,className:S,style:E,classNames:F,styles:P}=(0,n.useComponentConfig)("popconfirm"),[I,O]=(0,s.default)(!1,{value:null!=(c=e.open)?c:e.visible,defaultValue:null!=(d=e.defaultOpen)?d:e.defaultVisible}),A=(e,t)=>{O(e,!0),null==v||v(e),null==C||C(e,t)},B=N("popconfirm",u),L=(0,a.default)(B,S,j,F.root,null==T?void 0:T.root),z=(0,a.default)(F.body,null==T?void 0:T.body),[R]=p(B);return R(t.createElement(i.default,Object.assign({},(0,r.default)(_,["title"]),{trigger:g,placement:m,onOpenChange:(t,l)=>{let{disabled:a=!1}=e;a||A(t,l)},open:I,ref:o,classNames:{root:L,body:z},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},P.root),E),k),null==w?void 0:w.root),body:Object.assign(Object.assign({},P.body),null==w?void 0:w.body)},content:t.createElement(f,Object.assign({okType:h,icon:x},e,{prefixCls:B,close:e=>{A(!1,e)},onConfirm:t=>{var l;return null==(l=e.onConfirm)?void 0:l.call(void 0,t)},onCancel:t=>{var l;A(!1,t),null==(l=e.onCancel)||l.call(void 0,t)}})),"data-popover-inject":!0}),b))});b._InternalPanelDoNotUseOrYouWillBeFired=e=>{let{prefixCls:l,placement:s,className:r,style:i}=e,o=x(e,["prefixCls","placement","className","style"]),{getPrefixCls:c}=t.useContext(n.ConfigContext),d=c("popconfirm",l),[u]=p(d);return u(t.createElement(h.default,{placement:s,className:(0,a.default)(d,r),style:i,content:t.createElement(f,Object.assign({prefixCls:d},o))}))},e.s(["Popconfirm",0,b],883552)},431343,569074,e=>{"use strict";var t=e.i(475254);let l=(0,t.default)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);e.s(["Play",()=>l],431343);let a=(0,t.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>a],569074)},688511,823429,e=>{"use strict";let t=(0,e.i(475254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["default",()=>t],823429),e.s(["Edit",()=>t],688511)},700904,e=>{"use strict";var t=e.i(843476),l=e.i(994388),a=e.i(304967),s=e.i(350967),r=e.i(35983),n=e.i(793130),i=e.i(197647),o=e.i(653824),c=e.i(269200),d=e.i(942232),u=e.i(977572),m=e.i(427612),g=e.i(64848),h=e.i(496020),p=e.i(881073),x=e.i(404206),f=e.i(723731),y=e.i(599724),b=e.i(779241),j=e.i(271645),C=e.i(464571),v=e.i(808613),k=e.i(311451),w=e.i(212931),T=e.i(199133),_=e.i(898586),N=e.i(727749),S=e.i(764205),E=e.i(312361),F=e.i(482725),P=e.i(536916);let{Title:I}=_.Typography,O=({accessToken:e})=>{let[s,r]=(0,j.useState)(!0),[n,i]=(0,j.useState)([]);(0,j.useEffect)(()=>{o()},[e]);let o=async()=>{if(e){r(!0);try{let t=await (0,S.getEmailEventSettings)(e);i(t.settings)}catch(e){console.error("Failed to fetch email event settings:",e),N.default.fromBackend(e)}finally{r(!1)}}},c=async()=>{if(e)try{await (0,S.updateEmailEventSettings)(e,{settings:n}),N.default.success("Email event settings updated successfully")}catch(e){console.error("Failed to update email event settings:",e),N.default.fromBackend(e)}},d=async()=>{if(e)try{await (0,S.resetEmailEventSettings)(e),N.default.success("Email event settings reset to defaults"),o()}catch(e){console.error("Failed to reset email event settings:",e),N.default.fromBackend(e)}};return(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(I,{level:4,children:"Email Notifications"}),(0,t.jsx)(y.Text,{children:"Select which events should trigger email notifications."}),(0,t.jsx)(E.Divider,{}),s?(0,t.jsx)("div",{style:{textAlign:"center",padding:"20px"},children:(0,t.jsx)(F.Spin,{size:"large"})}):(0,t.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(P.Checkbox,{checked:e.enabled,onChange:t=>{var l,a;return l=e.event,a=t.target.checked,void i(n.map(e=>e.event===l?{...e,enabled:a}:e))}}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)(y.Text,{children:e.event}),(0,t.jsx)("div",{className:"text-sm text-gray-500 block",children:(e=>{if(e.includes("Virtual Key Created"))return"An email will be sent to the user when a new virtual key is created with their user ID";{if(e.includes("New User Invitation"))return"An email will be sent to the email address of the user when a new user is created";let t=e.split(/(?=[A-Z])/).join(" ").toLowerCase();return`Receive an email notification when ${t}`}})(e.event)})]})]},e.event))}),(0,t.jsxs)("div",{className:"mt-6 flex space-x-4",children:[(0,t.jsx)(l.Button,{onClick:c,disabled:s,children:"Save Changes"}),(0,t.jsx)(l.Button,{onClick:d,variant:"secondary",disabled:s,children:"Reset to Defaults"})]})]})},{Title:A}=_.Typography,B=({accessToken:e,premiumUser:r,alerts:n})=>{let i=async()=>{if(!e)return;let t={};n.filter(e=>"email"===e.name).forEach(e=>{Object.entries(e.variables??{}).forEach(([e,l])=>{let a=document.querySelector(`input[name="${e}"]`);a&&a.value&&(t[e]=a?.value)})}),console.log("updatedVariables",t);try{await (0,S.setCallbacksCall)(e,{general_settings:{alerting:["email"]},environment_variables:t}),N.default.success("Email settings updated successfully")}catch(e){N.default.fromBackend(e)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"mt-6 mb-6",children:(0,t.jsx)(O,{accessToken:e})}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(A,{level:4,children:"Email Server Settings"}),(0,t.jsxs)(y.Text,{children:[(0,t.jsxs)("a",{href:"https://docs.litellm.ai/docs/proxy/email",target:"_blank",style:{color:"blue"},children:[" ","LiteLLM Docs: email alerts"]})," ",(0,t.jsx)("br",{})]}),(0,t.jsx)("div",{className:"flex w-full",children:n.filter(e=>"email"===e.name).map((e,l)=>(0,t.jsx)(u.TableCell,{children:(0,t.jsx)("ul",{children:(0,t.jsx)(s.Grid,{numItems:2,children:Object.entries(e.variables??{}).map(([e,l])=>(0,t.jsxs)("li",{className:"mx-2 my-2",children:[!0!=r&&("EMAIL_LOGO_URL"===e||"EMAIL_SUPPORT_CONTACT"===e)?(0,t.jsxs)("div",{children:[(0,t.jsx)("a",{href:"https://forms.gle/W3U4PZpJGFHWtHyA9",target:"_blank",children:(0,t.jsxs)(y.Text,{className:"mt-2",children:[" ✨ ",e]})}),(0,t.jsx)(b.TextInput,{name:e,defaultValue:l,type:"password",disabled:!0,style:{width:"400px"}})]}):(0,t.jsxs)("div",{children:[(0,t.jsx)(y.Text,{className:"mt-2",children:e}),(0,t.jsx)(b.TextInput,{name:e,defaultValue:l,type:"password",style:{width:"400px"}})]}),(0,t.jsxs)("p",{style:{fontSize:"small",fontStyle:"italic"},children:["SMTP_HOST"===e&&(0,t.jsxs)("div",{style:{color:"gray"},children:["Enter the SMTP host address, e.g. `smtp.resend.com`",(0,t.jsx)("span",{style:{color:"red"},children:" Required * "})]}),"SMTP_PORT"===e&&(0,t.jsxs)("div",{style:{color:"gray"},children:["Enter the SMTP port number, e.g. `587`",(0,t.jsx)("span",{style:{color:"red"},children:" Required * "})]}),"SMTP_USERNAME"===e&&(0,t.jsxs)("div",{style:{color:"gray"},children:["Enter the SMTP username, e.g. `username`",(0,t.jsx)("span",{style:{color:"red"},children:" Required * "})]}),"SMTP_PASSWORD"===e&&(0,t.jsx)("span",{style:{color:"red"},children:" Required * "}),"SMTP_SENDER_EMAIL"===e&&(0,t.jsxs)("div",{style:{color:"gray"},children:["Enter the sender email address, e.g. `sender@berri.ai`",(0,t.jsx)("span",{style:{color:"red"},children:" Required * "})]}),"TEST_EMAIL_ADDRESS"===e&&(0,t.jsxs)("div",{style:{color:"gray"},children:["Email Address to send `Test Email Alert` to. example: `info@berri.ai`",(0,t.jsx)("span",{style:{color:"red"},children:" Required * "})]}),"EMAIL_LOGO_URL"===e&&(0,t.jsx)("div",{style:{color:"gray"},children:"(Optional) Customize the Logo that appears in the email, pass a url to your logo"}),"EMAIL_SUPPORT_CONTACT"===e&&(0,t.jsx)("div",{style:{color:"gray"},children:"(Optional) Customize the support email address that appears in the email. Default is support@berri.ai"})]})]},e))})})},l))}),(0,t.jsx)(l.Button,{className:"mt-2",onClick:()=>i(),children:"Save Changes"}),(0,t.jsx)(l.Button,{onClick:async()=>{if(e)try{await (0,S.serviceHealthCheck)(e,"email"),N.default.success("Email test triggered. Check your configured email inbox/logs.")}catch(e){N.default.fromBackend(e)}},className:"mx-2",children:"Test Email Alerts"})]})]})};var L=e.i(905536),z=e.i(28651),R=e.i(68155),D=e.i(220508),$=e.i(389083),U=e.i(752978);let M=({alertingSettings:e,handleInputChange:a,handleResetField:s,handleSubmit:r,premiumUser:i})=>{let[o]=v.Form.useForm();return(0,t.jsxs)(v.Form,{form:o,onFinish:()=>{console.log("INSIDE ONFINISH");let e=o.getFieldsValue(),t=Object.entries(e).every(([e,t])=>"boolean"!=typeof t&&(""===t||null==t));console.log(`formData: ${JSON.stringify(e)}, isEmpty: ${t}`),t?console.log("Some form fields are empty."):r(e)},labelAlign:"left",children:[e.map((e,r)=>(0,t.jsxs)(h.TableRow,{children:[(0,t.jsxs)(u.TableCell,{align:"center",children:[(0,t.jsx)(y.Text,{children:e.field_name}),(0,t.jsx)("p",{style:{fontSize:"0.65rem",color:"#808080",fontStyle:"italic"},className:"mt-1",children:e.field_description})]}),e.premium_field?i?(0,t.jsx)(v.Form.Item,{name:e.field_name,children:(0,t.jsx)(u.TableCell,{children:"Integer"===e.field_type?(0,t.jsx)(z.InputNumber,{step:1,value:e.field_value,onChange:t=>a(e.field_name,t)}):"Boolean"===e.field_type?(0,t.jsx)(n.Switch,{checked:e.field_value,onChange:t=>a(e.field_name,t)}):(0,t.jsx)(k.Input,{value:e.field_value,onChange:t=>a(e.field_name,t)})})}):(0,t.jsx)(u.TableCell,{children:(0,t.jsx)(l.Button,{className:"flex items-center justify-center",children:(0,t.jsx)("a",{href:"https://forms.gle/W3U4PZpJGFHWtHyA9",target:"_blank",children:"✨ Enterprise Feature"})})}):(0,t.jsx)(v.Form.Item,{name:e.field_name,className:"mb-0",valuePropName:"Boolean"===e.field_type?"checked":"value",children:(0,t.jsx)(u.TableCell,{children:"Integer"===e.field_type?(0,t.jsx)(z.InputNumber,{step:1,value:e.field_value,onChange:t=>a(e.field_name,t),className:"p-0"}):"Boolean"===e.field_type?(0,t.jsx)(n.Switch,{checked:e.field_value,onChange:t=>{a(e.field_name,t),o.setFieldsValue({[e.field_name]:t})}}):(0,t.jsx)(k.Input,{value:e.field_value,onChange:t=>a(e.field_name,t)})})}),(0,t.jsx)(u.TableCell,{children:!0==e.stored_in_db?(0,t.jsx)($.Badge,{icon:D.CheckCircleIcon,className:"text-white",children:"In DB"}):!1==e.stored_in_db?(0,t.jsx)($.Badge,{className:"text-gray bg-white outline",children:"In Config"}):(0,t.jsx)($.Badge,{className:"text-gray bg-white outline",children:"Not Set"})}),(0,t.jsx)(u.TableCell,{children:(0,t.jsx)(U.Icon,{icon:R.TrashIcon,color:"red",onClick:()=>s(e.field_name,r),children:"Reset"})})]},r)),(0,t.jsx)("div",{children:(0,t.jsx)(C.Button,{htmlType:"submit",children:"Update Settings"})})]})},Z=({accessToken:e,premiumUser:l})=>{let[a,s]=(0,j.useState)([]);return(0,j.useEffect)(()=>{e&&(0,S.alertingSettingsCall)(e).then(e=>{s(e)})},[e]),(0,t.jsx)(M,{alertingSettings:a,handleInputChange:(e,t)=>{let l=a.map(l=>l.field_name===e?{...l,field_value:t}:l);console.log(`updatedSettings: ${JSON.stringify(l)}`),s(l)},handleResetField:(t,l)=>{if(e)try{let e=a.map(e=>e.field_name===t?{...e,stored_in_db:null,field_value:e.field_default_value}:e);s(e)}catch(e){console.log("ERROR OCCURRED!")}},handleSubmit:t=>{if(!e)return;if(console.log(`formValues: ${t}`),null==t||void 0==t)return;let l={};a.forEach(e=>{l[e.field_name]=e.field_value});let s={...t,...l};console.log(`mergedFormValues: ${JSON.stringify(s)}`);let{slack_alerting:r,...n}=s;console.log(`slack_alerting: ${r}, alertingArgs: ${JSON.stringify(n)}`);try{(0,S.updateConfigFieldSetting)(e,"alerting_args",n),"boolean"==typeof r&&(!0==r?(0,S.updateConfigFieldSetting)(e,"alerting",["slack"]):(0,S.updateConfigFieldSetting)(e,"alerting",[])),N.default.success("Wait 10s for proxy to update.")}catch(e){}},premiumUser:l})};var q=e.i(954616),H=e.i(266027),W=e.i(912598),V=e.i(243652);let G=(0,V.createQueryKeys)("cloudZeroSettings"),K=async e=>{let t=(0,S.getProxyBaseUrl)(),l=t?`${t}/cloudzero/settings`:"/cloudzero/settings",a=await fetch(l,{method:"GET",headers:{[(0,S.getGlobalLitellmHeaderName)()]:`Bearer ${e}`,"Content-Type":"application/json"}});if(!a.ok){let e="Failed to fetch CloudZero settings";try{let t=await a.json();"object"==typeof t&&null!==t?e=t?.error?.message||t?.error||t?.message||t?.detail||("string"==typeof t?.error?t.error:e):"string"==typeof t&&(e=t)}catch{e=a.statusText||e}throw Error(e)}let s=await a.json();return s&&(s.api_key_masked||s.connection_id)?s:null},J=async(e,t)=>{let l=(0,S.getProxyBaseUrl)(),a=l?`${l}/cloudzero/settings`:"/cloudzero/settings",s=await fetch(a,{method:"PUT",headers:{[(0,S.getGlobalLitellmHeaderName)()]:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({...t.connection_id&&{connection_id:t.connection_id},...t.timezone&&{timezone:t.timezone},...t.api_key&&{api_key:t.api_key}})});if(!s.ok){let e="Failed to update CloudZero settings";try{let t=await s.json();"object"==typeof t&&null!==t?e=t?.error?.message||t?.error||t?.message||t?.detail||("string"==typeof t?.error?t.error:e):"string"==typeof t&&(e=t)}catch{e=s.statusText||e}throw Error(e)}return await s.json()},Q=async e=>{let t=(0,S.getProxyBaseUrl)(),l=t?`${t}/cloudzero/delete`:"/cloudzero/delete",a=await fetch(l,{method:"DELETE",headers:{[(0,S.getGlobalLitellmHeaderName)()]:`Bearer ${e}`,"Content-Type":"application/json"}});if(!a.ok){let e="Failed to delete CloudZero settings";try{let t=await a.json();"object"==typeof t&&null!==t?e=t?.error?.message||t?.error||t?.message||t?.detail||("string"==typeof t?.error?t.error:e):"string"==typeof t&&(e=t)}catch{e=a.statusText||e}throw Error(e)}return await a.json()};var Y=e.i(135214),X=e.i(175712),ee=e.i(21548);let{Title:et,Paragraph:el}=_.Typography;function ea({startCreation:e}){return(0,t.jsx)("div",{className:"bg-white p-12 rounded-lg border border-dashed border-gray-300 text-center max-w-2xl mx-auto mt-8",children:(0,t.jsx)(ee.Empty,{image:ee.Empty.PRESENTED_IMAGE_SIMPLE,description:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(et,{level:4,children:"No CloudZero Integration Found"}),(0,t.jsx)(el,{type:"secondary",className:"max-w-md mx-auto",children:"Connect your CloudZero account to start tracking and analyzing your cloud costs directly from LiteLLM."})]}),children:(0,t.jsx)(C.Button,{type:"primary",size:"large",onClick:e,className:"flex items-center gap-2 mx-auto mt-4",children:"Add CloudZero Integration"})})})}var es=e.i(998573);let er=async(e,t)=>{let l=(0,S.getProxyBaseUrl)(),a=l?`${l}/cloudzero/init`:"/cloudzero/init",s=await fetch(a,{method:"POST",headers:{[(0,S.getGlobalLitellmHeaderName)()]:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({connection_id:t.connection_id,timezone:t.timezone??"UTC",...t.api_key&&{api_key:t.api_key}})});if(!s.ok){let e=await s.json().catch(()=>({}));throw Error(e?.error?.message||e?.message||e?.detail||"Failed to create CloudZero integration")}return await s.json()};function en({open:e,onOk:l,onCancel:a}){let s,{accessToken:r}=(0,Y.default)(),[n]=v.Form.useForm(),i=(s=r||"",(0,q.useMutation)({mutationFn:async e=>{if(!s)throw Error("Access token is required");return await er(s,e)}}));(0,j.useEffect)(()=>{e&&n.resetFields()},[e,n]);let o=async()=>{try{let e=await n.validateFields();i.mutate({connection_id:e.connection_id,timezone:e.timezone||"UTC",...e.api_key&&{api_key:e.api_key}},{onSuccess:()=>{es.message.success("CloudZero integration created successfully"),n.resetFields(),l()},onError:e=>{e?.errorFields||es.message.error(e?.message||"Failed to create CloudZero integration")}})}catch(e){if(e?.errorFields)return;es.message.error(e?.message||"Failed to create CloudZero integration")}};return(0,t.jsx)(w.Modal,{title:"Create CloudZero Integration",open:e,onOk:o,onCancel:()=>{n.resetFields(),a()},confirmLoading:i.isPending,okText:i.isPending?"Creating...":"Create",cancelText:"Cancel",okButtonProps:{disabled:i.isPending},cancelButtonProps:{disabled:i.isPending},children:(0,t.jsxs)(v.Form,{form:n,layout:"vertical",onFinish:o,children:[(0,t.jsx)(v.Form.Item,{label:"CloudZero API Key",name:"api_key",rules:[{required:!0,message:"Please enter your CloudZero API key"}],children:(0,t.jsx)(k.Input.Password,{placeholder:"Enter your CloudZero API key"})}),(0,t.jsx)(v.Form.Item,{label:"Connection ID",name:"connection_id",rules:[{required:!0,message:"Please enter your CloudZero connection ID"}],children:(0,t.jsx)(k.Input,{placeholder:"Enter your CloudZero connection ID"})}),(0,t.jsx)(v.Form.Item,{label:"Timezone",name:"timezone",tooltip:"Timezone for date handling (defaults to UTC if not provided)",children:(0,t.jsx)(k.Input,{placeholder:"UTC"})})]})})}let ei=async(e,t={})=>{let l=(0,S.getProxyBaseUrl)(),a=l?`${l}/cloudzero/dry-run`:"/cloudzero/dry-run",s=await fetch(a,{method:"POST",headers:{[(0,S.getGlobalLitellmHeaderName)()]:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({limit:t.limit??10})});if(!s.ok){let e=await s.json().catch(()=>({}));throw Error(e?.error?.message||e?.message||e?.detail||"Failed to perform dry run")}return await s.json()},eo=async(e,t={})=>{let l=(0,S.getProxyBaseUrl)(),a=l?`${l}/cloudzero/export`:"/cloudzero/export",s=await fetch(a,{method:"POST",headers:{[(0,S.getGlobalLitellmHeaderName)()]:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({operation:t.operation??"replace_hourly"})});if(!s.ok){let e=await s.json().catch(()=>({}));throw Error(e?.error?.message||e?.message||e?.detail||"Failed to export data")}return await s.json()};var ec=e.i(127952),ed=e.i(560445),eu=e.i(869216),em=e.i(883552),eg=e.i(262218);let eh=(0,e.i(475254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var ep=e.i(688511),ex=e.i(431343),ef=e.i(727612),ey=e.i(569074);function eb({open:e,onOk:l,onCancel:a,settings:s}){var r;let n,{accessToken:i}=(0,Y.default)(),[o]=v.Form.useForm(),c=(r=i||"",n=(0,W.useQueryClient)(),(0,q.useMutation)({mutationFn:async e=>{if(!r)throw Error("Access token is required");return await J(r,e)},onSuccess:()=>{n.invalidateQueries({queryKey:G.list({})})}}));(0,j.useEffect)(()=>{e&&s?o.setFieldsValue({connection_id:s.connection_id,timezone:s.timezone||"UTC",api_key:""}):e&&o.resetFields()},[e,s,o]);let d=async()=>{try{let e=await o.validateFields();c.mutate({connection_id:e.connection_id,timezone:e.timezone||"UTC",...e.api_key&&{api_key:e.api_key}},{onSuccess:()=>{es.message.success("CloudZero integration updated successfully"),o.resetFields(),l()},onError:e=>{e?.errorFields||es.message.error(e?.message||"Failed to update CloudZero integration")}})}catch(e){if(e?.errorFields)return;es.message.error(e?.message||"Failed to update CloudZero integration")}};return(0,t.jsx)(w.Modal,{title:"Edit CloudZero Integration",open:e,onOk:d,onCancel:()=>{o.resetFields(),a()},confirmLoading:c.isPending,okText:c.isPending?"Updating...":"Update",cancelText:"Cancel",okButtonProps:{disabled:c.isPending},cancelButtonProps:{disabled:c.isPending},children:(0,t.jsxs)(v.Form,{form:o,layout:"vertical",onFinish:d,children:[(0,t.jsx)(v.Form.Item,{label:"CloudZero API Key",name:"api_key",rules:[{required:!1,message:"Please enter your CloudZero API key"}],tooltip:"Leave empty to keep the existing API key",children:(0,t.jsx)(k.Input.Password,{placeholder:"Leave empty to keep existing"})}),(0,t.jsx)(v.Form.Item,{label:"Connection ID",name:"connection_id",rules:[{required:!0,message:"Please enter your CloudZero connection ID"}],children:(0,t.jsx)(k.Input,{placeholder:"Enter your CloudZero connection ID"})}),(0,t.jsx)(v.Form.Item,{label:"Timezone",name:"timezone",tooltip:"Timezone for date handling (defaults to UTC if not provided)",children:(0,t.jsx)(k.Input,{placeholder:"UTC"})})]})})}function ej({settings:e,onSettingsUpdated:l}){var a;let s,r,n,{accessToken:i}=(0,Y.default)(),[o,c]=(0,j.useState)(!1),[d,u]=(0,j.useState)(!1),m=(s=i||"",(0,q.useMutation)({mutationFn:async(e={})=>{if(!s)throw Error("Access token is required");return await ei(s,e)}})),g=(r=i||"",(0,q.useMutation)({mutationFn:async(e={})=>{if(!r)throw Error("Access token is required");return await eo(r,e)}})),h=(a=i||"",n=(0,W.useQueryClient)(),(0,q.useMutation)({mutationFn:async()=>{if(!a)throw Error("Access token is required");return await Q(a)},onSuccess:()=>{n.invalidateQueries({queryKey:G.list({})})}})),p=m.data?JSON.stringify(m.data,null,2):null,x=async()=>{c(!1),l()};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"space-y-6 w-full max-w-4xl mx-auto",children:(0,t.jsxs)(X.Card,{title:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-lg font-semibold",children:"CloudZero Configuration"}),(0,t.jsx)(eg.Tag,{color:"success",className:"ml-2 capitalize",children:e.status||"Active"})]}),extra:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(C.Button,{icon:(0,t.jsx)(ep.Edit,{size:16}),onClick:()=>{c(!0)},className:"flex items-center gap-2",children:"Edit"}),(0,t.jsx)(C.Button,{danger:!0,icon:(0,t.jsx)(ef.Trash2,{size:16}),onClick:()=>{u(!0)},className:"flex items-center gap-2",children:"Delete"})]}),className:"shadow-sm",children:[(0,t.jsxs)(eu.Descriptions,{bordered:!0,column:{xxl:1,xl:1,lg:1,md:1,sm:1,xs:1},children:[(0,t.jsx)(eu.Descriptions.Item,{label:"API Key (Redacted)",children:(0,t.jsx)("span",{className:"font-mono text-gray-600",children:e.api_key_masked||(0,t.jsx)("span",{className:"text-gray-400 italic",children:"Not configured"})})}),(0,t.jsx)(eu.Descriptions.Item,{label:"Connection ID",children:(0,t.jsx)("span",{className:"font-mono text-gray-600",children:e.connection_id||(0,t.jsx)("span",{className:"text-gray-400 italic",children:"Not configured"})})}),(0,t.jsx)(eu.Descriptions.Item,{label:"Timezone",children:e.timezone||(0,t.jsx)("span",{className:"text-gray-400 italic",children:"Default (UTC)"})})]}),(0,t.jsx)(E.Divider,{orientation:"left",className:"text-gray-500",children:"Actions"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6",children:[(0,t.jsx)(C.Button,{onClick:()=>{i&&m.mutate({limit:10},{onSuccess:e=>{es.message.success("Dry run completed successfully")},onError:e=>{es.message.error(e?.message||"Failed to perform dry run")}})},loading:m.isPending,icon:(0,t.jsx)(ex.Play,{size:16}),className:"flex items-center gap-2",children:"Run Dry Run Simulation"}),(0,t.jsx)(em.Popconfirm,{title:"Export Data to CloudZero",description:"This will push the current accumulated cost data to CloudZero. Continue?",onConfirm:()=>{i&&g.mutate({operation:"replace_hourly"},{onSuccess:()=>{es.message.success("Data successfully exported to CloudZero")},onError:e=>{es.message.error(e?.message||"Failed to export data")}})},okText:"Export",cancelText:"Cancel",children:(0,t.jsx)(C.Button,{type:"primary",loading:g.isPending,icon:(0,t.jsx)(ey.Upload,{size:16}),className:"flex items-center gap-2",children:"Export Data Now"})})]}),p&&(0,t.jsx)("div",{className:"mt-6 animate-in fade-in slide-in-from-top-4 duration-300",children:(0,t.jsx)(ed.Alert,{message:"Dry Run Results",description:(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsxs)("p",{className:"mb-2 text-gray-600",children:["Simulation output for connection: ",e.connection_id]}),(0,t.jsx)("pre",{className:"bg-gray-50 p-4 rounded-md border border-gray-200 overflow-x-auto text-xs font-mono text-gray-800",children:p})]}),type:"info",showIcon:!0,icon:(0,t.jsx)(eh,{className:"text-blue-500"})})})]})}),(0,t.jsx)(eb,{open:o,onOk:x,onCancel:()=>{c(!1)},settings:e}),(0,t.jsx)(ec.default,{isOpen:d,title:"Delete CloudZero Integration?",message:"Are you sure you want to delete this CloudZero integration? All associated settings and configurations will be permanently removed.",resourceInformationTitle:"Integration Details",resourceInformation:[{label:"Connection ID",value:e.connection_id,code:!0},{label:"Timezone",value:e.timezone||"Default (UTC)"}],onCancel:()=>{u(!1)},onOk:()=>{i&&h.mutate(void 0,{onSuccess:()=>{es.message.success("CloudZero integration deleted successfully"),u(!1),l()},onError:e=>{es.message.error(e?.message||"Failed to delete CloudZero integration")}})},confirmLoading:h.isPending})]})}function eC(){let{accessToken:e}=(0,Y.default)(),{data:l,isLoading:a,error:s}=(0,H.useQuery)({queryKey:G.list({}),queryFn:async()=>await K(e),enabled:!!e,staleTime:36e5,gcTime:36e5}),r=(0,W.useQueryClient)(),n=(0,V.createQueryKeys)("cloudZeroSettings"),[i,o]=(0,j.useState)(!1),c=async()=>{o(!1),await r.invalidateQueries({queryKey:n.list({})})};return a?(0,t.jsx)(X.Card,{children:(0,t.jsx)(_.Typography.Text,{children:"Loading CloudZero settings..."})}):s?(0,t.jsx)(X.Card,{children:(0,t.jsxs)(_.Typography.Text,{className:"text-red-600",children:["Error loading CloudZero settings: ",s instanceof Error?s.message:String(s)]})}):l?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(ej,{settings:l,onSettingsUpdated:c})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ea,{startCreation:()=>o(!0)}),(0,t.jsx)(en,{open:i,onOk:c,onCancel:()=>{o(!1)}})]})}var ev=e.i(291542),ek=e.i(335771),ew=e.i(902555);let eT=[{value:"success",label:"Success"},{value:"failure",label:"Failure"},{value:"success_and_failure",label:"Success & Failure"}],e_=({callbacks:e,availableCallbacks:a={},onTest:s=()=>{},onEdit:r=()=>{},onDelete:n=()=>{},onAdd:i=()=>{}})=>{let o=[{title:(0,t.jsx)("span",{className:"font-medium text-gray-700",children:"Callback Name"}),dataIndex:"name",key:"name",render:(e,l)=>{let s=l.name;console.log("availableCallbacks",a);let r=a[s]?.ui_callback_name||s;return(0,t.jsx)("div",{className:"font-medium text-gray-800",children:r})}},{title:(0,t.jsx)("span",{className:"font-medium text-gray-700",children:"Mode"}),key:"mode",render:(e,l)=>{let a=l.mode||"success",s=eT.find(e=>e.value===a)?.label||a,r="success"===a?"bg-green-100 text-green-800":"failure"===a?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800";return(0,t.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r}`,children:s})},width:240},{title:(0,t.jsx)("span",{className:"font-medium text-gray-700 text-right w-full block",children:"Actions"}),key:"actions",align:"right",render:(e,l)=>(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(ew.default,{variant:"Test",tooltipText:"Test Callback",onClick:()=>s(l)}),(0,t.jsx)(ew.default,{variant:"Edit",tooltipText:"Edit Callback",onClick:()=>r(l)}),(0,t.jsx)(ew.default,{variant:"Delete",tooltipText:"Delete Callback",onClick:()=>n(l)})]}),width:240}];return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"w-full mt-4",children:[(0,t.jsx)(l.Button,{onClick:i,className:"mx-auto",children:"+ Add Callback"}),(0,t.jsx)("div",{className:"flex justify-between items-center my-2",children:(0,t.jsx)(ek.default,{level:4,children:"Active Logging Callbacks"})}),0===e.length?(0,t.jsx)("div",{className:"flex flex-col items-center justify-center p-8 bg-gray-50 border border-gray-200 rounded-lg",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"No callbacks configured"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Add your first callback to start logging data to external services."})]})}):(0,t.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:(0,t.jsx)(ev.Table,{columns:o,dataSource:e,rowKey:e=>e.name,pagination:!1,rowClassName:()=>"hover:bg-gray-50"})})]})})};var eN=e.i(190702);let{Title:eS,Paragraph:eE}=_.Typography,eF=({params:e,callbackConfigs:l,selectedCallback:a})=>e&&0!==e.length?(0,t.jsx)("div",{className:"space-y-4 mt-6 p-4 bg-gray-50 rounded-lg border",children:e.map(e=>{let s=l.find(e=>e.id===a),r=s?.dynamic_params?.[e]||{},n=r.type||"text",i=r.ui_name||e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),o=r.required||!1;return(0,t.jsx)(L.default,{label:(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[i," "]}),name:e,className:"mb-4",rules:o?[{required:!0,message:`Please enter the ${i.toLowerCase()}`}]:void 0,children:"password"===n?(0,t.jsx)(k.Input.Password,{size:"large",placeholder:`Enter your ${i.toLowerCase()}`,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}):"number"===n?(0,t.jsx)(k.Input,{type:"number",size:"large",placeholder:`Enter ${i.toLowerCase()}`,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",min:0,max:1,step:.1}):(0,t.jsx)(k.Input,{size:"large",placeholder:`Enter your ${i.toLowerCase()}`,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})},e)})}):null,eP=({callbackConfigs:e,selectedCallback:l,onCallbackChange:a,disabled:s=!1})=>(0,t.jsx)(L.default,{label:"Callback",name:"callback",rules:s?void 0:[{required:!0,message:"Please select a callback"}],children:(0,t.jsx)(T.Select,{placeholder:"Choose a logging callback...",size:"large",className:"w-full",showSearch:!0,disabled:s,value:l,filterOption:(e,t)=>(t?.value?.toString()??"").toLowerCase().includes(e.toLowerCase()),onChange:a,children:e.map(e=>{let l=e.logo,a=l&&(l.includes("/")||l.startsWith("data:")||l.startsWith("http"))?l:`../ui/assets/logos/${l}`;return(0,t.jsx)(r.SelectItem,{value:e.id,children:(0,t.jsxs)("div",{className:"flex items-center space-x-3 py-1",children:[(0,t.jsx)("div",{className:"w-6 h-6 flex items-center justify-center",children:(0,t.jsx)("img",{src:a,alt:`${e.displayName} logo`,className:"w-6 h-6 rounded object-contain",onError:e=>{e.currentTarget.style.display="none"}})}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:e.displayName})]})},e.id)})})}),eI=(e,t,l)=>{if(!e)return l?Object.keys(l):[];let a=t.find(t=>t.id===e);return a?.dynamic_params?Object.keys(a.dynamic_params):l?Object.keys(l):[]};e.s(["default",0,({accessToken:e,userRole:r,userID:k,premiumUser:T})=>{let[_,E]=(0,j.useState)([]),[F,P]=(0,j.useState)([]),[I,O]=(0,j.useState)(!1),[A]=v.Form.useForm(),[L]=v.Form.useForm(),[z,R]=(0,j.useState)(null),[D,$]=(0,j.useState)(""),[U,M]=(0,j.useState)({}),[q,H]=(0,j.useState)([]),[W,V]=(0,j.useState)(!1),[G,K]=(0,j.useState)([]),[J,Q]=(0,j.useState)({}),[Y,X]=(0,j.useState)([]),[ee,et]=(0,j.useState)(!1),[el,ea]=(0,j.useState)(null),[es,er]=(0,j.useState)(!1),[en,ei]=(0,j.useState)(null),[eo,ed]=(0,j.useState)(!1),[eu,em]=(0,j.useState)(!1),[eg,eh]=(0,j.useState)(!1);(0,j.useEffect)(()=>{e&&(0,S.getCallbackConfigsCall)(e).then(e=>{K(e||[])}).catch(e=>{N.default.fromBackend("Failed to load callback configs: "+(0,eN.parseErrorMessage)(e))})},[e]),(0,j.useEffect)(()=>{if(ee&&el){let e=Object.fromEntries(Object.entries(el.variables||{}).map(([e,t])=>[e,t??""]));L.setFieldsValue({...e,callback:el.name})}},[ee,el,L]);let ep=e=>{q.includes(e)?H(q.filter(t=>t!==e)):H([...q,e])},ex={llm_exceptions:"LLM Exceptions",llm_too_slow:"LLM Responses Too Slow",llm_requests_hanging:"LLM Requests Hanging",budget_alerts:"Budget Alerts (API Keys, Users)",db_exceptions:"Database Exceptions (Read/Write)",daily_reports:"Weekly/Monthly Spend Reports",outage_alerts:"Outage Alerts",region_outage_alerts:"Region Outage Alerts"};(0,j.useEffect)(()=>{e&&r&&k&&(0,S.getCallbacksCall)(e,k,r).then(e=>{E(e.callbacks),Q(e.available_callbacks);let t=e.alerts;if(t&&t.length>0){let e=t[0],l=e.variables.SLACK_WEBHOOK_URL;H(e.active_alerts),$(l),M(e.alerts_to_webhook)}P(t)})},[e,r,k]);let ef=e=>q&&q.includes(e),ey=async(t,l,a)=>{if(e){a?ed(!0):em(!0);try{if(await (0,S.setCallbacksCall)(e,{environment_variables:t,litellm_settings:{success_callback:[l]}}),N.default.success(a?"Callback updated successfully":`Callback ${l} added successfully`),a?(et(!1),L.resetFields(),ea(null)):(V(!1),A.resetFields(),R(null),X([])),k&&r){let t=await (0,S.getCallbacksCall)(e,k,r);E(t.callbacks)}}catch(e){N.default.fromBackend(e)}finally{a?ed(!1):em(!1)}}},eb=async e=>{el&&await ey(e,el.name,!0)},ej=async e=>{let t=e?.callback;t&&await ey(e,t,!1)},ev=async()=>{if(!e)return;let t={};Object.entries(ex).forEach(([e,l])=>{let a=document.querySelector(`input[name="${e}"]`),s=a?.value||"";t[e]=s});try{await (0,S.setCallbacksCall)(e,{general_settings:{alert_to_webhook_url:t,alert_types:q}})}catch(e){N.default.fromBackend(e)}N.default.success("Alerts updated successfully")},ek=async()=>{if(en&&e)try{if(eh(!0),await (0,S.deleteCallback)(e,en.name),N.default.success(`Callback ${en.name} deleted successfully`),k&&r){let t=await (0,S.getCallbacksCall)(e,k,r);E(t.callbacks)}er(!1),ei(null)}catch(e){console.error("Failed to delete callback:",e),N.default.fromBackend(e)}finally{eh(!1)}};return e?(0,t.jsxs)("div",{className:"w-full mx-4",children:[(0,t.jsx)(s.Grid,{numItems:1,className:"gap-2 p-8 w-full mt-2",children:(0,t.jsxs)(o.TabGroup,{children:[(0,t.jsxs)(p.TabList,{variant:"line",defaultValue:"1",children:[(0,t.jsx)(i.Tab,{value:"1",children:"Logging Callbacks"}),(0,t.jsx)(i.Tab,{value:"2",children:"CloudZero Cost Tracking"}),(0,t.jsx)(i.Tab,{value:"2",children:"Alerting Types"}),(0,t.jsx)(i.Tab,{value:"3",children:"Alerting Settings"}),(0,t.jsx)(i.Tab,{value:"4",children:"Email Alerts"})]}),(0,t.jsxs)(f.TabPanels,{children:[(0,t.jsx)(x.TabPanel,{children:(0,t.jsx)(e_,{callbacks:_,availableCallbacks:J,onAdd:()=>V(!0),onEdit:e=>{ea(e),et(!0)},onDelete:e=>{ei(e),er(!0)},onTest:async t=>{try{await (0,S.serviceHealthCheck)(e,t.name),N.default.success("Health check triggered")}catch(e){N.default.fromBackend((0,eN.parseErrorMessage)(e))}}})}),(0,t.jsx)(x.TabPanel,{children:(0,t.jsx)("div",{className:"p-8",children:(0,t.jsx)(eC,{})})}),(0,t.jsx)(x.TabPanel,{children:(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(y.Text,{className:"my-2",children:["Alerts are only supported for Slack Webhook URLs. Get your webhook urls from"," ",(0,t.jsx)("a",{href:"https://api.slack.com/messaging/webhooks",target:"_blank",style:{color:"blue"},children:"here"})]}),(0,t.jsxs)(c.Table,{children:[(0,t.jsx)(m.TableHead,{children:(0,t.jsxs)(h.TableRow,{children:[(0,t.jsx)(g.TableHeaderCell,{}),(0,t.jsx)(g.TableHeaderCell,{}),(0,t.jsx)(g.TableHeaderCell,{children:"Slack Webhook URL"})]})}),(0,t.jsx)(d.TableBody,{children:Object.entries(ex).map(([e,a],s)=>(0,t.jsxs)(h.TableRow,{children:[(0,t.jsx)(u.TableCell,{children:"region_outage_alerts"==e?T?(0,t.jsx)(n.Switch,{id:"switch",name:"switch",checked:ef(e),onChange:()=>ep(e)}):(0,t.jsx)(l.Button,{className:"flex items-center justify-center",children:(0,t.jsx)("a",{href:"https://forms.gle/W3U4PZpJGFHWtHyA9",target:"_blank",children:"✨ Enterprise Feature"})}):(0,t.jsx)(n.Switch,{id:"switch",name:"switch",checked:ef(e),onChange:()=>ep(e)})}),(0,t.jsx)(u.TableCell,{children:(0,t.jsx)(y.Text,{children:a})}),(0,t.jsx)(u.TableCell,{children:(0,t.jsx)(b.TextInput,{name:e,type:"password",defaultValue:U&&U[e]?U[e]:D})})]},s))})]}),(0,t.jsx)(l.Button,{size:"xs",className:"mt-2",onClick:ev,children:"Save Changes"}),(0,t.jsx)(l.Button,{onClick:async()=>{try{await (0,S.serviceHealthCheck)(e,"slack"),N.default.success("Alert test triggered. Test request to slack made - check logs/alerts on slack to verify")}catch(e){N.default.fromBackend((0,eN.parseErrorMessage)(e))}},className:"mx-2",children:"Test Alerts"})]})}),(0,t.jsx)(x.TabPanel,{children:(0,t.jsx)(Z,{accessToken:e,premiumUser:T})}),(0,t.jsx)(x.TabPanel,{children:(0,t.jsx)(B,{accessToken:e,premiumUser:T,alerts:F})})]})]})}),(0,t.jsxs)(w.Modal,{title:"Add Logging Callback",open:W,width:800,onCancel:()=>{V(!1),R(null),X([])},footer:null,children:[(0,t.jsxs)("a",{href:"https://docs.litellm.ai/docs/proxy/logging",className:"mb-8 mt-4",target:"_blank",style:{color:"blue"},children:[" ","LiteLLM Docs: Logging"]}),(0,t.jsxs)(v.Form,{form:A,onFinish:ej,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",children:[(0,t.jsx)(eP,{callbackConfigs:G,selectedCallback:z,onCallbackChange:e=>{R(e),X(eI(e,G))}}),(0,t.jsx)(eF,{params:Y,callbackConfigs:G,selectedCallback:z}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 mt-6 border-t border-gray-200",children:[(0,t.jsx)(C.Button,{onClick:()=>{V(!1),R(null),X([]),A.resetFields()},disabled:eu,children:"Cancel"}),(0,t.jsx)(C.Button,{htmlType:"submit",loading:eu,disabled:eu,children:eu?"Adding...":"Add Callback"})]})]})]}),(0,t.jsx)(w.Modal,{open:ee,width:800,title:"Edit Callback Settings",onCancel:()=>{et(!1),ea(null),L.resetFields()},footer:null,children:(0,t.jsxs)(v.Form,{form:L,onFinish:eb,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",children:[el&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eP,{callbackConfigs:G,selectedCallback:el.name,onCallbackChange:()=>{},disabled:!0}),(0,t.jsx)(eF,{params:eI(el.name,G,el.variables),callbackConfigs:G,selectedCallback:el.name})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 mt-6 border-t border-gray-200",children:[(0,t.jsx)(C.Button,{onClick:()=>{et(!1),ea(null),L.resetFields()},disabled:eo,children:"Cancel"}),(0,t.jsx)(C.Button,{onClick:()=>{L.submit()},loading:eo,disabled:eo,children:eo?"Saving...":"Save Changes"})]})]})}),(0,t.jsx)(ec.default,{isOpen:es,title:"Delete Callback",message:"Are you sure you want to delete this callback? This action cannot be undone.",resourceInformationTitle:"Callback Information",resourceInformation:[{label:"Callback Name",value:en?.name},{label:"Mode",value:en?.mode||"success"}],onCancel:()=>{er(!1),ei(null)},onOk:ek,confirmLoading:eg})]}):null}],700904)}]);