(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,988297,e=>{"use strict";var s=e.i(271645);let a=s.forwardRef(function(e,a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:a},e),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"}))});e.s(["PlusIcon",0,a],988297)},500727,e=>{"use strict";var s=e.i(266027),a=e.i(243652),t=e.i(764205),l=e.i(135214);let r=(0,a.createQueryKeys)("mcpServers");e.s(["useMCPServers",0,()=>{let{accessToken:e}=(0,l.default)();return(0,s.useQuery)({queryKey:r.list({}),queryFn:async()=>await (0,t.fetchMCPServers)(e),enabled:!!e})}])},841947,e=>{"use strict";let s=(0,e.i(475254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["default",()=>s])},916940,e=>{"use strict";var s=e.i(843476),a=e.i(271645),t=e.i(199133),l=e.i(764205);e.s(["default",0,({onChange:e,value:r,className:i,accessToken:n,placeholder:c="Select vector stores",disabled:o=!1})=>{let[d,u]=(0,a.useState)([]),[m,p]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{(async()=>{if(n){p(!0);try{let e=await (0,l.vectorStoreListCall)(n);e.data&&u(e.data)}catch(e){console.error("Error fetching vector stores:",e)}finally{p(!1)}}})()},[n]),(0,s.jsx)("div",{children:(0,s.jsx)(t.Select,{mode:"multiple",placeholder:c,onChange:e,value:r,loading:m,className:i,allowClear:!0,options:d.map(e=>({label:`${e.vector_store_name||e.vector_store_id} (${e.vector_store_id})`,value:e.vector_store_id,title:e.vector_store_description||e.vector_store_id})),optionFilterProp:"label",showSearch:!0,style:{width:"100%"},disabled:o})})}])},213205,e=>{"use strict";e.i(247167);var s=e.i(931067),a=e.i(271645);let t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 888.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-add",theme:"outlined"};var l=e.i(9583),r=a.forwardRef(function(e,r){return a.createElement(l.default,(0,s.default)({},e,{ref:r,icon:t}))});e.s(["UserAddOutlined",0,r],213205)},355619,e=>{"use strict";var s=e.i(764205);let a=async(e,a,t)=>{try{if(null===e||null===a)return;if(null!==t){let l=(await (0,s.modelAvailableCall)(t,e,a,!0,null,!0)).data.map(e=>e.id),r=[],i=[];return l.forEach(e=>{e.endsWith("/*")?r.push(e):i.push(e)}),[...r,...i]}}catch(e){console.error("Error fetching user models:",e)}};e.s(["fetchAvailableModelsForTeamOrKey",0,a,"getModelDisplayName",0,e=>{if("all-proxy-models"===e)return"All Proxy Models";if(e.endsWith("/*")){let s=e.replace("/*","");return`All ${s} models`}return e},"unfurlWildcardModelsInList",0,(e,s)=>{let a=[],t=[];return console.log("teamModels",e),console.log("allModels",s),e.forEach(e=>{if(e.endsWith("/*")){let l=e.replace("/*",""),r=s.filter(e=>e.startsWith(l+"/"));t.push(...r),a.push(e)}else t.push(e)}),[...a,...t].filter((e,s,a)=>a.indexOf(e)===s)}])},557662,e=>{"use strict";let s="../ui/assets/logos/",a=[{id:"arize",displayName:"Arize",logo:`${s}arize.png`,supports_key_team_logging:!0,dynamic_params:{arize_api_key:"password",arize_space_id:"password"},description:"Arize Logging Integration"},{id:"braintrust",displayName:"Braintrust",logo:`${s}braintrust.png`,supports_key_team_logging:!1,dynamic_params:{braintrust_api_key:"password",braintrust_project_name:"text"},description:"Braintrust Logging Integration"},{id:"custom_callback_api",displayName:"Custom Callback API",logo:`${s}custom.svg`,supports_key_team_logging:!0,dynamic_params:{custom_callback_api_url:"text",custom_callback_api_headers:"text"},description:"Custom Callback API Logging Integration"},{id:"datadog",displayName:"Datadog",logo:`${s}datadog.png`,supports_key_team_logging:!1,dynamic_params:{dd_api_key:"password",dd_site:"text"},description:"Datadog Logging Integration"},{id:"lago",displayName:"Lago",logo:`${s}lago.svg`,supports_key_team_logging:!1,dynamic_params:{lago_api_url:"text",lago_api_key:"password"},description:"Lago Billing Logging Integration"},{id:"langfuse",displayName:"Langfuse",logo:`${s}langfuse.png`,supports_key_team_logging:!0,dynamic_params:{langfuse_public_key:"text",langfuse_secret_key:"password",langfuse_host:"text"},description:"Langfuse v2 Logging Integration"},{id:"langfuse_otel",displayName:"Langfuse OTEL",logo:`${s}langfuse.png`,supports_key_team_logging:!0,dynamic_params:{langfuse_public_key:"text",langfuse_secret_key:"password",langfuse_host:"text"},description:"Langfuse v3 OTEL Logging Integration"},{id:"langsmith",displayName:"LangSmith",logo:`${s}langsmith.png`,supports_key_team_logging:!0,dynamic_params:{langsmith_api_key:"password",langsmith_project:"text",langsmith_base_url:"text",langsmith_sampling_rate:"number"},description:"Langsmith Logging Integration"},{id:"openmeter",displayName:"OpenMeter",logo:`${s}openmeter.png`,supports_key_team_logging:!1,dynamic_params:{openmeter_api_key:"password",openmeter_base_url:"text"},description:"OpenMeter Logging Integration"},{id:"otel",displayName:"Open Telemetry",logo:`${s}otel.png`,supports_key_team_logging:!1,dynamic_params:{otel_endpoint:"text",otel_headers:"text"},description:"OpenTelemetry Logging Integration"},{id:"s3",displayName:"S3",logo:`${s}aws.svg`,supports_key_team_logging:!1,dynamic_params:{s3_bucket_name:"text",aws_access_key_id:"password",aws_secret_access_key:"password",aws_region:"text"},description:"S3 Bucket (AWS) Logging Integration"},{id:"SQS",displayName:"SQS",logo:`${s}aws.svg`,supports_key_team_logging:!1,dynamic_params:{sqs_queue_url:"text",aws_access_key_id:"password",aws_secret_access_key:"password",aws_region:"text"},description:"SQS Queue (AWS) Logging Integration"}],t=a.reduce((e,s)=>(e[s.displayName]=s,e),{}),l=a.reduce((e,s)=>(e[s.displayName]=s.id,e),{}),r=a.reduce((e,s)=>(e[s.id]=s.displayName,e),{});e.s(["callbackInfo",0,t,"callback_map",0,l,"mapDisplayToInternalNames",0,e=>e.map(e=>l[e]||e),"mapInternalToDisplayNames",0,e=>e.map(e=>r[e]||e),"reverse_callback_map",0,r])},810757,477386,e=>{"use strict";var s=e.i(271645);let a=s.forwardRef(function(e,a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:a},e),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}))});e.s(["CogIcon",0,a],810757);let t=s.forwardRef(function(e,a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:a},e),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"}))});e.s(["BanIcon",0,t],477386)},552130,e=>{"use strict";var s=e.i(843476),a=e.i(271645),t=e.i(199133),l=e.i(764205);e.s(["default",0,({onChange:e,value:r,className:i,accessToken:n,placeholder:c="Select agents",disabled:o=!1})=>{let[d,u]=(0,a.useState)([]),[m,p]=(0,a.useState)([]),[g,x]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{if(n){x(!0);try{let e=await (0,l.getAgentsList)(n),s=e?.agents||[];u(s);let a=new Set;s.forEach(e=>{let s=e.agent_access_groups;s&&Array.isArray(s)&&s.forEach(e=>a.add(e))}),p(Array.from(a))}catch(e){console.error("Error fetching agents:",e)}finally{x(!1)}}})()},[n]);let h=[...m.map(e=>({label:e,value:`group:${e}`,isAccessGroup:!0,searchText:`${e} Access Group`})),...d.map(e=>({label:`${e.agent_name||e.agent_id}`,value:e.agent_id,isAccessGroup:!1,searchText:`${e.agent_name||e.agent_id} ${e.agent_id} Agent`}))],f=[...r?.agents||[],...(r?.accessGroups||[]).map(e=>`group:${e}`)];return(0,s.jsx)("div",{children:(0,s.jsx)(t.Select,{mode:"multiple",placeholder:c,onChange:s=>{e({agents:s.filter(e=>!e.startsWith("group:")),accessGroups:s.filter(e=>e.startsWith("group:")).map(e=>e.replace("group:",""))})},value:f,loading:g,className:i,allowClear:!0,showSearch:!0,style:{width:"100%"},disabled:o,filterOption:(e,s)=>(h.find(e=>e.value===s?.value)?.searchText||"").toLowerCase().includes(e.toLowerCase()),children:h.map(e=>(0,s.jsx)(t.Select.Option,{value:e.value,label:e.label,children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,s.jsx)("span",{style:{display:"inline-block",width:8,height:8,borderRadius:"50%",background:e.isAccessGroup?"#52c41a":"#722ed1",flexShrink:0}}),(0,s.jsx)("span",{style:{flex:1},children:e.label}),(0,s.jsx)("span",{style:{color:e.isAccessGroup?"#52c41a":"#722ed1",fontSize:"12px",fontWeight:500,opacity:.8},children:e.isAccessGroup?"Access Group":"Agent"})]})},e.value))})})}])},9314,263147,e=>{"use strict";var s=e.i(843476),a=e.i(199133),t=e.i(981339),l=e.i(645526),r=e.i(599724),i=e.i(266027),n=e.i(243652),c=e.i(764205),o=e.i(708347),d=e.i(135214);let u=(0,n.createQueryKeys)("accessGroups"),m=async e=>{let s=(0,c.getProxyBaseUrl)(),a=`${s}/v1/access_group`,t=await fetch(a,{method:"GET",headers:{[(0,c.getGlobalLitellmHeaderName)()]:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){let e=await t.json(),s=(0,c.deriveErrorMessage)(e);throw(0,c.handleError)(s),Error(s)}return t.json()},p=()=>{let{accessToken:e,userRole:s}=(0,d.default)();return(0,i.useQuery)({queryKey:u.list({}),queryFn:async()=>m(e),enabled:!!e&&o.all_admin_roles.includes(s||"")})};e.s(["accessGroupKeys",0,u,"useAccessGroups",0,p],263147),e.s(["default",0,({value:e,onChange:i,placeholder:n="Select access groups",disabled:c=!1,style:o,className:d,showLabel:u=!1,labelText:m="Access Group",allowClear:g=!0})=>{let{data:x,isLoading:h,isError:f}=p();if(h)return(0,s.jsxs)("div",{children:[u&&(0,s.jsxs)(r.Text,{className:"font-medium block mb-2 text-gray-700 flex items-center",children:[(0,s.jsx)(l.TeamOutlined,{className:"mr-2"})," ",m]}),(0,s.jsx)(t.Skeleton.Input,{active:!0,block:!0,style:{height:32,...o}})]});let v=(x??[]).map(e=>({label:(0,s.jsxs)("span",{children:[(0,s.jsx)("span",{className:"font-medium",children:e.access_group_name})," ",(0,s.jsxs)("span",{className:"text-gray-400 text-xs",children:["(",e.access_group_id,")"]})]}),value:e.access_group_id,selectedLabel:e.access_group_name,searchText:`${e.access_group_name} ${e.access_group_id}`}));return(0,s.jsxs)("div",{children:[u&&(0,s.jsxs)(r.Text,{className:"font-medium block mb-2 text-gray-700 flex items-center",children:[(0,s.jsx)(l.TeamOutlined,{className:"mr-2"})," ",m]}),(0,s.jsx)(a.Select,{mode:"multiple",value:e,placeholder:n,onChange:i,disabled:c,allowClear:g,showSearch:!0,style:{width:"100%",...o},className:`rounded-md ${d??""}`,notFoundContent:f?(0,s.jsx)("span",{className:"text-red-500",children:"Failed to load access groups"}):"No access groups found",filterOption:(e,s)=>(v.find(e=>e.value===s?.value)?.searchText??"").toLowerCase().includes(e.toLowerCase()),optionLabelProp:"selectedLabel",options:v.map(e=>({label:e.label,value:e.value,selectedLabel:e.selectedLabel}))})]})}],9314)},844565,e=>{"use strict";var s=e.i(843476),a=e.i(271645),t=e.i(199133),l=e.i(764205);e.s(["default",0,({onChange:e,value:r,className:i,accessToken:n,placeholder:c="Select pass through routes",disabled:o=!1,teamId:d})=>{let[u,m]=(0,a.useState)([]),[p,g]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{(async()=>{if(n){g(!0);try{let e=await (0,l.getPassThroughEndpointsCall)(n,d);if(e.endpoints){let s=e.endpoints.map(e=>e.path);m(s)}}catch(e){console.error("Error fetching pass through routes:",e)}finally{g(!1)}}})()},[n,d]),(0,s.jsx)(t.Select,{mode:"tags",placeholder:c,onChange:e,value:r,loading:p,className:i,allowClear:!0,options:u.map(e=>({label:e,value:e})),optionFilterProp:"label",showSearch:!0,style:{width:"100%"},disabled:o})}])},75921,e=>{"use strict";var s=e.i(843476),a=e.i(266027),t=e.i(243652),l=e.i(764205),r=e.i(135214);let i=(0,t.createQueryKeys)("mcpAccessGroups");var n=e.i(500727),c=e.i(199133);e.s(["default",0,({onChange:e,value:t,className:o,accessToken:d,placeholder:u="Select MCP servers",disabled:m=!1})=>{let{data:p=[],isLoading:g}=(0,n.useMCPServers)(),{data:x=[],isLoading:h}=(()=>{let{accessToken:e}=(0,r.default)();return(0,a.useQuery)({queryKey:i.list({}),queryFn:async()=>await (0,l.fetchMCPAccessGroups)(e),enabled:!!e})})(),f=[...x.map(e=>({label:e,value:e,isAccessGroup:!0,searchText:`${e} Access Group`})),...p.map(e=>({label:`${e.server_name||e.server_id} (${e.server_id})`,value:e.server_id,isAccessGroup:!1,searchText:`${e.server_name||e.server_id} ${e.server_id} MCP Server`}))],v=[...t?.servers||[],...t?.accessGroups||[]];return(0,s.jsx)("div",{children:(0,s.jsx)(c.Select,{mode:"multiple",placeholder:u,onChange:s=>{e({servers:s.filter(e=>!x.includes(e)),accessGroups:s.filter(e=>x.includes(e))})},value:v,loading:g||h,className:o,allowClear:!0,showSearch:!0,style:{width:"100%"},disabled:m,filterOption:(e,s)=>(f.find(e=>e.value===s?.value)?.searchText||"").toLowerCase().includes(e.toLowerCase()),children:f.map(e=>(0,s.jsx)(c.Select.Option,{value:e.value,label:e.label,children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,s.jsx)("span",{style:{display:"inline-block",width:8,height:8,borderRadius:"50%",background:e.isAccessGroup?"#52c41a":"#1890ff",flexShrink:0}}),(0,s.jsx)("span",{style:{flex:1},children:e.label}),(0,s.jsx)("span",{style:{color:e.isAccessGroup?"#52c41a":"#1890ff",fontSize:"12px",fontWeight:500,opacity:.8},children:e.isAccessGroup?"Access Group":"MCP Server"})]})},e.value))})})}],75921)},390605,995926,e=>{"use strict";var s=e.i(843476),a=e.i(271645),t=e.i(764205),l=e.i(599724),r=e.i(482725),i=e.i(536916),n=e.i(841947);e.s(["XIcon",()=>n.default],995926);var n=n,c=e.i(500727);e.s(["default",0,({accessToken:e,selectedServers:o,toolPermissions:d,onChange:u,disabled:m=!1})=>{let{data:p=[]}=(0,c.useMCPServers)(),[g,x]=(0,a.useState)({}),[h,f]=(0,a.useState)({}),[v,y]=(0,a.useState)({}),b=(0,a.useMemo)(()=>0===o.length?[]:p.filter(e=>o.includes(e.server_id)),[p,o]),_=async s=>{f(e=>({...e,[s]:!0})),y(e=>({...e,[s]:""}));try{let a=await (0,t.listMCPTools)(e,s);a.error?(y(e=>({...e,[s]:a.message||"Failed to fetch tools"})),x(e=>({...e,[s]:[]}))):x(e=>({...e,[s]:a.tools||[]}))}catch(e){console.error(`Error fetching tools for server ${s}:`,e),y(e=>({...e,[s]:"Failed to fetch tools"})),x(e=>({...e,[s]:[]}))}finally{f(e=>({...e,[s]:!1}))}};return((0,a.useEffect)(()=>{b.forEach(e=>{g[e.server_id]||h[e.server_id]||_(e.server_id)})},[b]),0===o.length)?null:(0,s.jsx)("div",{className:"space-y-4",children:b.map(e=>{let a=e.server_name||e.alias||e.server_id,t=g[e.server_id]||[],c=d[e.server_id]||[],o=h[e.server_id],p=v[e.server_id];return(0,s.jsxs)("div",{className:"border rounded-lg bg-gray-50",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b bg-white rounded-t-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(l.Text,{className:"font-semibold text-gray-900",children:a}),e.description&&(0,s.jsx)(l.Text,{className:"text-sm text-gray-500",children:e.description})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",onClick:()=>{var s;let a;return a=g[s=e.server_id]||[],void u({...d,[s]:a.map(e=>e.name)})},disabled:m||o,children:"Select All"}),(0,s.jsx)("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",onClick:()=>{var s;return s=e.server_id,void u({...d,[s]:[]})},disabled:m||o,children:"Deselect All"}),(0,s.jsx)("button",{type:"button",className:"text-gray-400 hover:text-gray-600",onClick:()=>{},children:(0,s.jsx)(n.default,{className:"w-4 h-4"})})]})]}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)(l.Text,{className:"text-sm font-medium text-gray-700 mb-3",children:"Available Tools"}),o&&(0,s.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,s.jsx)(r.Spin,{size:"large"}),(0,s.jsx)(l.Text,{className:"ml-3 text-gray-500",children:"Loading tools..."})]}),p&&!o&&(0,s.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-center",children:[(0,s.jsx)(l.Text,{className:"text-red-600 font-medium",children:"Unable to load tools"}),(0,s.jsx)(l.Text,{className:"text-sm text-red-500 mt-1",children:p})]}),!o&&!p&&t.length>0&&(0,s.jsx)("div",{className:"space-y-2",children:t.map(a=>{let t=c.includes(a.name);return(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)(i.Checkbox,{checked:t,onChange:()=>{var s,t;let l,r;return s=e.server_id,t=a.name,r=(l=d[s]||[]).includes(t)?l.filter(e=>e!==t):[...l,t],void u({...d,[s]:r})},disabled:m}),(0,s.jsx)("div",{className:"flex-1 min-w-0",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l.Text,{className:"font-medium text-gray-900",children:a.name}),(0,s.jsxs)(l.Text,{className:"text-sm text-gray-500",children:["- ",a.description||"No description"]})]})})]},a.name)})}),!o&&!p&&0===t.length&&(0,s.jsx)("div",{className:"text-center py-6",children:(0,s.jsx)(l.Text,{className:"text-gray-500",children:"No tools available"})})]})]},e.server_id)})})}],390605)},266484,e=>{"use strict";var s=e.i(843476),a=e.i(199133),t=e.i(592968),l=e.i(312361),r=e.i(827252),i=e.i(994388),n=e.i(304967),c=e.i(779241),o=e.i(988297),d=e.i(68155),u=e.i(810757),m=e.i(477386),p=e.i(557662),g=e.i(435451);let{Option:x}=a.Select;e.s(["default",0,({value:e=[],onChange:h,disabledCallbacks:f=[],onDisabledCallbacksChange:v})=>{let y=Object.entries(p.callbackInfo).filter(([e,s])=>s.supports_key_team_logging).map(([e,s])=>e),b=Object.keys(p.callbackInfo),_=e=>{h?.(e)},j=(s,a,t)=>{let l=[...e];if("callback_name"===a){let e=p.callback_map[t]||t;l[s]={...l[s],[a]:e,callback_vars:{}}}else l[s]={...l[s],[a]:t};_(l)},N=(s,a,t)=>{let l=[...e];l[s]={...l[s],callback_vars:{...l[s].callback_vars,[a]:t}},_(l)};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(m.BanIcon,{className:"w-5 h-5 text-red-500"}),(0,s.jsx)("span",{className:"text-base font-semibold text-gray-800",children:"Disabled Callbacks"}),(0,s.jsx)(t.Tooltip,{title:"Select callbacks to disable for this key. Disabled callbacks will not receive any logging data.",children:(0,s.jsx)(r.InfoCircleOutlined,{className:"text-gray-400 cursor-help"})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Disabled Callbacks"}),(0,s.jsx)(a.Select,{mode:"multiple",placeholder:"Select callbacks to disable",value:f,onChange:e=>{let s=(0,p.mapDisplayToInternalNames)(e);v?.(s)},style:{width:"100%"},optionLabelProp:"label",children:b.map(e=>{let a=p.callbackInfo[e]?.logo,l=p.callbackInfo[e]?.description;return(0,s.jsx)(x,{value:e,label:e,children:(0,s.jsx)(t.Tooltip,{title:l,placement:"right",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[a&&(0,s.jsx)("img",{src:a,alt:e,className:"w-4 h-4 object-contain",onError:s=>{let a=s.target,t=a.parentElement;if(t){let s=document.createElement("div");s.className="w-4 h-4 rounded-full bg-gray-200 flex items-center justify-center text-xs",s.textContent=e.charAt(0),t.replaceChild(s,a)}}}),(0,s.jsx)("span",{children:e})]})})},e)})}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Select callbacks that should be disabled for this key. These callbacks will not receive any logging data."})]})]}),(0,s.jsx)(l.Divider,{}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(u.CogIcon,{className:"w-5 h-5 text-blue-500"}),(0,s.jsx)("span",{className:"text-base font-semibold text-gray-800",children:"Logging Integrations"}),(0,s.jsx)(t.Tooltip,{title:"Configure callback logging integrations for this team.",children:(0,s.jsx)(r.InfoCircleOutlined,{className:"text-gray-400 cursor-help"})})]}),(0,s.jsx)(i.Button,{variant:"secondary",onClick:()=>{_([...e,{callback_name:"",callback_type:"success",callback_vars:{}}])},icon:o.PlusIcon,size:"sm",className:"hover:border-blue-400 hover:text-blue-500",type:"button",children:"Add Integration"})]}),(0,s.jsx)("div",{className:"space-y-4",children:e.map((l,o)=>{let u=l.callback_name?Object.entries(p.callback_map).find(([e,s])=>s===l.callback_name)?.[0]:void 0,m=u?p.callbackInfo[u]?.logo:null;return(0,s.jsxs)(n.Card,{className:"border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200",decoration:"top",decorationColor:"blue",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[m&&(0,s.jsx)("img",{src:m,alt:u,className:"w-5 h-5 object-contain"}),(0,s.jsxs)("span",{className:"text-sm font-medium",children:[u||"New Integration"," Configuration"]})]}),(0,s.jsx)(i.Button,{variant:"light",onClick:()=>{_(e.filter((e,s)=>s!==o))},icon:d.TrashIcon,size:"xs",color:"red",className:"hover:bg-red-50",type:"button",children:"Remove"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Integration Type"}),(0,s.jsx)(a.Select,{value:u,placeholder:"Select integration",onChange:e=>j(o,"callback_name",e),className:"w-full",optionLabelProp:"label",children:y.map(e=>{let a=p.callbackInfo[e]?.logo,l=p.callbackInfo[e]?.description;return(0,s.jsx)(x,{value:e,label:e,children:(0,s.jsx)(t.Tooltip,{title:l,placement:"right",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[a&&(0,s.jsx)("img",{src:a,alt:e,className:"w-4 h-4 object-contain",onError:s=>{let a=s.target,t=a.parentElement;if(t){let s=document.createElement("div");s.className="w-4 h-4 rounded-full bg-gray-200 flex items-center justify-center text-xs",s.textContent=e.charAt(0),t.replaceChild(s,a)}}}),(0,s.jsx)("span",{children:e})]})})},e)})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Event Type"}),(0,s.jsxs)(a.Select,{value:l.callback_type,onChange:e=>j(o,"callback_type",e),className:"w-full",children:[(0,s.jsx)(x,{value:"success",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,s.jsx)("span",{children:"Success Only"})]})}),(0,s.jsx)(x,{value:"failure",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,s.jsx)("span",{children:"Failure Only"})]})}),(0,s.jsx)(x,{value:"success_and_failure",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,s.jsx)("span",{children:"Success & Failure"})]})})]})]})]}),((e,a)=>{if(!e.callback_name)return null;let l=Object.entries(p.callback_map).find(([s,a])=>a===e.callback_name)?.[0];if(!l)return null;let i=p.callbackInfo[l]?.dynamic_params||{};return 0===Object.keys(i).length?null:(0,s.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-blue-100 rounded-full flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Integration Parameters"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-4",children:Object.entries(i).map(([l,i])=>(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-sm font-medium text-gray-700 capitalize flex items-center space-x-1",children:[(0,s.jsx)("span",{children:l.replace(/_/g," ")}),(0,s.jsx)(t.Tooltip,{title:`Environment variable reference recommended: os.environ/${l.toUpperCase()}`,children:(0,s.jsx)(r.InfoCircleOutlined,{className:"text-gray-400 cursor-help text-xs"})}),"password"===i&&(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:"Sensitive"}),"number"===i&&(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:"Number"})]}),"number"===i&&(0,s.jsx)("span",{className:"text-xs text-gray-500",children:"Value must be between 0 and 1"}),"number"===i?(0,s.jsx)(g.default,{step:.01,width:400,placeholder:`os.environ/${l.toUpperCase()}`,value:e.callback_vars[l]||"",onChange:e=>N(a,l,e.target.value)}):(0,s.jsx)(c.TextInput,{type:"password"===i?"password":"text",placeholder:`os.environ/${l.toUpperCase()}`,value:e.callback_vars[l]||"",onChange:e=>N(a,l,e.target.value)})]},l))})]})})(l,o)]})]},o)})}),0===e.length&&(0,s.jsxs)("div",{className:"text-center py-12 text-gray-500 border-2 border-dashed border-gray-200 rounded-lg bg-gray-50/50",children:[(0,s.jsx)(u.CogIcon,{className:"w-12 h-12 text-gray-300 mb-3 mx-auto"}),(0,s.jsx)("div",{className:"text-base font-medium mb-1",children:"No logging integrations configured"}),(0,s.jsx)("div",{className:"text-sm text-gray-400",children:'Click "Add Integration" to configure logging for this team'})]})]})}])}]);