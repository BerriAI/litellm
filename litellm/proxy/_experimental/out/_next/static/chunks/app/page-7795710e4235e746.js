(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{36362:function(e,s,t){Promise.resolve().then(t.bind(t,7467))},80619:function(e,s,t){"use strict";t.d(s,{Z:function(){return y}});var l=t(57437),a=t(2265),n=t(67101),r=t(12485),i=t(18135),o=t(35242),c=t(29706),d=t(77991),m=t(84264),u=t(30401),x=t(5136),h=t(17906),p=t(1479),g=e=>{let{code:s,language:t}=e,[n,r]=(0,a.useState)(!1);return(0,l.jsxs)("div",{className:"relative rounded-lg border border-gray-200 overflow-hidden",children:[(0,l.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(s),r(!0),setTimeout(()=>r(!1),2e3)},className:"absolute top-3 right-3 p-2 rounded-md bg-gray-100 hover:bg-gray-200 text-gray-600 z-10","aria-label":"Copy code",children:n?(0,l.jsx)(u.Z,{size:16}):(0,l.jsx)(x.Z,{size:16})}),(0,l.jsx)(h.Z,{language:t,style:p.Z,customStyle:{margin:0,padding:"1.5rem",borderRadius:"0.5rem",fontSize:"0.9rem",backgroundColor:"#fafafa"},showLineNumbers:!0,children:s})]})},j=t(96362),f=e=>{let{href:s,className:t}=e;return(0,l.jsxs)("a",{href:s,target:"_blank",rel:"noopener noreferrer",title:"Open documentation in a new tab",className:function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter(Boolean).join(" ")}("inline-flex items-center gap-2 rounded-xl border border-zinc-200 bg-white/80 px-3.5 py-2 text-sm font-medium text-zinc-700 shadow-sm","hover:bg-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 active:translate-y-[0.5px]",t),children:[(0,l.jsx)("span",{children:"API Reference Docs"}),(0,l.jsx)(j.Z,{"aria-hidden":!0,className:"h-4 w-4 opacity-80"}),(0,l.jsx)("span",{className:"sr-only",children:"(opens in a new tab)"})]})},y=e=>{let{proxySettings:s}=e,t="<your_proxy_base_url>";return(null==s?void 0:s.PROXY_BASE_URL)!==void 0&&(null==s?void 0:s.PROXY_BASE_URL)&&(t=s.PROXY_BASE_URL),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(n.Z,{className:"gap-2 p-8 h-[80vh] w-full mt-2",children:(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("p",{className:"text-2xl text-tremor-content-strong dark:text-dark-tremor-content-strong font-semibold",children:"OpenAI Compatible Proxy: API Reference"}),(0,l.jsx)(f,{className:"ml-3 shrink-0",href:"https://docs.litellm.ai/docs/proxy/user_keys"})]}),(0,l.jsxs)(m.Z,{className:"mt-2 mb-2",children:["LiteLLM is OpenAI Compatible. This means your API Key works with the OpenAI SDK. Just replace the base_url to point to your litellm proxy. Example Below"," "]}),(0,l.jsxs)(i.Z,{children:[(0,l.jsxs)(o.Z,{children:[(0,l.jsx)(r.Z,{children:"OpenAI Python SDK"}),(0,l.jsx)(r.Z,{children:"LlamaIndex"}),(0,l.jsx)(r.Z,{children:"Langchain Py"})]}),(0,l.jsxs)(d.Z,{children:[(0,l.jsx)(c.Z,{children:(0,l.jsx)(g,{language:"python",code:'import openai\nclient = openai.OpenAI(\n    api_key="your_api_key",\n    base_url="'.concat(t,'" # LiteLLM Proxy is OpenAI compatible, Read More: https://docs.litellm.ai/docs/proxy/user_keys\n)\n\nresponse = client.chat.completions.create(\n    model="gpt-3.5-turbo", # model to send to the proxy\n    messages = [\n        {\n            "role": "user",\n            "content": "this is a test request, write a short poem"\n        }\n    ]\n)\n\nprint(response)')})}),(0,l.jsx)(c.Z,{children:(0,l.jsx)(g,{language:"python",code:'import os, dotenv\n\nfrom llama_index.llms import AzureOpenAI\nfrom llama_index.embeddings import AzureOpenAIEmbedding\nfrom llama_index import VectorStoreIndex, SimpleDirectoryReader, ServiceContext\n\nllm = AzureOpenAI(\n    engine="azure-gpt-3.5",               # model_name on litellm proxy\n    temperature=0.0,\n    azure_endpoint="'.concat(t,'", # litellm proxy endpoint\n    api_key="sk-1234",                    # litellm proxy API Key\n    api_version="2023-07-01-preview",\n)\n\nembed_model = AzureOpenAIEmbedding(\n    deployment_name="azure-embedding-model",\n    azure_endpoint="').concat(t,'",\n    api_key="sk-1234",\n    api_version="2023-07-01-preview",\n)\n\ndocuments = SimpleDirectoryReader("llama_index_data").load_data()\nservice_context = ServiceContext.from_defaults(llm=llm, embed_model=embed_model)\nindex = VectorStoreIndex.from_documents(documents, service_context=service_context)\n\nquery_engine = index.as_query_engine()\nresponse = query_engine.query("What did the author do growing up?")\nprint(response)')})}),(0,l.jsx)(c.Z,{children:(0,l.jsx)(g,{language:"python",code:'from langchain.chat_models import ChatOpenAI\nfrom langchain.prompts.chat import (\n    ChatPromptTemplate,\n    HumanMessagePromptTemplate,\n    SystemMessagePromptTemplate,\n)\nfrom langchain.schema import HumanMessage, SystemMessage\n\nchat = ChatOpenAI(\n    openai_api_base="'.concat(t,'",\n    model = "gpt-3.5-turbo",\n    temperature=0.1\n)\n\nmessages = [\n    SystemMessage(\n        content="You are a helpful assistant that im using to make a test request to."\n    ),\n    HumanMessage(\n        content="test from litellm. tell me why it\'s amazing in 1 sentence"\n    ),\n]\nresponse = chat(messages)\n\nprint(response)')})})]})]})]})})})}},7467:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return sr}});var l=t(57437),a=t(2265),n=t(99376),r=t(14474),i=t(21623),o=t(29827),c=t(65373),d=t(69734),m=t(21739),u=t(37801),x=t(77155),h=t(22004),p=t(90773),g=t(6925),j=t(85809),f=t(10607),y=t(49104),_=t(33801),b=t(18160),v=t(99883),Z=t(80619),w=t(31052),k=t(18143),S=t(44696),N=t(19250),C=t(63298),T=t(30603),z=t(6674),L=t(30874),I=t(39210),A=t(21307),D=t(42273),P=t(6204),O=t(5183),M=t(91323),R=t(10012),E=t(31857),B=t(19226),U=t(45937),F=t(92403),q=t(28595),V=t(68208),H=t(9775),K=t(41361),W=t(37527),J=t(15883),Y=t(12660),G=t(88009),X=t(48231),Q=t(57400),$=t(58630),ee=t(44625),es=t(41169),et=t(38434),el=t(71891),ea=t(55322),en=t(11429),er=t(20347),ei=t(79262),eo=t(13959);let{Sider:ec}=B.default;var ed=e=>{let{accessToken:s,setPage:t,userRole:a,defaultSelectedKey:n,collapsed:r=!1}=e,i=[{key:"1",page:"api-keys",label:"Virtual Keys",icon:(0,l.jsx)(F.Z,{style:{fontSize:"18px"}})},{key:"3",page:"llm-playground",label:"Test Key",icon:(0,l.jsx)(q.Z,{style:{fontSize:"18px"}}),roles:er.LQ},{key:"2",page:"models",label:"Models + Endpoints",icon:(0,l.jsx)(V.Z,{style:{fontSize:"18px"}}),roles:er.LQ},{key:"12",page:"new_usage",label:"Usage",icon:(0,l.jsx)(H.Z,{style:{fontSize:"18px"}}),roles:[...er.ZL,...er.lo]},{key:"6",page:"teams",label:"Teams",icon:(0,l.jsx)(K.Z,{style:{fontSize:"18px"}})},{key:"17",page:"organizations",label:"Organizations",icon:(0,l.jsx)(W.Z,{style:{fontSize:"18px"}}),roles:er.ZL},{key:"5",page:"users",label:"Internal Users",icon:(0,l.jsx)(J.Z,{style:{fontSize:"18px"}}),roles:er.ZL},{key:"14",page:"api_ref",label:"API Reference",icon:(0,l.jsx)(Y.Z,{style:{fontSize:"18px"}})},{key:"16",page:"model-hub-table",label:"Model Hub",icon:(0,l.jsx)(G.Z,{style:{fontSize:"18px"}})},{key:"15",page:"logs",label:"Logs",icon:(0,l.jsx)(X.Z,{style:{fontSize:"18px"}})},{key:"11",page:"guardrails",label:"Guardrails",icon:(0,l.jsx)(Q.Z,{style:{fontSize:"18px"}}),roles:er.ZL},{key:"26",page:"tools",label:"Tools",icon:(0,l.jsx)($.Z,{style:{fontSize:"18px"}}),children:[{key:"18",page:"mcp-servers",label:"MCP Servers",icon:(0,l.jsx)($.Z,{style:{fontSize:"18px"}})},{key:"21",page:"vector-stores",label:"Vector Stores",icon:(0,l.jsx)(ee.Z,{style:{fontSize:"18px"}}),roles:er.ZL}]},{key:"experimental",page:"experimental",label:"Experimental",icon:(0,l.jsx)(es.Z,{style:{fontSize:"18px"}}),children:[{key:"9",page:"caching",label:"Caching",icon:(0,l.jsx)(ee.Z,{style:{fontSize:"18px"}}),roles:er.ZL},{key:"25",page:"prompts",label:"Prompts",icon:(0,l.jsx)(et.Z,{style:{fontSize:"18px"}}),roles:er.ZL},{key:"10",page:"budgets",label:"Budgets",icon:(0,l.jsx)(W.Z,{style:{fontSize:"18px"}}),roles:er.ZL},{key:"20",page:"transform-request",label:"API Playground",icon:(0,l.jsx)(Y.Z,{style:{fontSize:"18px"}}),roles:[...er.ZL,...er.lo]},{key:"19",page:"tag-management",label:"Tag Management",icon:(0,l.jsx)(el.Z,{style:{fontSize:"18px"}}),roles:er.ZL},{key:"4",page:"usage",label:"Old Usage",icon:(0,l.jsx)(H.Z,{style:{fontSize:"18px"}})}]},{key:"settings",page:"settings",label:"Settings",icon:(0,l.jsx)(ea.Z,{style:{fontSize:"18px"}}),roles:er.ZL,children:[{key:"11",page:"general-settings",label:"Router Settings",icon:(0,l.jsx)(ea.Z,{style:{fontSize:"18px"}}),roles:er.ZL},{key:"8",page:"settings",label:"Logging & Alerts",icon:(0,l.jsx)(ea.Z,{style:{fontSize:"18px"}}),roles:er.ZL},{key:"13",page:"admin-panel",label:"Admin Settings",icon:(0,l.jsx)(ea.Z,{style:{fontSize:"18px"}}),roles:er.ZL},{key:"14",page:"ui-theme",label:"UI Theme",icon:(0,l.jsx)(en.Z,{style:{fontSize:"18px"}}),roles:er.ZL}]}],o=(e=>{let s=i.find(s=>s.page===e);if(s)return s.key;for(let s of i)if(s.children){let t=s.children.find(s=>s.page===e);if(t)return t.key}return"1"})(n),c=i.filter(e=>{let s=!e.roles||e.roles.includes(a);return console.log("Menu item ".concat(e.label,": roles=").concat(e.roles,", userRole=").concat(a,", hasAccess=").concat(s)),!!s&&(e.children&&(e.children=e.children.filter(e=>!e.roles||e.roles.includes(a))),!0)});return(0,l.jsx)(B.default,{style:{minHeight:"100vh"},children:(0,l.jsxs)(ec,{theme:"light",width:220,collapsed:r,collapsedWidth:80,collapsible:!0,trigger:null,style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative"},children:[(0,l.jsx)(eo.ZP,{theme:{components:{Menu:{iconSize:18,fontSize:14}}},children:(0,l.jsx)(U.Z,{mode:"inline",selectedKeys:[o],defaultOpenKeys:r?[]:["llm-tools"],inlineCollapsed:r,className:"custom-sidebar-menu",style:{borderRight:0,backgroundColor:"transparent",fontSize:"14px"},items:c.map(e=>{var s;return{key:e.key,icon:e.icon,label:e.label,children:null===(s=e.children)||void 0===s?void 0:s.map(e=>({key:e.key,icon:e.icon,label:e.label,onClick:()=>{let s=new URLSearchParams(window.location.search);s.set("page",e.page),window.history.pushState(null,"","?".concat(s.toString())),t(e.page)}})),onClick:e.children?void 0:()=>{let s=new URLSearchParams(window.location.search);s.set("page",e.page),window.history.pushState(null,"","?".concat(s.toString())),t(e.page)}}})})}),(0,er.tY)(a)&&!r&&(0,l.jsx)(ei.Z,{accessToken:s,width:220})]})})},em=t(92019),eu=t(39760),ex=e=>{let{setPage:s,defaultSelectedKey:t,sidebarCollapsed:a}=e,{refactoredUIFlag:n}=(0,E.Z)(),{accessToken:r,userRole:i}=(0,eu.Z)();return n?(0,l.jsx)(em.Z,{accessToken:r,defaultSelectedKey:t,userRole:i}):(0,l.jsx)(ed,{accessToken:r,setPage:s,userRole:i,defaultSelectedKey:t,collapsed:a})},eh=t(93192),ep=t(23628),eg=t(86462),ej=t(47686),ef=t(53410),ey=t(74998),e_=t(13634),eb=t(89970),ev=t(82680),eZ=t(52787),ew=t(64482),ek=t(73002),eS=t(24199),eN=t(46468),eC=t(25512),eT=t(15424),ez=t(33293),eL=t(88904),eI=t(87452),eA=t(88829),eD=t(72208),eP=t(41649),eO=t(20831),eM=t(12514),eR=t(49804),eE=t(67101),eB=t(47323),eU=t(12485),eF=t(18135),eq=t(35242),eV=t(29706),eH=t(77991),eK=t(21626),eW=t(97214),eJ=t(28241),eY=t(58834),eG=t(69552),eX=t(71876),eQ=t(84264),e$=t(49566),e0=t(918),e1=t(97415),e2=t(2597),e4=t(59872),e8=t(32489),e3=t(76865),e5=t(95920),e6=t(68473),e7=t(51750),e9=t(9114);let se=(e,s)=>{let t=[];return e&&e.models.length>0?(console.log("organization.models: ".concat(e.models)),t=e.models):t=s,(0,eN.Ob)(t,s)};var ss=e=>{let{teams:s,searchParams:t,accessToken:n,setTeams:r,userID:i,userRole:o,organizations:c,premiumUser:d=!1}=e,[m,u]=(0,a.useState)(""),[x,h]=(0,a.useState)(null),[p,g]=(0,a.useState)(null),[j,f]=(0,a.useState)(!1),[y,_]=(0,a.useState)({team_id:"",team_alias:"",organization_id:"",sort_by:"created_at",sort_order:"desc"});(0,a.useEffect)(()=>{console.log("inside useeffect - ".concat(m)),n&&(0,I.Z)(n,i,o,x,r),sr()},[m]);let[b]=e_.Z.useForm(),[v]=e_.Z.useForm(),{Title:Z,Paragraph:w}=eh.default,[k,S]=(0,a.useState)(""),[C,T]=(0,a.useState)(!1),[z,L]=(0,a.useState)(null),[A,D]=(0,a.useState)(null),[P,O]=(0,a.useState)(!1),[M,R]=(0,a.useState)(!1),[E,B]=(0,a.useState)(!1),[U,F]=(0,a.useState)(!1),[q,V]=(0,a.useState)([]),[H,K]=(0,a.useState)(!1),[W,J]=(0,a.useState)(null),[Y,G]=(0,a.useState)([]),[X,Q]=(0,a.useState)({}),[$,ee]=(0,a.useState)([]),[es,et]=(0,a.useState)({}),[el,ea]=(0,a.useState)([]),[en,ei]=(0,a.useState)([]),[eo,ec]=(0,a.useState)(!1),[ed,em]=(0,a.useState)(""),[eu,ex]=(0,a.useState)({});(0,a.useEffect)(()=>{console.log("currentOrgForCreateTeam: ".concat(p));let e=se(p,q);console.log("models: ".concat(e)),G(e),b.setFieldValue("models",[])},[p,q]),(0,a.useEffect)(()=>{(async()=>{try{if(null==n)return;let e=(await (0,N.getGuardrailsList)(n)).guardrails.map(e=>e.guardrail_name);ee(e)}catch(e){console.error("Failed to fetch guardrails:",e)}})()},[n]);let ss=async()=>{try{if(null==n)return;let e=await (0,N.fetchMCPAccessGroups)(n);ei(e)}catch(e){console.error("Failed to fetch MCP access groups:",e)}};(0,a.useEffect)(()=>{ss()},[n]),(0,a.useEffect)(()=>{s&&Q(s.reduce((e,s)=>(e[s.team_id]={keys:s.keys||[],team_info:{members_with_roles:s.members_with_roles||[]}},e),{}))},[s]);let st=async e=>{J(e),K(!0)},sl=async()=>{if(null!=W&&null!=s&&null!=n){try{await (0,N.teamDeleteCall)(n,W),(0,I.Z)(n,i,o,x,r)}catch(e){console.error("Error deleting the team:",e)}K(!1),J(null)}},sa=()=>{K(!1),J(null)};(0,a.useEffect)(()=>{(async()=>{try{if(null===i||null===o||null===n)return;let e=await (0,eN.K2)(i,o,n);e&&V(e)}catch(e){console.error("Error fetching user models:",e)}})()},[n,i,o,s]);let sn=async e=>{try{if(console.log("formValues: ".concat(JSON.stringify(e))),null!=n){var t,l,a;let i=null==e?void 0:e.team_alias,o=null!==(a=null==s?void 0:s.map(e=>e.team_alias))&&void 0!==a?a:[],c=(null==e?void 0:e.organization_id)||(null==x?void 0:x.organization_id);if(""===c||"string"!=typeof c?e.organization_id=null:e.organization_id=c.trim(),o.includes(i))throw Error("Team alias ".concat(i," already exists, please pick another alias"));if(e9.Z.info("Creating Team"),el.length>0){let s={};if(e.metadata)try{s=JSON.parse(e.metadata)}catch(e){console.warn("Invalid JSON in metadata field, starting with empty object")}s={...s,logging:el.filter(e=>e.callback_name)},e.metadata=JSON.stringify(s)}if(e.allowed_vector_store_ids&&e.allowed_vector_store_ids.length>0||e.allowed_mcp_servers_and_groups&&((null===(t=e.allowed_mcp_servers_and_groups.servers)||void 0===t?void 0:t.length)>0||(null===(l=e.allowed_mcp_servers_and_groups.accessGroups)||void 0===l?void 0:l.length)>0||e.allowed_mcp_servers_and_groups.toolPermissions)){if(e.object_permission={},e.allowed_vector_store_ids&&e.allowed_vector_store_ids.length>0&&(e.object_permission.vector_stores=e.allowed_vector_store_ids,delete e.allowed_vector_store_ids),e.allowed_mcp_servers_and_groups){let{servers:s,accessGroups:t}=e.allowed_mcp_servers_and_groups;s&&s.length>0&&(e.object_permission.mcp_servers=s),t&&t.length>0&&(e.object_permission.mcp_access_groups=t),delete e.allowed_mcp_servers_and_groups}e.mcp_tool_permissions&&Object.keys(e.mcp_tool_permissions).length>0&&(e.object_permission||(e.object_permission={}),e.object_permission.mcp_tool_permissions=e.mcp_tool_permissions,delete e.mcp_tool_permissions)}e.allowed_mcp_access_groups&&e.allowed_mcp_access_groups.length>0&&(e.object_permission||(e.object_permission={}),e.object_permission.mcp_access_groups=e.allowed_mcp_access_groups,delete e.allowed_mcp_access_groups),Object.keys(eu).length>0&&(e.model_aliases=eu);let d=await (0,N.teamCreateCall)(n,e);null!==s?r([...s,d]):r([d]),console.log("response for team create call: ".concat(d)),e9.Z.success("Team created"),b.resetFields(),ea([]),ex({}),R(!1)}}catch(e){console.error("Error creating the team:",e),e9.Z.fromBackend("Error creating the team: "+e)}},sr=()=>{u(new Date().toLocaleString())},si=(e,s)=>{let t={...y,[e]:s};_(t),n&&(0,N.v2TeamListCall)(n,t.organization_id||null,null,t.team_id||null,t.team_alias||null).then(e=>{e&&e.teams&&r(e.teams)}).catch(e=>{console.error("Error fetching teams:",e)})};return(0,l.jsx)("div",{className:"w-full mx-4 h-[75vh]",children:(0,l.jsx)(eE.Z,{numItems:1,className:"gap-2 p-8 w-full mt-2",children:(0,l.jsxs)(eR.Z,{numColSpan:1,className:"flex flex-col gap-2",children:[("Admin"==o||"Org Admin"==o)&&(0,l.jsx)(eO.Z,{className:"w-fit",onClick:()=>R(!0),children:"+ Create New Team"}),A?(0,l.jsx)(ez.Z,{teamId:A,onUpdate:e=>{r(s=>{if(null==s)return s;let t=s.map(s=>e.team_id===s.team_id?(0,e4.nl)(s,e):s);return n&&(0,I.Z)(n,i,o,x,r),t})},onClose:()=>{D(null),O(!1)},accessToken:n,is_team_admin:(e=>{if(null==e||null==e.members_with_roles)return!1;for(let s=0;s<e.members_with_roles.length;s++){let t=e.members_with_roles[s];if(t.user_id==i&&"admin"==t.role)return!0}return!1})(null==s?void 0:s.find(e=>e.team_id===A)),is_proxy_admin:"Admin"==o,userModels:q,editTeam:P}):(0,l.jsxs)(eF.Z,{className:"gap-2 h-[75vh] w-full",children:[(0,l.jsxs)(eq.Z,{className:"flex justify-between mt-2 w-full items-center",children:[(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(eU.Z,{children:"Your Teams"}),(0,l.jsx)(eU.Z,{children:"Available Teams"}),(0,er.tY)(o||"")&&(0,l.jsx)(eU.Z,{children:"Default Team Settings"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[m&&(0,l.jsxs)(eQ.Z,{children:["Last Refreshed: ",m]}),(0,l.jsx)(eB.Z,{icon:ep.Z,variant:"shadow",size:"xs",className:"self-center",onClick:sr})]})]}),(0,l.jsxs)(eH.Z,{children:[(0,l.jsxs)(eV.Z,{children:[(0,l.jsxs)(eQ.Z,{children:["Click on “Team ID” to view team details ",(0,l.jsx)("b",{children:"and"})," manage team members."]}),(0,l.jsx)(eE.Z,{numItems:1,className:"gap-2 pt-2 pb-2 h-[75vh] w-full mt-2",children:(0,l.jsx)(eR.Z,{numColSpan:1,children:(0,l.jsxs)(eM.Z,{className:"w-full mx-auto flex-auto overflow-hidden overflow-y-auto max-h-[50vh]",children:[(0,l.jsx)("div",{className:"border-b px-6 py-4",children:(0,l.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,l.jsxs)("div",{className:"relative w-64",children:[(0,l.jsx)("input",{type:"text",placeholder:"Search by Team Name...",className:"w-full px-3 py-2 pl-8 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:y.team_alias,onChange:e=>si("team_alias",e.target.value)}),(0,l.jsx)("svg",{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),(0,l.jsxs)("button",{className:"px-3 py-2 text-sm border rounded-md hover:bg-gray-50 flex items-center gap-2 ".concat(j?"bg-gray-100":""),onClick:()=>f(!j),children:[(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filters",(y.team_id||y.team_alias||y.organization_id)&&(0,l.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-500"})]}),(0,l.jsxs)("button",{className:"px-3 py-2 text-sm border rounded-md hover:bg-gray-50 flex items-center gap-2",onClick:()=>{_({team_id:"",team_alias:"",organization_id:"",sort_by:"created_at",sort_order:"desc"}),n&&(0,N.v2TeamListCall)(n,null,i||null,null,null).then(e=>{e&&e.teams&&r(e.teams)}).catch(e=>{console.error("Error fetching teams:",e)})},children:[(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reset Filters"]})]}),j&&(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mt-3",children:[(0,l.jsxs)("div",{className:"relative w-64",children:[(0,l.jsx)("input",{type:"text",placeholder:"Enter Team ID",className:"w-full px-3 py-2 pl-8 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:y.team_id,onChange:e=>si("team_id",e.target.value)}),(0,l.jsx)("svg",{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),(0,l.jsx)("div",{className:"w-64",children:(0,l.jsx)(eC.P,{value:y.organization_id||"",onValueChange:e=>si("organization_id",e),placeholder:"Select Organization",children:null==c?void 0:c.map(e=>(0,l.jsx)(eC.Q,{value:e.organization_id||"",children:e.organization_alias||e.organization_id},e.organization_id))})})]})]})}),(0,l.jsxs)(eK.Z,{children:[(0,l.jsx)(eY.Z,{children:(0,l.jsxs)(eX.Z,{children:[(0,l.jsx)(eG.Z,{children:"Team Name"}),(0,l.jsx)(eG.Z,{children:"Team ID"}),(0,l.jsx)(eG.Z,{children:"Created"}),(0,l.jsx)(eG.Z,{children:"Spend (USD)"}),(0,l.jsx)(eG.Z,{children:"Budget (USD)"}),(0,l.jsx)(eG.Z,{children:"Models"}),(0,l.jsx)(eG.Z,{children:"Organization"}),(0,l.jsx)(eG.Z,{children:"Info"})]})}),(0,l.jsx)(eW.Z,{children:s&&s.length>0?s.filter(e=>!x||e.organization_id===x.organization_id).sort((e,s)=>new Date(s.created_at).getTime()-new Date(e.created_at).getTime()).map(e=>(0,l.jsxs)(eX.Z,{children:[(0,l.jsx)(eJ.Z,{style:{maxWidth:"4px",whiteSpace:"pre-wrap",overflow:"hidden"},children:e.team_alias}),(0,l.jsx)(eJ.Z,{children:(0,l.jsx)("div",{className:"overflow-hidden",children:(0,l.jsx)(eb.Z,{title:e.team_id,children:(0,l.jsxs)(eO.Z,{size:"xs",variant:"light",className:"font-mono text-blue-500 bg-blue-50 hover:bg-blue-100 text-xs font-normal px-2 py-0.5 text-left overflow-hidden truncate max-w-[200px]",onClick:()=>{D(e.team_id)},children:[e.team_id.slice(0,7),"..."]})})})}),(0,l.jsx)(eJ.Z,{style:{maxWidth:"4px",whiteSpace:"pre-wrap",overflow:"hidden"},children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"}),(0,l.jsx)(eJ.Z,{style:{maxWidth:"4px",whiteSpace:"pre-wrap",overflow:"hidden"},children:(0,e4.pw)(e.spend,4)}),(0,l.jsx)(eJ.Z,{style:{maxWidth:"4px",whiteSpace:"pre-wrap",overflow:"hidden"},children:null!==e.max_budget&&void 0!==e.max_budget?e.max_budget:"No limit"}),(0,l.jsx)(eJ.Z,{style:{maxWidth:"8-x",whiteSpace:"pre-wrap",overflow:"hidden"},className:e.models.length>3?"px-0":"",children:(0,l.jsx)("div",{className:"flex flex-col",children:Array.isArray(e.models)?(0,l.jsx)("div",{className:"flex flex-col",children:0===e.models.length?(0,l.jsx)(eP.Z,{size:"xs",className:"mb-1",color:"red",children:(0,l.jsx)(eQ.Z,{children:"All Proxy Models"})}):(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"flex items-start",children:[e.models.length>3&&(0,l.jsx)("div",{children:(0,l.jsx)(eB.Z,{icon:es[e.team_id]?eg.Z:ej.Z,className:"cursor-pointer",size:"xs",onClick:()=>{et(s=>({...s,[e.team_id]:!s[e.team_id]}))}})}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.models.slice(0,3).map((e,s)=>"all-proxy-models"===e?(0,l.jsx)(eP.Z,{size:"xs",color:"red",children:(0,l.jsx)(eQ.Z,{children:"All Proxy Models"})},s):(0,l.jsx)(eP.Z,{size:"xs",color:"blue",children:(0,l.jsx)(eQ.Z,{children:e.length>30?"".concat((0,eN.W0)(e).slice(0,30),"..."):(0,eN.W0)(e)})},s)),e.models.length>3&&!es[e.team_id]&&(0,l.jsx)(eP.Z,{size:"xs",color:"gray",className:"cursor-pointer",children:(0,l.jsxs)(eQ.Z,{children:["+",e.models.length-3," ",e.models.length-3==1?"more model":"more models"]})}),es[e.team_id]&&(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:e.models.slice(3).map((e,s)=>"all-proxy-models"===e?(0,l.jsx)(eP.Z,{size:"xs",color:"red",children:(0,l.jsx)(eQ.Z,{children:"All Proxy Models"})},s+3):(0,l.jsx)(eP.Z,{size:"xs",color:"blue",children:(0,l.jsx)(eQ.Z,{children:e.length>30?"".concat((0,eN.W0)(e).slice(0,30),"..."):(0,eN.W0)(e)})},s+3))})]})]})})}):null})}),(0,l.jsx)(eJ.Z,{children:e.organization_id}),(0,l.jsxs)(eJ.Z,{children:[(0,l.jsxs)(eQ.Z,{children:[X&&e.team_id&&X[e.team_id]&&X[e.team_id].keys&&X[e.team_id].keys.length," ","Keys"]}),(0,l.jsxs)(eQ.Z,{children:[X&&e.team_id&&X[e.team_id]&&X[e.team_id].team_info&&X[e.team_id].team_info.members_with_roles&&X[e.team_id].team_info.members_with_roles.length," ","Members"]})]}),(0,l.jsx)(eJ.Z,{children:"Admin"==o?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eB.Z,{icon:ef.Z,size:"sm",onClick:()=>{D(e.team_id),O(!0)}}),(0,l.jsx)(eB.Z,{onClick:()=>st(e.team_id),icon:ey.Z,size:"sm"})]}):null})]},e.team_id)):null})]}),H&&(()=>{var e;let t=null==s?void 0:s.find(e=>e.team_id===W),a=(null==t?void 0:t.team_alias)||"",n=(null==t?void 0:null===(e=t.keys)||void 0===e?void 0:e.length)||0,r=ed===a;return(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl min-h-[380px] py-6 overflow-hidden transform transition-all flex flex-col justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete Team"}),(0,l.jsx)("button",{onClick:()=>{sa(),em("")},className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:(0,l.jsx)(e8.Z,{size:20})})]}),(0,l.jsxs)("div",{className:"px-6 py-4",children:[n>0&&(0,l.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-red-50 border border-red-100 rounded-md mb-5",children:[(0,l.jsx)("div",{className:"text-red-500 mt-0.5",children:(0,l.jsx)(e3.Z,{size:20})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-base font-medium text-red-600",children:["Warning: This team has ",n," associated key",n>1?"s":"","."]}),(0,l.jsx)("p",{className:"text-base text-red-600 mt-2",children:"Deleting the team will also delete all associated keys. This action is irreversible."})]})]}),(0,l.jsx)("p",{className:"text-base text-gray-600 mb-5",children:"Are you sure you want to force delete this team and all its keys?"}),(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsxs)("label",{className:"block text-base font-medium text-gray-700 mb-2",children:["Type ",(0,l.jsx)("span",{className:"underline",children:a})," to confirm deletion:"]}),(0,l.jsx)("input",{type:"text",value:ed,onChange:e=>em(e.target.value),placeholder:"Enter team name exactly",className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-base",autoFocus:!0})]})]})]}),(0,l.jsxs)("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-4",children:[(0,l.jsx)("button",{onClick:()=>{sa(),em("")},className:"px-5 py-3 bg-white border border-gray-300 rounded-md text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),(0,l.jsx)("button",{onClick:sl,disabled:!r,className:"px-5 py-3 rounded-md text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ".concat(r?"bg-red-600 hover:bg-red-700":"bg-red-300 cursor-not-allowed"),children:"Force Delete"})]})]})})})()]})})})]}),(0,l.jsx)(eV.Z,{children:(0,l.jsx)(e0.Z,{accessToken:n,userID:i})}),(0,er.tY)(o||"")&&(0,l.jsx)(eV.Z,{children:(0,l.jsx)(eL.Z,{accessToken:n,userID:i||"",userRole:o||""})})]})]}),("Admin"==o||"Org Admin"==o)&&(0,l.jsx)(ev.Z,{title:"Create Team",visible:M,width:1e3,footer:null,onOk:()=>{R(!1),b.resetFields(),ea([]),ex({})},onCancel:()=>{R(!1),b.resetFields(),ea([]),ex({})},children:(0,l.jsxs)(e_.Z,{form:b,onFinish:sn,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",children:[(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e_.Z.Item,{label:"Team Name",name:"team_alias",rules:[{required:!0,message:"Please input a team name"}],children:(0,l.jsx)(e$.Z,{placeholder:""})}),(0,l.jsx)(e_.Z.Item,{label:(0,l.jsxs)("span",{children:["Organization"," ",(0,l.jsx)(eb.Z,{title:(0,l.jsxs)("span",{children:["Organizations can have multiple teams. Learn more about"," ",(0,l.jsx)("a",{href:"https://docs.litellm.ai/docs/proxy/user_management_heirarchy",target:"_blank",rel:"noopener noreferrer",style:{color:"#1890ff",textDecoration:"underline"},onClick:e=>e.stopPropagation(),children:"user management hierarchy"})]}),children:(0,l.jsx)(eT.Z,{style:{marginLeft:"4px"}})})]}),name:"organization_id",initialValue:x?x.organization_id:null,className:"mt-8",children:(0,l.jsx)(eZ.default,{showSearch:!0,allowClear:!0,placeholder:"Search or select an Organization",onChange:e=>{b.setFieldValue("organization_id",e),g((null==c?void 0:c.find(s=>s.organization_id===e))||null)},filterOption:(e,s)=>{var t;return!!s&&((null===(t=s.children)||void 0===t?void 0:t.toString())||"").toLowerCase().includes(e.toLowerCase())},optionFilterProp:"children",children:null==c?void 0:c.map(e=>(0,l.jsxs)(eZ.default.Option,{value:e.organization_id,children:[(0,l.jsx)("span",{className:"font-medium",children:e.organization_alias})," ",(0,l.jsxs)("span",{className:"text-gray-500",children:["(",e.organization_id,")"]})]},e.organization_id))})}),(0,l.jsx)(e_.Z.Item,{label:(0,l.jsxs)("span",{children:["Models"," ",(0,l.jsx)(eb.Z,{title:"These are the models that your selected team has access to",children:(0,l.jsx)(eT.Z,{style:{marginLeft:"4px"}})})]}),name:"models",children:(0,l.jsxs)(eZ.default,{mode:"multiple",placeholder:"Select models",style:{width:"100%"},children:[(0,l.jsx)(eZ.default.Option,{value:"all-proxy-models",children:"All Proxy Models"},"all-proxy-models"),Y.map(e=>(0,l.jsx)(eZ.default.Option,{value:e,children:(0,eN.W0)(e)},e))]})}),(0,l.jsx)(e_.Z.Item,{label:"Max Budget (USD)",name:"max_budget",children:(0,l.jsx)(eS.Z,{step:.01,precision:2,width:200})}),(0,l.jsx)(e_.Z.Item,{className:"mt-8",label:"Reset Budget",name:"budget_duration",children:(0,l.jsxs)(eZ.default,{defaultValue:null,placeholder:"n/a",children:[(0,l.jsx)(eZ.default.Option,{value:"24h",children:"daily"}),(0,l.jsx)(eZ.default.Option,{value:"7d",children:"weekly"}),(0,l.jsx)(eZ.default.Option,{value:"30d",children:"monthly"})]})}),(0,l.jsx)(e_.Z.Item,{label:"Tokens per minute Limit (TPM)",name:"tpm_limit",children:(0,l.jsx)(eS.Z,{step:1,width:400})}),(0,l.jsx)(e_.Z.Item,{label:"Requests per minute Limit (RPM)",name:"rpm_limit",children:(0,l.jsx)(eS.Z,{step:1,width:400})}),(0,l.jsxs)(eI.Z,{className:"mt-20 mb-8",onClick:()=>{eo||(ss(),ec(!0))},children:[(0,l.jsx)(eD.Z,{children:(0,l.jsx)("b",{children:"Additional Settings"})}),(0,l.jsxs)(eA.Z,{children:[(0,l.jsx)(e_.Z.Item,{label:"Team ID",name:"team_id",help:"ID of the team you want to create. If not provided, it will be generated automatically.",children:(0,l.jsx)(e$.Z,{onChange:e=>{e.target.value=e.target.value.trim()}})}),(0,l.jsx)(e_.Z.Item,{label:"Team Member Budget (USD)",name:"team_member_budget",normalize:e=>e?Number(e):void 0,tooltip:"This is the individual budget for a user in the team.",children:(0,l.jsx)(eS.Z,{step:.01,precision:2,width:200})}),(0,l.jsx)(e_.Z.Item,{label:"Team Member Key Duration (eg: 1d, 1mo)",name:"team_member_key_duration",tooltip:"Set a limit to the duration of a team member's key. Format: 30s (seconds), 30m (minutes), 30h (hours), 30d (days), 1mo (month)",children:(0,l.jsx)(e$.Z,{placeholder:"e.g., 30d"})}),(0,l.jsx)(e_.Z.Item,{label:"Team Member RPM Limit",name:"team_member_rpm_limit",tooltip:"The RPM (Requests Per Minute) limit for individual team members",children:(0,l.jsx)(eS.Z,{step:1,width:400})}),(0,l.jsx)(e_.Z.Item,{label:"Team Member TPM Limit",name:"team_member_tpm_limit",tooltip:"The TPM (Tokens Per Minute) limit for individual team members",children:(0,l.jsx)(eS.Z,{step:1,width:400})}),(0,l.jsx)(e_.Z.Item,{label:"Metadata",name:"metadata",help:"Additional team metadata. Enter metadata as JSON object.",children:(0,l.jsx)(ew.default.TextArea,{rows:4})}),(0,l.jsx)(e_.Z.Item,{label:(0,l.jsxs)("span",{children:["Guardrails"," ",(0,l.jsx)(eb.Z,{title:"Setup your first guardrail",children:(0,l.jsx)("a",{href:"https://docs.litellm.ai/docs/proxy/guardrails/quick_start",target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),children:(0,l.jsx)(eT.Z,{style:{marginLeft:"4px"}})})})]}),name:"guardrails",className:"mt-8",help:"Select existing guardrails or enter new ones",children:(0,l.jsx)(eZ.default,{mode:"tags",style:{width:"100%"},placeholder:"Select or enter guardrails",options:$.map(e=>({value:e,label:e}))})}),(0,l.jsx)(e_.Z.Item,{label:(0,l.jsxs)("span",{children:["Allowed Vector Stores"," ",(0,l.jsx)(eb.Z,{title:"Select which vector stores this team can access by default. Leave empty for access to all vector stores",children:(0,l.jsx)(eT.Z,{style:{marginLeft:"4px"}})})]}),name:"allowed_vector_store_ids",className:"mt-8",help:"Select vector stores this team can access. Leave empty for access to all vector stores",children:(0,l.jsx)(e1.Z,{onChange:e=>b.setFieldValue("allowed_vector_store_ids",e),value:b.getFieldValue("allowed_vector_store_ids"),accessToken:n||"",placeholder:"Select vector stores (optional)"})})]})]}),(0,l.jsxs)(eI.Z,{className:"mt-8 mb-8",children:[(0,l.jsx)(eD.Z,{children:(0,l.jsx)("b",{children:"MCP Settings"})}),(0,l.jsxs)(eA.Z,{children:[(0,l.jsx)(e_.Z.Item,{label:(0,l.jsxs)("span",{children:["Allowed MCP Servers"," ",(0,l.jsx)(eb.Z,{title:"Select which MCP servers or access groups this team can access",children:(0,l.jsx)(eT.Z,{style:{marginLeft:"4px"}})})]}),name:"allowed_mcp_servers_and_groups",className:"mt-4",help:"Select MCP servers or access groups this team can access",children:(0,l.jsx)(e5.Z,{onChange:e=>b.setFieldValue("allowed_mcp_servers_and_groups",e),value:b.getFieldValue("allowed_mcp_servers_and_groups"),accessToken:n||"",placeholder:"Select MCP servers or access groups (optional)"})}),(0,l.jsx)(e_.Z.Item,{name:"mcp_tool_permissions",initialValue:{},hidden:!0,children:(0,l.jsx)(ew.default,{type:"hidden"})}),(0,l.jsx)(e_.Z.Item,{noStyle:!0,shouldUpdate:(e,s)=>e.allowed_mcp_servers_and_groups!==s.allowed_mcp_servers_and_groups||e.mcp_tool_permissions!==s.mcp_tool_permissions,children:()=>{var e;return(0,l.jsx)("div",{className:"mt-6",children:(0,l.jsx)(e6.Z,{accessToken:n||"",selectedServers:(null===(e=b.getFieldValue("allowed_mcp_servers_and_groups"))||void 0===e?void 0:e.servers)||[],toolPermissions:b.getFieldValue("mcp_tool_permissions")||{},onChange:e=>b.setFieldsValue({mcp_tool_permissions:e})})})}})]})]}),(0,l.jsxs)(eI.Z,{className:"mt-8 mb-8",children:[(0,l.jsx)(eD.Z,{children:(0,l.jsx)("b",{children:"Logging Settings"})}),(0,l.jsx)(eA.Z,{children:(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)(e2.Z,{value:el,onChange:ea,premiumUser:d})})})]}),(0,l.jsxs)(eI.Z,{className:"mt-8 mb-8",children:[(0,l.jsx)(eD.Z,{children:(0,l.jsx)("b",{children:"Model Aliases"})}),(0,l.jsx)(eA.Z,{children:(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)(eQ.Z,{className:"text-sm text-gray-600 mb-4",children:"Create custom aliases for models that can be used by team members in API calls. This allows you to create shortcuts for specific models."}),(0,l.jsx)(e7.Z,{accessToken:n||"",initialModelAliases:eu,onAliasUpdate:ex,showExampleConfig:!1})]})})]})]}),(0,l.jsx)("div",{style:{textAlign:"right",marginTop:"10px"},children:(0,l.jsx)(ek.ZP,{htmlType:"submit",children:"Create Team"})})]})})]})})})};function st(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";document.cookie="".concat(e,"=; Max-Age=0; Path=").concat(s)}function sl(e){try{let s=(0,r.o)(e);if(s&&"number"==typeof s.exp)return 1e3*s.exp<=Date.now();return!1}catch(e){return!0}}let sa=new i.S;function sn(){return(0,l.jsxs)("div",{className:(0,R.cx)("h-screen","flex items-center justify-center gap-4"),children:[(0,l.jsx)("div",{className:"text-lg font-medium py-2 pr-4 border-r border-r-gray-200",children:"\uD83D\uDE85 LiteLLM"}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,l.jsx)(M.S,{className:"size-4"}),(0,l.jsx)("span",{className:"text-gray-600 text-sm",children:"Loading..."})]})]})}function sr(){let[e,s]=(0,a.useState)(""),[t,i]=(0,a.useState)(!1),[M,R]=(0,a.useState)(!1),[B,U]=(0,a.useState)(null),[F,q]=(0,a.useState)(null),[V,H]=(0,a.useState)([]),[K,W]=(0,a.useState)([]),[J,Y]=(0,a.useState)([]),[G,X]=(0,a.useState)({PROXY_BASE_URL:"",PROXY_LOGOUT_URL:""}),[Q,$]=(0,a.useState)(!0),ee=(0,n.useSearchParams)(),[es,et]=(0,a.useState)({data:[]}),[el,ea]=(0,a.useState)(null),[en,er]=(0,a.useState)(!1),[ei,eo]=(0,a.useState)(!0),[ec,ed]=(0,a.useState)(null),{refactoredUIFlag:em}=(0,E.Z)(),eu=ee.get("invitation_id"),[eh,ep]=(0,a.useState)(()=>ee.get("page")||"api-keys"),[eg,ej]=(0,a.useState)(null),[ef,ey]=(0,a.useState)(!1),e_=e=>{H(s=>s?[...s,e]:[e]),er(()=>!en)},eb=!1===ei&&null===el&&null===eu;return((0,a.useEffect)(()=>{let e=!1;return(async()=>{try{await (0,N.getUiConfig)()}catch(e){}if(e)return;let s=function(e){let s=document.cookie.split("; ").find(s=>s.startsWith(e+"="));if(!s)return null;let t=s.slice(e.length+1);try{return decodeURIComponent(t)}catch(e){return t}}("token"),t=s&&!sl(s)?s:null;s&&!t&&st("token","/"),e||(ea(t),eo(!1))})(),()=>{e=!0}},[]),(0,a.useEffect)(()=>{if(eb){let e=(N.proxyBaseUrl||"")+"/sso/key/generate";window.location.replace(e)}},[eb]),(0,a.useEffect)(()=>{if(!el)return;if(sl(el)){st("token","/"),ea(null);return}let e=null;try{e=(0,r.o)(el)}catch(e){st("token","/"),ea(null);return}if(e){if(ej(e.key),R(e.disabled_non_admin_personal_key_creation),e.user_role){let t=function(e){if(!e)return"Undefined Role";switch(e.toLowerCase()){case"app_owner":case"demo_app_owner":return"App Owner";case"app_admin":case"proxy_admin":return"Admin";case"proxy_admin_viewer":return"Admin Viewer";case"org_admin":return"Org Admin";case"internal_user":return"Internal User";case"internal_user_viewer":case"internal_viewer":return"Internal Viewer";case"app_user":return"App User";default:return"Unknown Role"}}(e.user_role);s(t),"Admin Viewer"==t&&ep("usage")}e.user_email&&U(e.user_email),e.login_method&&$("username_password"==e.login_method),e.premium_user&&i(e.premium_user),e.auth_header_name&&(0,N.setGlobalLitellmHeaderName)(e.auth_header_name),e.user_id&&ed(e.user_id)}},[el]),(0,a.useEffect)(()=>{eg&&ec&&e&&(0,L.Nr)(ec,e,eg,Y),eg&&ec&&e&&(0,I.Z)(eg,ec,e,null,q),eg&&(0,h.g)(eg,W)},[eg,ec,e]),ei||eb)?(0,l.jsx)(sn,{}):(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)(sn,{}),children:(0,l.jsx)(o.aH,{client:sa,children:(0,l.jsx)(d.f,{accessToken:eg,children:eu?(0,l.jsx)(m.Z,{userID:ec,userRole:e,premiumUser:t,teams:F,keys:V,setUserRole:s,userEmail:B,setUserEmail:U,setTeams:q,setKeys:H,organizations:K,addKey:e_,createClicked:en}):(0,l.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,l.jsx)(c.Z,{userID:ec,userRole:e,premiumUser:t,userEmail:B,setProxySettings:X,proxySettings:G,accessToken:eg,isPublicPage:!1,sidebarCollapsed:ef,onToggleSidebar:()=>{ey(!ef)}}),(0,l.jsxs)("div",{className:"flex flex-1 overflow-auto",children:[(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)(ex,{setPage:e=>{let s=new URLSearchParams(ee);s.set("page",e),window.history.pushState(null,"","?".concat(s.toString())),ep(e)},defaultSelectedKey:eh,sidebarCollapsed:ef})}),"api-keys"==eh?(0,l.jsx)(m.Z,{userID:ec,userRole:e,premiumUser:t,teams:F,keys:V,setUserRole:s,userEmail:B,setUserEmail:U,setTeams:q,setKeys:H,organizations:K,addKey:e_,createClicked:en}):"models"==eh?(0,l.jsx)(u.Z,{userID:ec,userRole:e,token:el,keys:V,accessToken:eg,modelData:es,setModelData:et,premiumUser:t,teams:F}):"llm-playground"==eh?(0,l.jsx)(w.Z,{userID:ec,userRole:e,token:el,accessToken:eg,disabledPersonalKeyCreation:M}):"users"==eh?(0,l.jsx)(x.Z,{userID:ec,userRole:e,token:el,keys:V,teams:F,accessToken:eg,setKeys:H}):"teams"==eh?(0,l.jsx)(ss,{teams:F,setTeams:q,accessToken:eg,userID:ec,userRole:e,organizations:K,premiumUser:t,searchParams:ee}):"organizations"==eh?(0,l.jsx)(h.Z,{organizations:K,setOrganizations:W,userModels:J,accessToken:eg,userRole:e,premiumUser:t}):"admin-panel"==eh?(0,l.jsx)(p.Z,{setTeams:q,searchParams:ee,accessToken:eg,userID:ec,showSSOBanner:Q,premiumUser:t,proxySettings:G}):"api_ref"==eh?(0,l.jsx)(Z.Z,{proxySettings:G}):"settings"==eh?(0,l.jsx)(g.Z,{userID:ec,userRole:e,accessToken:eg,premiumUser:t}):"budgets"==eh?(0,l.jsx)(y.Z,{accessToken:eg}):"guardrails"==eh?(0,l.jsx)(C.Z,{accessToken:eg,userRole:e}):"prompts"==eh?(0,l.jsx)(T.Z,{accessToken:eg,userRole:e}):"transform-request"==eh?(0,l.jsx)(z.Z,{accessToken:eg}):"general-settings"==eh?(0,l.jsx)(j.Z,{userID:ec,userRole:e,accessToken:eg,modelData:es}):"ui-theme"==eh?(0,l.jsx)(O.Z,{userID:ec,userRole:e,accessToken:eg}):"model-hub-table"==eh?(0,l.jsx)(b.Z,{accessToken:eg,publicPage:!1,premiumUser:t,userRole:e}):"caching"==eh?(0,l.jsx)(S.Z,{userID:ec,userRole:e,token:el,accessToken:eg,premiumUser:t}):"pass-through-settings"==eh?(0,l.jsx)(f.Z,{userID:ec,userRole:e,accessToken:eg,modelData:es}):"logs"==eh?(0,l.jsx)(_.Z,{userID:ec,userRole:e,token:el,accessToken:eg,allTeams:null!=F?F:[],premiumUser:t}):"mcp-servers"==eh?(0,l.jsx)(A.d,{accessToken:eg,userRole:e,userID:ec}):"tag-management"==eh?(0,l.jsx)(D.Z,{accessToken:eg,userRole:e,userID:ec}):"vector-stores"==eh?(0,l.jsx)(P.Z,{accessToken:eg,userRole:e,userID:ec}):"new_usage"==eh?(0,l.jsx)(v.Z,{userID:ec,userRole:e,accessToken:eg,teams:null!=F?F:[],premiumUser:t}):(0,l.jsx)(k.Z,{userID:ec,userRole:e,token:el,accessToken:eg,keys:V,premiumUser:t})]})]})})})})}},88904:function(e,s,t){"use strict";var l=t(57437),a=t(2265),n=t(88913),r=t(93192),i=t(52787),o=t(63709),c=t(87908),d=t(19250),m=t(65925),u=t(46468),x=t(9114);s.Z=e=>{var s;let{accessToken:t,userID:h,userRole:p}=e,[g,j]=(0,a.useState)(!0),[f,y]=(0,a.useState)(null),[_,b]=(0,a.useState)(!1),[v,Z]=(0,a.useState)({}),[w,k]=(0,a.useState)(!1),[S,N]=(0,a.useState)([]),{Paragraph:C}=r.default,{Option:T}=i.default;(0,a.useEffect)(()=>{(async()=>{if(!t){j(!1);return}try{let e=await (0,d.getDefaultTeamSettings)(t);if(y(e),Z(e.values||{}),t)try{let e=await (0,d.modelAvailableCall)(t,h,p);if(e&&e.data){let s=e.data.map(e=>e.id);N(s)}}catch(e){console.error("Error fetching available models:",e)}}catch(e){console.error("Error fetching team SSO settings:",e),x.Z.fromBackend("Failed to fetch team settings")}finally{j(!1)}})()},[t]);let z=async()=>{if(t){k(!0);try{let e=await (0,d.updateDefaultTeamSettings)(t,v);y({...f,values:e.settings}),b(!1),x.Z.success("Default team settings updated successfully")}catch(e){console.error("Error updating team settings:",e),x.Z.fromBackend("Failed to update team settings")}finally{k(!1)}}},L=(e,s)=>{Z(t=>({...t,[e]:s}))},I=(e,s,t)=>{var a;let r=s.type;return"budget_duration"===e?(0,l.jsx)(m.Z,{value:v[e]||null,onChange:s=>L(e,s),className:"mt-2"}):"boolean"===r?(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)(o.Z,{checked:!!v[e],onChange:s=>L(e,s)})}):"array"===r&&(null===(a=s.items)||void 0===a?void 0:a.enum)?(0,l.jsx)(i.default,{mode:"multiple",style:{width:"100%"},value:v[e]||[],onChange:s=>L(e,s),className:"mt-2",children:s.items.enum.map(e=>(0,l.jsx)(T,{value:e,children:e},e))}):"models"===e?(0,l.jsx)(i.default,{mode:"multiple",style:{width:"100%"},value:v[e]||[],onChange:s=>L(e,s),className:"mt-2",children:S.map(e=>(0,l.jsx)(T,{value:e,children:(0,u.W0)(e)},e))}):"string"===r&&s.enum?(0,l.jsx)(i.default,{style:{width:"100%"},value:v[e]||"",onChange:s=>L(e,s),className:"mt-2",children:s.enum.map(e=>(0,l.jsx)(T,{value:e,children:e},e))}):(0,l.jsx)(n.oi,{value:void 0!==v[e]?String(v[e]):"",onChange:s=>L(e,s.target.value),placeholder:s.description||"",className:"mt-2"})},A=(e,s)=>null==s?(0,l.jsx)("span",{className:"text-gray-400",children:"Not set"}):"budget_duration"===e?(0,l.jsx)("span",{children:(0,m.m)(s)}):"boolean"==typeof s?(0,l.jsx)("span",{children:s?"Enabled":"Disabled"}):"models"===e&&Array.isArray(s)?0===s.length?(0,l.jsx)("span",{className:"text-gray-400",children:"None"}):(0,l.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:s.map((e,s)=>(0,l.jsx)("span",{className:"px-2 py-1 bg-blue-100 rounded text-xs",children:(0,u.W0)(e)},s))}):"object"==typeof s?Array.isArray(s)?0===s.length?(0,l.jsx)("span",{className:"text-gray-400",children:"None"}):(0,l.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:s.map((e,s)=>(0,l.jsx)("span",{className:"px-2 py-1 bg-blue-100 rounded text-xs",children:"object"==typeof e?JSON.stringify(e):String(e)},s))}):(0,l.jsx)("pre",{className:"bg-gray-100 p-2 rounded text-xs overflow-auto mt-1",children:JSON.stringify(s,null,2)}):(0,l.jsx)("span",{children:String(s)});return g?(0,l.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,l.jsx)(c.Z,{size:"large"})}):f?(0,l.jsxs)(n.Zb,{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)(n.Dx,{className:"text-xl",children:"Default Team Settings"}),!g&&f&&(_?(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(n.zx,{variant:"secondary",onClick:()=>{b(!1),Z(f.values||{})},disabled:w,children:"Cancel"}),(0,l.jsx)(n.zx,{onClick:z,loading:w,children:"Save Changes"})]}):(0,l.jsx)(n.zx,{onClick:()=>b(!0),children:"Edit Settings"}))]}),(0,l.jsx)(n.xv,{children:"These settings will be applied by default when creating new teams."}),(null==f?void 0:null===(s=f.field_schema)||void 0===s?void 0:s.description)&&(0,l.jsx)(C,{className:"mb-4 mt-2",children:f.field_schema.description}),(0,l.jsx)(n.iz,{}),(0,l.jsx)("div",{className:"mt-4 space-y-4",children:(()=>{let{values:e,field_schema:s}=f;return s&&s.properties?Object.entries(s.properties).map(s=>{let[t,a]=s,r=e[t],i=t.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase());return(0,l.jsxs)("div",{className:"mb-6 pb-6 border-b border-gray-200 last:border-0",children:[(0,l.jsx)(n.xv,{className:"font-medium text-lg",children:i}),(0,l.jsx)(C,{className:"text-sm text-gray-500 mt-1",children:a.description||"No description available"}),_?(0,l.jsx)("div",{className:"mt-2",children:I(t,a,r)}):(0,l.jsx)("div",{className:"mt-1 p-2 bg-gray-50 rounded",children:A(t,r)})]},t)}):(0,l.jsx)(n.xv,{children:"No schema information available"})})()})]}):(0,l.jsx)(n.Zb,{children:(0,l.jsx)(n.xv,{children:"No team settings available or you do not have permission to view them."})})}},49104:function(e,s,t){"use strict";t.d(s,{Z:function(){return O}});var l=t(57437),a=t(2265),n=t(87452),r=t(88829),i=t(72208),o=t(49566),c=t(13634),d=t(82680),m=t(20577),u=t(52787),x=t(73002),h=t(19250),p=t(9114),g=e=>{let{isModalVisible:s,accessToken:t,setIsModalVisible:a,setBudgetList:g}=e,[j]=c.Z.useForm(),f=async e=>{if(null!=t&&void 0!=t)try{p.Z.info("Making API Call");let s=await (0,h.budgetCreateCall)(t,e);console.log("key create Response:",s),g(e=>e?[...e,s]:[s]),p.Z.success("Budget Created"),j.resetFields()}catch(e){console.error("Error creating the key:",e),p.Z.fromBackend("Error creating the key: ".concat(e))}};return(0,l.jsx)(d.Z,{title:"Create Budget",visible:s,width:800,footer:null,onOk:()=>{a(!1),j.resetFields()},onCancel:()=>{a(!1),j.resetFields()},children:(0,l.jsxs)(c.Z,{form:j,onFinish:f,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",children:[(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.Z.Item,{label:"Budget ID",name:"budget_id",rules:[{required:!0,message:"Please input a human-friendly name for the budget"}],help:"A human-friendly name for the budget",children:(0,l.jsx)(o.Z,{placeholder:""})}),(0,l.jsx)(c.Z.Item,{label:"Max Tokens per minute",name:"tpm_limit",help:"Default is model limit.",children:(0,l.jsx)(m.Z,{step:1,precision:2,width:200})}),(0,l.jsx)(c.Z.Item,{label:"Max Requests per minute",name:"rpm_limit",help:"Default is model limit.",children:(0,l.jsx)(m.Z,{step:1,precision:2,width:200})}),(0,l.jsxs)(n.Z,{className:"mt-20 mb-8",children:[(0,l.jsx)(i.Z,{children:(0,l.jsx)("b",{children:"Optional Settings"})}),(0,l.jsxs)(r.Z,{children:[(0,l.jsx)(c.Z.Item,{label:"Max Budget (USD)",name:"max_budget",children:(0,l.jsx)(m.Z,{step:.01,precision:2,width:200})}),(0,l.jsx)(c.Z.Item,{className:"mt-8",label:"Reset Budget",name:"budget_duration",children:(0,l.jsxs)(u.default,{defaultValue:null,placeholder:"n/a",children:[(0,l.jsx)(u.default.Option,{value:"24h",children:"daily"}),(0,l.jsx)(u.default.Option,{value:"7d",children:"weekly"}),(0,l.jsx)(u.default.Option,{value:"30d",children:"monthly"})]})})]})]})]}),(0,l.jsx)("div",{style:{textAlign:"right",marginTop:"10px"},children:(0,l.jsx)(x.ZP,{htmlType:"submit",children:"Create Budget"})})]})})},j=e=>{let{isModalVisible:s,accessToken:t,setIsModalVisible:g,setBudgetList:j,existingBudget:f,handleUpdateCall:y}=e;console.log("existingBudget",f);let[_]=c.Z.useForm();(0,a.useEffect)(()=>{_.setFieldsValue(f)},[f,_]);let b=async e=>{if(null!=t&&void 0!=t)try{p.Z.info("Making API Call"),g(!0);let s=await (0,h.budgetUpdateCall)(t,e);j(e=>e?[...e,s]:[s]),p.Z.success("Budget Updated"),_.resetFields(),y()}catch(e){console.error("Error creating the key:",e),p.Z.fromBackend("Error creating the key: ".concat(e))}};return(0,l.jsx)(d.Z,{title:"Edit Budget",visible:s,width:800,footer:null,onOk:()=>{g(!1),_.resetFields()},onCancel:()=>{g(!1),_.resetFields()},children:(0,l.jsxs)(c.Z,{form:_,onFinish:b,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",initialValues:f,children:[(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.Z.Item,{label:"Budget ID",name:"budget_id",rules:[{required:!0,message:"Please input a human-friendly name for the budget"}],help:"A human-friendly name for the budget",children:(0,l.jsx)(o.Z,{placeholder:""})}),(0,l.jsx)(c.Z.Item,{label:"Max Tokens per minute",name:"tpm_limit",help:"Default is model limit.",children:(0,l.jsx)(m.Z,{step:1,precision:2,width:200})}),(0,l.jsx)(c.Z.Item,{label:"Max Requests per minute",name:"rpm_limit",help:"Default is model limit.",children:(0,l.jsx)(m.Z,{step:1,precision:2,width:200})}),(0,l.jsxs)(n.Z,{className:"mt-20 mb-8",children:[(0,l.jsx)(i.Z,{children:(0,l.jsx)("b",{children:"Optional Settings"})}),(0,l.jsxs)(r.Z,{children:[(0,l.jsx)(c.Z.Item,{label:"Max Budget (USD)",name:"max_budget",children:(0,l.jsx)(m.Z,{step:.01,precision:2,width:200})}),(0,l.jsx)(c.Z.Item,{className:"mt-8",label:"Reset Budget",name:"budget_duration",children:(0,l.jsxs)(u.default,{defaultValue:null,placeholder:"n/a",children:[(0,l.jsx)(u.default.Option,{value:"24h",children:"daily"}),(0,l.jsx)(u.default.Option,{value:"7d",children:"weekly"}),(0,l.jsx)(u.default.Option,{value:"30d",children:"monthly"})]})})]})]})]}),(0,l.jsx)("div",{style:{textAlign:"right",marginTop:"10px"},children:(0,l.jsx)(x.ZP,{htmlType:"submit",children:"Save"})})]})})},f=t(20831),y=t(12514),_=t(47323),b=t(12485),v=t(18135),Z=t(35242),w=t(29706),k=t(77991),S=t(21626),N=t(97214),C=t(28241),T=t(58834),z=t(69552),L=t(71876),I=t(84264),A=t(53410),D=t(74998),P=t(17906),O=e=>{let{accessToken:s}=e,[t,n]=(0,a.useState)(!1),[r,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(null),[d,m]=(0,a.useState)([]);(0,a.useEffect)(()=>{s&&(0,h.getBudgetList)(s).then(e=>{m(e)})},[s]);let u=async(e,t)=>{console.log("budget_id",e),null!=s&&(c(d.find(s=>s.budget_id===e)||null),i(!0))},x=async(e,t)=>{if(null==s)return;p.Z.info("Request made"),await (0,h.budgetDeleteCall)(s,e);let l=[...d];l.splice(t,1),m(l),p.Z.success("Budget Deleted.")},O=async()=>{null!=s&&(0,h.getBudgetList)(s).then(e=>{m(e)})};return(0,l.jsxs)("div",{className:"w-full mx-auto flex-auto overflow-y-auto m-8 p-2",children:[(0,l.jsx)(f.Z,{size:"sm",variant:"primary",className:"mb-2",onClick:()=>n(!0),children:"+ Create Budget"}),(0,l.jsx)(g,{accessToken:s,isModalVisible:t,setIsModalVisible:n,setBudgetList:m}),o&&(0,l.jsx)(j,{accessToken:s,isModalVisible:r,setIsModalVisible:i,setBudgetList:m,existingBudget:o,handleUpdateCall:O}),(0,l.jsxs)(y.Z,{children:[(0,l.jsx)(I.Z,{children:"Create a budget to assign to customers."}),(0,l.jsxs)(S.Z,{children:[(0,l.jsx)(T.Z,{children:(0,l.jsxs)(L.Z,{children:[(0,l.jsx)(z.Z,{children:"Budget ID"}),(0,l.jsx)(z.Z,{children:"Max Budget"}),(0,l.jsx)(z.Z,{children:"TPM"}),(0,l.jsx)(z.Z,{children:"RPM"})]})}),(0,l.jsx)(N.Z,{children:d.slice().sort((e,s)=>new Date(s.updated_at).getTime()-new Date(e.updated_at).getTime()).map((e,s)=>(0,l.jsxs)(L.Z,{children:[(0,l.jsx)(C.Z,{children:e.budget_id}),(0,l.jsx)(C.Z,{children:e.max_budget?e.max_budget:"n/a"}),(0,l.jsx)(C.Z,{children:e.tpm_limit?e.tpm_limit:"n/a"}),(0,l.jsx)(C.Z,{children:e.rpm_limit?e.rpm_limit:"n/a"}),(0,l.jsx)(_.Z,{icon:A.Z,size:"sm",onClick:()=>u(e.budget_id,s)}),(0,l.jsx)(_.Z,{icon:D.Z,size:"sm",onClick:()=>x(e.budget_id,s)})]},s))})]})]}),(0,l.jsxs)("div",{className:"mt-5",children:[(0,l.jsx)(I.Z,{className:"text-base",children:"How to use budget id"}),(0,l.jsxs)(v.Z,{children:[(0,l.jsxs)(Z.Z,{children:[(0,l.jsx)(b.Z,{children:"Assign Budget to Customer"}),(0,l.jsx)(b.Z,{children:"Test it (Curl)"}),(0,l.jsx)(b.Z,{children:"Test it (OpenAI SDK)"})]}),(0,l.jsxs)(k.Z,{children:[(0,l.jsx)(w.Z,{children:(0,l.jsx)(P.Z,{language:"bash",children:"\ncurl -X POST --location '<your_proxy_base_url>/end_user/new' \n-H 'Authorization: Bearer <your-master-key>' \n-H 'Content-Type: application/json' \n-d '{\"user_id\": \"my-customer-id', \"budget_id\": \"<BUDGET_ID>\"}' # \uD83D\uDC48 KEY CHANGE\n\n            "})}),(0,l.jsx)(w.Z,{children:(0,l.jsx)(P.Z,{language:"bash",children:'\ncurl -X POST --location \'<your_proxy_base_url>/chat/completions\' \n-H \'Authorization: Bearer <your-master-key>\' \n-H \'Content-Type: application/json\' \n-d \'{\n  "model": "gpt-3.5-turbo\', \n  "messages":[{"role": "user", "content": "Hey, how\'s it going?"}],\n  "user": "my-customer-id"\n}\' # \uD83D\uDC48 KEY CHANGE\n\n            '})}),(0,l.jsx)(w.Z,{children:(0,l.jsx)(P.Z,{language:"python",children:'from openai import OpenAI\nclient = OpenAI(\n  base_url="<your_proxy_base_url>",\n  api_key="<your_proxy_key>"\n)\n\ncompletion = client.chat.completions.create(\n  model="gpt-3.5-turbo",\n  messages=[\n    {"role": "system", "content": "You are a helpful assistant."},\n    {"role": "user", "content": "Hello!"}\n  ],\n  user="my-customer-id"\n)\n\nprint(completion.choices[0].message)'})})]})]})]})]})}},918:function(e,s,t){"use strict";var l=t(57437),a=t(2265),n=t(62490),r=t(19250),i=t(9114);s.Z=e=>{let{accessToken:s,userID:t}=e,[o,c]=(0,a.useState)([]);(0,a.useEffect)(()=>{(async()=>{if(s&&t)try{let e=await (0,r.availableTeamListCall)(s);c(e)}catch(e){console.error("Error fetching available teams:",e)}})()},[s,t]);let d=async e=>{if(s&&t)try{await (0,r.teamMemberAddCall)(s,e,{user_id:t,role:"user"}),i.Z.success("Successfully joined team"),c(s=>s.filter(s=>s.team_id!==e))}catch(e){console.error("Error joining team:",e),i.Z.fromBackend("Failed to join team")}};return(0,l.jsx)(n.Zb,{className:"w-full mx-auto flex-auto overflow-y-auto max-h-[50vh]",children:(0,l.jsxs)(n.iA,{children:[(0,l.jsx)(n.ss,{children:(0,l.jsxs)(n.SC,{children:[(0,l.jsx)(n.xs,{children:"Team Name"}),(0,l.jsx)(n.xs,{children:"Description"}),(0,l.jsx)(n.xs,{children:"Members"}),(0,l.jsx)(n.xs,{children:"Models"}),(0,l.jsx)(n.xs,{children:"Actions"})]})}),(0,l.jsxs)(n.RM,{children:[o.map(e=>(0,l.jsxs)(n.SC,{children:[(0,l.jsx)(n.pj,{children:(0,l.jsx)(n.xv,{children:e.team_alias})}),(0,l.jsx)(n.pj,{children:(0,l.jsx)(n.xv,{children:e.description||"No description available"})}),(0,l.jsx)(n.pj,{children:(0,l.jsxs)(n.xv,{children:[e.members_with_roles.length," members"]})}),(0,l.jsx)(n.pj,{children:(0,l.jsx)("div",{className:"flex flex-col",children:e.models&&0!==e.models.length?e.models.map((e,s)=>(0,l.jsx)(n.Ct,{size:"xs",className:"mb-1",color:"blue",children:(0,l.jsx)(n.xv,{children:e.length>30?"".concat(e.slice(0,30),"..."):e})},s)):(0,l.jsx)(n.Ct,{size:"xs",color:"red",children:(0,l.jsx)(n.xv,{children:"All Proxy Models"})})})}),(0,l.jsx)(n.pj,{children:(0,l.jsx)(n.zx,{size:"xs",variant:"secondary",onClick:()=>d(e.team_id),children:"Join Team"})})]},e.team_id)),0===o.length&&(0,l.jsx)(n.SC,{children:(0,l.jsx)(n.pj,{colSpan:5,className:"text-center",children:(0,l.jsx)(n.xv,{children:"No available teams to join"})})})]})]})})}},6674:function(e,s,t){"use strict";t.d(s,{Z:function(){return d}});var l=t(57437),a=t(2265),n=t(73002),r=t(23639),i=t(96761),o=t(19250),c=t(9114),d=e=>{let{accessToken:s}=e,[t,d]=(0,a.useState)('{\n  "model": "openai/gpt-4o",\n  "messages": [\n    {\n      "role": "system",\n      "content": "You are a helpful assistant."\n    },\n    {\n      "role": "user",\n      "content": "Explain quantum computing in simple terms"\n    }\n  ],\n  "temperature": 0.7,\n  "max_tokens": 500,\n  "stream": true\n}'),[m,u]=(0,a.useState)(""),[x,h]=(0,a.useState)(!1),p=(e,s,t)=>{let l=JSON.stringify(s,null,2).split("\n").map(e=>"  ".concat(e)).join("\n"),a=Object.entries(t).map(e=>{let[s,t]=e;return"-H '".concat(s,": ").concat(t,"'")}).join(" \\\n  ");return"curl -X POST \\\n  ".concat(e," \\\n  ").concat(a?"".concat(a," \\\n  "):"","-H 'Content-Type: application/json' \\\n  -d '{\n").concat(l,"\n  }'")},g=async()=>{h(!0);try{let e;try{e=JSON.parse(t)}catch(e){c.Z.fromBackend("Invalid JSON in request body"),h(!1);return}let l={call_type:"completion",request_body:e};if(!s){c.Z.fromBackend("No access token found"),h(!1);return}let a=await (0,o.transformRequestCall)(s,l);if(a.raw_request_api_base&&a.raw_request_body){let e=p(a.raw_request_api_base,a.raw_request_body,a.raw_request_headers||{});u(e),c.Z.success("Request transformed successfully")}else{let e="string"==typeof a?a:JSON.stringify(a);u(e),c.Z.info("Transformed request received in unexpected format")}}catch(e){console.error("Error transforming request:",e),c.Z.fromBackend("Failed to transform request")}finally{h(!1)}};return(0,l.jsxs)("div",{className:"w-full m-2",style:{overflow:"hidden"},children:[(0,l.jsx)(i.Z,{children:"Playground"}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"See how LiteLLM transforms your request for the specified provider."}),(0,l.jsxs)("div",{style:{display:"flex",gap:"16px",width:"100%",minWidth:0,overflow:"hidden"},className:"mt-4",children:[(0,l.jsxs)("div",{style:{flex:"1 1 50%",display:"flex",flexDirection:"column",border:"1px solid #e8e8e8",borderRadius:"8px",padding:"24px",overflow:"hidden",maxHeight:"600px",minWidth:0},children:[(0,l.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,l.jsx)("h2",{style:{fontSize:"24px",fontWeight:"bold",margin:"0 0 4px 0"},children:"Original Request"}),(0,l.jsx)("p",{style:{color:"#666",margin:0},children:"The request you would send to LiteLLM /chat/completions endpoint."})]}),(0,l.jsx)("textarea",{style:{flex:"1 1 auto",width:"100%",minHeight:"240px",padding:"16px",border:"1px solid #e8e8e8",borderRadius:"6px",fontFamily:"monospace",fontSize:"14px",resize:"none",marginBottom:"24px",overflow:"auto"},value:t,onChange:e=>d(e.target.value),onKeyDown:e=>{(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&(e.preventDefault(),g())},placeholder:"Press Cmd/Ctrl + Enter to transform"}),(0,l.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"auto"},children:(0,l.jsxs)(n.ZP,{type:"primary",style:{backgroundColor:"#000",display:"flex",alignItems:"center",gap:"8px"},onClick:g,loading:x,children:[(0,l.jsx)("span",{children:"Transform"}),(0,l.jsx)("span",{children:"→"})]})})]}),(0,l.jsxs)("div",{style:{flex:"1 1 50%",display:"flex",flexDirection:"column",border:"1px solid #e8e8e8",borderRadius:"8px",padding:"24px",overflow:"hidden",maxHeight:"800px",minWidth:0},children:[(0,l.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,l.jsx)("h2",{style:{fontSize:"24px",fontWeight:"bold",margin:"0 0 4px 0"},children:"Transformed Request"}),(0,l.jsx)("p",{style:{color:"#666",margin:0},children:"How LiteLLM transforms your request for the specified provider."}),(0,l.jsx)("br",{}),(0,l.jsx)("p",{style:{color:"#666",margin:0},className:"text-xs",children:"Note: Sensitive headers are not shown."})]}),(0,l.jsxs)("div",{style:{position:"relative",backgroundColor:"#f5f5f5",borderRadius:"6px",flex:"1 1 auto",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,l.jsx)("pre",{style:{padding:"16px",fontFamily:"monospace",fontSize:"14px",margin:0,overflow:"auto",flex:"1 1 auto"},children:m||'curl -X POST \\\n  https://api.openai.com/v1/chat/completions \\\n  -H \'Authorization: Bearer sk-xxx\' \\\n  -H \'Content-Type: application/json\' \\\n  -d \'{\n  "model": "gpt-4",\n  "messages": [\n    {\n      "role": "system",\n      "content": "You are a helpful assistant."\n    }\n  ],\n  "temperature": 0.7\n  }\''}),(0,l.jsx)(n.ZP,{type:"text",icon:(0,l.jsx)(r.Z,{}),style:{position:"absolute",right:"8px",top:"8px"},size:"small",onClick:()=>{navigator.clipboard.writeText(m||""),c.Z.success("Copied to clipboard")}})]})]})]}),(0,l.jsx)("div",{className:"mt-4 text-right w-full",children:(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:["Found an error? File an issue"," ",(0,l.jsx)("a",{href:"https://github.com/BerriAI/litellm/issues",target:"_blank",rel:"noopener noreferrer",children:"here"}),"."]})})]})}},5183:function(e,s,t){"use strict";var l=t(57437),a=t(2265),n=t(19046),r=t(69734),i=t(19250),o=t(9114);s.Z=e=>{let{userID:s,userRole:t,accessToken:c}=e,{logoUrl:d,setLogoUrl:m}=(0,r.F)(),[u,x]=(0,a.useState)(""),[h,p]=(0,a.useState)(!1);(0,a.useEffect)(()=>{c&&g()},[c]);let g=async()=>{try{let s=(0,i.getProxyBaseUrl)(),t=await fetch(s?"".concat(s,"/get/ui_theme_settings"):"/get/ui_theme_settings",{method:"GET",headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json"}});if(t.ok){var e;let s=await t.json(),l=(null===(e=s.values)||void 0===e?void 0:e.logo_url)||"";x(l),m(l||null)}}catch(e){console.error("Error fetching theme settings:",e)}},j=async()=>{p(!0);try{let e=(0,i.getProxyBaseUrl)();if((await fetch(e?"".concat(e,"/update/ui_theme_settings"):"/update/ui_theme_settings",{method:"PATCH",headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json"},body:JSON.stringify({logo_url:u||null})})).ok)o.Z.success("Logo settings updated successfully!"),m(u||null);else throw Error("Failed to update settings")}catch(e){console.error("Error updating logo settings:",e),o.Z.fromBackend("Failed to update logo settings")}finally{p(!1)}},f=async()=>{x(""),m(null),p(!0);try{let e=(0,i.getProxyBaseUrl)();if((await fetch(e?"".concat(e,"/update/ui_theme_settings"):"/update/ui_theme_settings",{method:"PATCH",headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json"},body:JSON.stringify({logo_url:null})})).ok)o.Z.success("Logo reset to default!");else throw Error("Failed to reset logo")}catch(e){console.error("Error resetting logo:",e),o.Z.fromBackend("Failed to reset logo")}finally{p(!1)}};return c?(0,l.jsxs)("div",{className:"w-full mx-auto max-w-4xl px-6 py-8",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)(n.Dx,{className:"text-2xl font-bold mb-2",children:"Logo Customization"}),(0,l.jsx)(n.xv,{className:"text-gray-600",children:"Customize your LiteLLM admin dashboard with a custom logo."})]}),(0,l.jsx)(n.Zb,{className:"shadow-sm p-6",children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(n.xv,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Custom Logo URL"}),(0,l.jsx)(n.oi,{placeholder:"https://example.com/logo.png",value:u,onValueChange:e=>{x(e),m(e||null)},className:"w-full"}),(0,l.jsx)(n.xv,{className:"text-xs text-gray-500 mt-1",children:"Enter a URL for your custom logo or leave empty to use the default LiteLLM logo"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(n.xv,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Current Logo"}),(0,l.jsx)("div",{className:"bg-gray-50 rounded-lg p-6 flex items-center justify-center min-h-[120px]",children:u?(0,l.jsx)("img",{src:u,alt:"Custom logo",className:"max-w-full max-h-24 object-contain",onError:e=>{var s;let t=e.target;t.style.display="none";let l=document.createElement("div");l.className="text-gray-500 text-sm",l.textContent="Failed to load image",null===(s=t.parentElement)||void 0===s||s.appendChild(l)}}):(0,l.jsx)(n.xv,{className:"text-gray-500 text-sm",children:"Default LiteLLM logo will be used"})})]}),(0,l.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,l.jsx)(n.zx,{onClick:j,loading:h,disabled:h,color:"indigo",children:"Save Changes"}),(0,l.jsx)(n.zx,{onClick:f,loading:h,disabled:h,variant:"secondary",color:"gray",children:"Reset to Default"})]})]})})]}):null}}},function(e){e.O(0,[3665,6990,9820,1491,1526,2417,2926,3709,9775,2525,1529,2284,7908,9011,9678,3603,5319,1853,7281,6494,5188,6202,7906,2344,3669,9165,1264,1487,3752,5105,6433,1160,9888,3250,9429,1223,3352,8049,1633,2202,874,4292,2162,2004,2012,8160,7801,9883,3801,1307,1052,7155,3298,6204,1739,773,6925,8143,2273,5809,603,2019,4696,2971,2117,1744],function(){return e(e.s=36362)}),_N_E=e.O()}]);