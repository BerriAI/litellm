(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[813],{59898:function(e,t,r){Promise.resolve().then(r.bind(r,42954))},69993:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var a=r(1119),l=r(2265),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 328a60 60 0 10120 0 60 60 0 10-120 0zM852 64H172c-17.7 0-32 14.3-32 32v660c0 17.7 14.3 32 32 32h680c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-32 660H204V128h616v596zM604 328a60 60 0 10120 0 60 60 0 10-120 0zm250.2 556H169.8c-16.5 0-29.8 14.3-29.8 32v36c0 4.4 3.3 8 7.4 8h729.1c4.1 0 7.4-3.6 7.4-8v-36c.1-17.7-13.2-32-29.7-32zM664 508H360c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"robot",theme:"outlined"},s=r(55015),o=l.forwardRef(function(e,t){return l.createElement(s.Z,(0,a.Z)({},e,{ref:t,icon:n}))})},92414:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var a=r(5853),l=r(2265);r(42698),r(64016),r(8710);var n=r(33232),s=r(44140),o=r(58747);let c=e=>{var t=(0,a._T)(e,[]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),l.createElement("path",{d:"M18.031 16.6168L22.3137 20.8995L20.8995 22.3137L16.6168 18.031C15.0769 19.263 13.124 20 11 20C6.032 20 2 15.968 2 11C2 6.032 6.032 2 11 2C15.968 2 20 6.032 20 11C20 13.124 19.263 15.0769 18.031 16.6168ZM16.0247 15.8748C17.2475 14.6146 18 12.8956 18 11C18 7.1325 14.8675 4 11 4C7.1325 4 4 7.1325 4 11C4 14.8675 7.1325 18 11 18C12.8956 18 14.6146 17.2475 15.8748 16.0247L16.0247 15.8748Z"}))};var i=r(4537);let d=e=>{var t=(0,a._T)(e,[]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),l.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),l.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))};var u=r(13241),m=r(1153),x=r(96398),h=r(79228),p=r(85238);let g=(0,m.fn)("MultiSelect"),f=l.forwardRef((e,t)=>{let{defaultValue:r=[],value:m,onValueChange:f,placeholder:b="Select...",placeholderSearch:v="Search",disabled:k=!1,icon:w,children:y,className:N,required:j,name:E,error:C=!1,errorMessage:S,id:_}=e,Z=(0,a._T)(e,["defaultValue","value","onValueChange","placeholder","placeholderSearch","disabled","icon","children","className","required","name","error","errorMessage","id"]),q=(0,l.useRef)(null),[M,V]=(0,s.Z)(r,m),{reactElementChildren:D,optionsAvailable:L}=(0,l.useMemo)(()=>{let e=l.Children.toArray(y).filter(l.isValidElement);return{reactElementChildren:e,optionsAvailable:(0,x.n0)("",e)}},[y]),[T,R]=(0,l.useState)(""),I=(null!=M?M:[]).length>0,z=(0,l.useMemo)(()=>T?(0,x.n0)(T,D):L,[T,D,L]),O=()=>{R("")};return l.createElement("div",{className:(0,u.q)("w-full min-w-[10rem] text-tremor-default",N)},l.createElement("div",{className:"relative"},l.createElement("select",{title:"multi-select-hidden",required:j,className:(0,u.q)("h-full w-full absolute left-0 top-0 -z-10 opacity-0"),value:M,onChange:e=>{e.preventDefault()},name:E,disabled:k,multiple:!0,id:_,onFocus:()=>{let e=q.current;e&&e.focus()}},l.createElement("option",{className:"hidden",value:"",disabled:!0,hidden:!0},b),z.map(e=>{let t=e.props.value,r=e.props.children;return l.createElement("option",{className:"hidden",key:t,value:t},r)})),l.createElement(h.Ri,Object.assign({as:"div",ref:t,defaultValue:M,value:M,onChange:e=>{null==f||f(e),V(e)},disabled:k,id:_,multiple:!0},Z),e=>{let{value:t}=e;return l.createElement(l.Fragment,null,l.createElement(h.Y4,{className:(0,u.q)("w-full outline-none text-left whitespace-nowrap truncate rounded-tremor-default focus:ring-2 transition duration-100 border pr-8 py-1.5","border-tremor-border shadow-tremor-input focus:border-tremor-brand-subtle focus:ring-tremor-brand-muted","dark:border-dark-tremor-border dark:shadow-dark-tremor-input dark:focus:border-dark-tremor-brand-subtle dark:focus:ring-dark-tremor-brand-muted",w?"pl-11 -ml-0.5":"pl-3",(0,x.um)(t.length>0,k,C)),ref:q},w&&l.createElement("span",{className:(0,u.q)("absolute inset-y-0 left-0 flex items-center ml-px pl-2.5")},l.createElement(w,{className:(0,u.q)(g("Icon"),"flex-none h-5 w-5","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})),l.createElement("div",{className:"h-6 flex items-center"},t.length>0?l.createElement("div",{className:"flex flex-nowrap overflow-x-scroll [&::-webkit-scrollbar]:hidden [scrollbar-width:none] gap-x-1 mr-5 -ml-1.5 relative"},L.filter(e=>t.includes(e.props.value)).map((e,r)=>{var a;return l.createElement("div",{key:r,className:(0,u.q)("max-w-[100px] lg:max-w-[200px] flex justify-center items-center pl-2 pr-1.5 py-1 font-medium","rounded-tremor-small","bg-tremor-background-muted dark:bg-dark-tremor-background-muted","bg-tremor-background-subtle dark:bg-dark-tremor-background-subtle","text-tremor-content-default dark:text-dark-tremor-content-default","text-tremor-content-emphasis dark:text-dark-tremor-content-emphasis")},l.createElement("div",{className:"text-xs truncate "},null!==(a=e.props.children)&&void 0!==a?a:e.props.value),l.createElement("div",{onClick:r=>{r.preventDefault();let a=t.filter(t=>t!==e.props.value);null==f||f(a),V(a)}},l.createElement(d,{className:(0,u.q)(g("clearIconItem"),"cursor-pointer rounded-tremor-full w-3.5 h-3.5 ml-2","text-tremor-content-subtle hover:text-tremor-content","dark:text-dark-tremor-content-subtle dark:hover:text-tremor-content")})))})):l.createElement("span",null,b)),l.createElement("span",{className:(0,u.q)("absolute inset-y-0 right-0 flex items-center mr-2.5")},l.createElement(o.Z,{className:(0,u.q)(g("arrowDownIcon"),"flex-none h-5 w-5","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")}))),I&&!k?l.createElement("button",{type:"button",className:(0,u.q)("absolute inset-y-0 right-0 flex items-center mr-8"),onClick:e=>{e.preventDefault(),V([]),null==f||f([])}},l.createElement(i.Z,{className:(0,u.q)(g("clearIconAllItems"),"flex-none h-4 w-4","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})):null,l.createElement(p.u,{enter:"transition ease duration-100 transform",enterFrom:"opacity-0 -translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"transition ease duration-100 transform",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-4"},l.createElement(h.O_,{anchor:"bottom start",className:(0,u.q)("z-10 divide-y w-[var(--button-width)] overflow-y-auto outline-none rounded-tremor-default max-h-[228px]  border [--anchor-gap:4px]","bg-tremor-background border-tremor-border divide-tremor-border shadow-tremor-dropdown","dark:bg-dark-tremor-background dark:border-dark-tremor-border dark:divide-dark-tremor-border dark:shadow-dark-tremor-dropdown")},l.createElement("div",{className:(0,u.q)("flex items-center w-full px-2.5","bg-tremor-background-muted","dark:bg-dark-tremor-background-muted")},l.createElement("span",null,l.createElement(c,{className:(0,u.q)("flex-none w-4 h-4 mr-2","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})),l.createElement("input",{name:"search",type:"input",autoComplete:"off",placeholder:v,className:(0,u.q)("w-full focus:outline-none focus:ring-none bg-transparent text-tremor-default py-2","text-tremor-content-emphasis","dark:text-dark-tremor-content-subtle"),onKeyDown:e=>{"Space"===e.code&&""!==e.target.value&&e.stopPropagation()},onChange:e=>R(e.target.value),value:T})),l.createElement(n.Z.Provider,Object.assign({},{onBlur:{handleResetSearch:O}},{value:{selectedValue:t}}),z))))})),C&&S?l.createElement("p",{className:(0,u.q)("errorMessage","text-sm text-rose-500 mt-1")},S):null)});f.displayName="MultiSelect"},46030:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var a=r(5853);r(42698),r(64016),r(8710);var l=r(33232),n=r(2265),s=r(13241),o=r(1153),c=r(79228);let i=(0,o.fn)("MultiSelectItem"),d=n.forwardRef((e,t)=>{let{value:r,className:d,children:u}=e,m=(0,a._T)(e,["value","className","children"]),{selectedValue:x}=(0,n.useContext)(l.Z),h=(0,o.NZ)(r,x);return n.createElement(c.wt,Object.assign({className:(0,s.q)(i("root"),"flex justify-start items-center cursor-default text-tremor-default p-2.5","data-[focus]:bg-tremor-background-muted data-[focus]:text-tremor-content-strong data-[select]ed:text-tremor-content-strong text-tremor-content-emphasis","dark:data-[focus]:bg-dark-tremor-background-muted dark:data-[focus]:text-dark-tremor-content-strong dark:data-[select]ed:text-dark-tremor-content-strong dark:data-[select]ed:bg-dark-tremor-background-muted dark:text-dark-tremor-content-emphasis",d),ref:t,key:r,value:r},m),n.createElement("input",{type:"checkbox",className:(0,s.q)(i("checkbox"),"flex-none focus:ring-none focus:outline-none cursor-pointer mr-2.5","accent-tremor-brand","dark:accent-dark-tremor-brand"),checked:h,readOnly:!0}),n.createElement("span",{className:"whitespace-nowrap truncate"},null!=u?u:r))});d.displayName="MultiSelectItem"},96889:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var a=r(5853),l=r(2265),n=r(26898),s=r(13241),o=r(1153);let c=(0,o.fn)("BarList");function i(e,t){let{data:r=[],color:i,valueFormatter:d=o.Cj,showAnimation:u=!1,onValueChange:m,sortOrder:x="descending",className:h}=e,p=(0,a._T)(e,["data","color","valueFormatter","showAnimation","onValueChange","sortOrder","className"]),g=m?"button":"div",f=l.useMemo(()=>"none"===x?r:[...r].sort((e,t)=>"ascending"===x?e.value-t.value:t.value-e.value),[r,x]),b=l.useMemo(()=>{let e=Math.max(...f.map(e=>e.value),0);return f.map(t=>0===t.value?0:Math.max(t.value/e*100,2))},[f]);return l.createElement("div",Object.assign({ref:t,className:(0,s.q)(c("root"),"flex justify-between space-x-6",h),"aria-sort":x},p),l.createElement("div",{className:(0,s.q)(c("bars"),"relative w-full space-y-1.5")},f.map((e,t)=>{var r,a,d;let x=e.icon;return l.createElement(g,{key:null!==(r=e.key)&&void 0!==r?r:t,onClick:()=>{null==m||m(e)},className:(0,s.q)(c("bar"),"group w-full flex items-center rounded-tremor-small",m?["cursor-pointer","hover:bg-tremor-background-muted dark:hover:bg-dark-tremor-background-subtle/40"]:"")},l.createElement("div",{className:(0,s.q)("flex items-center rounded transition-all bg-opacity-40","h-8",e.color||i?[(0,o.bM)(null!==(a=e.color)&&void 0!==a?a:i,n.K.background).bgColor,m?"group-hover:bg-opacity-30":""]:"bg-tremor-brand-subtle dark:bg-dark-tremor-brand-subtle/60",!m||e.color||i?"":"group-hover:bg-tremor-brand-subtle/30 group-hover:dark:bg-dark-tremor-brand-subtle/70",t===f.length-1?"mb-0":"",u?"duration-500":""),style:{width:"".concat(b[t],"%"),transition:u?"all 1s":""}},l.createElement("div",{className:(0,s.q)("absolute left-2 pr-4 flex max-w-full")},x?l.createElement(x,{className:(0,s.q)(c("barIcon"),"flex-none h-5 w-5 mr-2","text-tremor-content","dark:text-dark-tremor-content")}):null,e.href?l.createElement("a",{href:e.href,target:null!==(d=e.target)&&void 0!==d?d:"_blank",rel:"noreferrer",className:(0,s.q)(c("barLink"),"whitespace-nowrap hover:underline truncate text-tremor-default",m?"cursor-pointer":"","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis"),onClick:e=>e.stopPropagation()},e.name):l.createElement("p",{className:(0,s.q)(c("barText"),"whitespace-nowrap truncate text-tremor-default","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis")},e.name))))})),l.createElement("div",{className:c("labels")},f.map((e,t)=>{var r;return l.createElement("div",{key:null!==(r=e.key)&&void 0!==r?r:t,className:(0,s.q)(c("labelWrapper"),"flex justify-end items-center","h-8",t===f.length-1?"mb-0":"mb-1.5")},l.createElement("p",{className:(0,s.q)(c("labelText"),"whitespace-nowrap leading-none truncate text-tremor-default","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis")},d(e.value)))})))}i.displayName="BarList";let d=l.forwardRef(i)},62338:function(e,t,r){"use strict";r.d(t,{v:function(){return a.Z}});var a=r(40278)},16312:function(e,t,r){"use strict";r.d(t,{z:function(){return a.Z}});var a=r(78489)},19130:function(e,t,r){"use strict";r.d(t,{RM:function(){return l.Z},SC:function(){return c.Z},iA:function(){return a.Z},pj:function(){return n.Z},ss:function(){return s.Z},xs:function(){return o.Z}});var a=r(21626),l=r(97214),n=r(28241),s=r(58834),o=r(69552),c=r(71876)},42954:function(e,t,r){"use strict";r.r(t);var a=r(57437),l=r(18143),n=r(39760),s=r(2265);t.default=()=>{let{accessToken:e,token:t,userRole:r,userId:o,premiumUser:c}=(0,n.Z)(),[i,d]=(0,s.useState)([]);return(0,a.jsx)(l.Z,{accessToken:e,token:t,userRole:r,userID:o,keys:i,premiumUser:c})}},39789:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var a=r(57437),l=r(2265),n=r(68235),s=r(84264),o=e=>{let{value:t,onValueChange:r,label:o="Select Time Range",className:c="",showTimeRange:i=!0}=e,[d,u]=(0,l.useState)(!1),m=(0,l.useRef)(null),x=(0,l.useCallback)(e=>{u(!0),setTimeout(()=>u(!1),1500),r(e),requestIdleCallback(()=>{if(e.from){let t;let a={...e},l=new Date(e.from);t=new Date(e.to?e.to:e.from),l.toDateString(),t.toDateString(),l.setHours(0,0,0,0),t.setHours(23,59,59,999),a.from=l,a.to=t,r(a)}},{timeout:100})},[r]),h=(0,l.useCallback)((e,t)=>{if(!e||!t)return"";let r=e=>e.toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZoneName:"short"});if(e.toDateString()!==t.toDateString())return"".concat(r(e)," - ").concat(r(t));{let r=e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),a=e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),l=t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZoneName:"short"});return"".concat(r,": ").concat(a," - ").concat(l)}},[]);return(0,a.jsxs)("div",{className:c,children:[o&&(0,a.jsx)(s.Z,{className:"mb-2",children:o}),(0,a.jsxs)("div",{className:"relative w-fit",children:[(0,a.jsx)("div",{ref:m,children:(0,a.jsx)(n.Z,{enableSelect:!0,value:t,onValueChange:x,placeholder:"Select date range",enableClear:!1,style:{zIndex:100}})}),d&&(0,a.jsx)("div",{className:"absolute top-1/2 animate-pulse",style:{left:"calc(100% + 8px)",transform:"translateY(-50%)",zIndex:110},children:(0,a.jsxs)("div",{className:"flex items-center gap-1 text-green-600 text-sm font-medium bg-white px-2 py-1 rounded-full border border-green-200 shadow-sm whitespace-nowrap",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 text-white rounded-full flex items-center justify-center text-xs",children:"âœ“"}),(0,a.jsx)("span",{className:"text-xs",children:"Selected"})]})})]}),i&&t.from&&t.to&&(0,a.jsx)(s.Z,{className:"mt-2 text-xs text-gray-500",children:h(t.from,t.to)})]})}},4863:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var a=r(57437),l=r(2265),n=r(62338),s=r(94292),o=r(19250);let c=e=>{let{key:t,info:r}=e;return{token:t,...r}};var i=r(12322),d=r(99981),u=r(16312),m=r(59872),x=r(44633),h=r(86462),p=e=>{let{topKeys:t,accessToken:r,userID:p,userRole:g,teams:f,premiumUser:b,showTags:v=!1}=e,[k,w]=(0,l.useState)(!1),[y,N]=(0,l.useState)(null),[j,E]=(0,l.useState)(void 0),[C,S]=(0,l.useState)("table"),[_,Z]=(0,l.useState)(new Set),q=e=>{Z(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},M=async e=>{if(r)try{let t=await (0,o.keyInfoV1Call)(r,e.api_key),a=c(t);E(a),N(e.api_key),w(!0)}catch(e){console.error("Error fetching key info:",e)}},V=()=>{w(!1),N(null),E(void 0)};l.useEffect(()=>{let e=e=>{"Escape"===e.key&&k&&V()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[k]);let D=[{header:"Key ID",accessorKey:"api_key",cell:e=>(0,a.jsx)("div",{className:"overflow-hidden",children:(0,a.jsx)(d.Z,{title:e.getValue(),children:(0,a.jsx)(u.z,{size:"xs",variant:"light",className:"font-mono text-blue-500 bg-blue-50 hover:bg-blue-100 text-xs font-normal px-2 py-0.5 text-left overflow-hidden truncate max-w-[200px]",onClick:()=>M(e.row.original),children:e.getValue()?"".concat(e.getValue().slice(0,7),"..."):"-"})})})},{header:"Key Alias",accessorKey:"key_alias",cell:e=>e.getValue()||"-"}],L={header:"Spend (USD)",accessorKey:"spend",cell:e=>{let t=e.getValue();return t>0&&t<.01?"<$0.01":"$".concat((0,m.pw)(t,2))}},T=v?[...D,{header:"Tags",accessorKey:"tags",cell:e=>{let t=e.getValue(),r=e.row.original.api_key,l=_.has(r);if(!t||0===t.length)return"-";let n=t.sort((e,t)=>t.usage-e.usage),s=l?n:n.slice(0,2),o=t.length>2;return(0,a.jsx)("div",{className:"overflow-hidden",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-1",children:[s.map((e,t)=>(0,a.jsx)(d.Z,{title:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-300",children:"Tag Name:"})," ",e.tag]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-300",children:"Spend:"})," ",e.usage>0&&e.usage<.01?"<$0.01":"$".concat((0,m.pw)(e.usage,2))]})]}),children:(0,a.jsxs)("span",{className:"px-2 py-1 bg-gray-100 rounded-full text-xs",children:[e.tag.slice(0,7),"..."]})},t)),o&&(0,a.jsx)("button",{onClick:()=>q(r),className:"ml-1 p-1 hover:bg-gray-200 rounded-full transition-colors",title:l?"Show fewer tags":"Show all tags",children:l?(0,a.jsx)(x.Z,{className:"h-3 w-3 text-gray-500"}):(0,a.jsx)(h.Z,{className:"h-3 w-3 text-gray-500"})})]})})}},L]:[...D,L],R=t.map(e=>({...e,display_key_alias:e.key_alias&&e.key_alias.length>10?"".concat(e.key_alias.slice(0,10),"..."):e.key_alias||"-"}));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mb-4 flex justify-end items-center",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>S("table"),className:"px-3 py-1 text-sm rounded-md ".concat("table"===C?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"),children:"Table View"}),(0,a.jsx)("button",{onClick:()=>S("chart"),className:"px-3 py-1 text-sm rounded-md ".concat("chart"===C?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"),children:"Chart View"})]})}),"chart"===C?(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)(n.v,{className:"mt-4 h-40 cursor-pointer hover:opacity-90",data:R,index:"display_key_alias",categories:["spend"],colors:["cyan"],yAxisWidth:120,tickGap:5,layout:"vertical",showLegend:!1,valueFormatter:e=>"$".concat((0,m.pw)(e,2)),onValueChange:e=>M(e),showTooltip:!0,customTooltip:e=>{var t,r;let l=null===(r=e.payload)||void 0===r?void 0:null===(t=r[0])||void 0===t?void 0:t.payload;return(0,a.jsx)("div",{className:"relative z-50 p-3 bg-black/90 shadow-lg rounded-lg text-white max-w-xs",children:(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-300",children:"Key Alias: "}),(0,a.jsx)("span",{className:"font-mono text-gray-100 break-all",children:null==l?void 0:l.key_alias})]}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-300",children:"Key ID: "}),(0,a.jsx)("span",{className:"font-mono text-gray-100 break-all",children:null==l?void 0:l.api_key})]}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-300",children:"Spend: "}),(0,a.jsxs)("span",{className:"text-white font-medium",children:["$",(0,m.pw)(null==l?void 0:l.spend,2)]})]})]})})}})}):(0,a.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,a.jsx)(i.w,{columns:T,data:t,renderSubComponent:()=>(0,a.jsx)(a.Fragment,{}),getRowCanExpand:()=>!1,isLoading:!1})}),k&&y&&j&&(console.log("Rendering modal with:",{isModalOpen:k,selectedKey:y,keyData:j}),(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e=>{e.target===e.currentTarget&&V()},children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl relative w-11/12 max-w-6xl max-h-[90vh] overflow-y-auto min-h-[750px]",children:[(0,a.jsx)("button",{onClick:V,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 focus:outline-none","aria-label":"Close",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),(0,a.jsx)("div",{className:"p-6 h-full",children:(0,a.jsx)(s.Z,{keyId:y,onClose:V,keyData:j,accessToken:r,userID:p,userRole:g,teams:f,premiumUser:b})})]})}))]})}},12322:function(e,t,r){"use strict";r.d(t,{w:function(){return c}});var a=r(57437),l=r(2265),n=r(71594),s=r(24525),o=r(19130);function c(e){let{data:t=[],columns:r,getRowCanExpand:c,renderSubComponent:i,isLoading:d=!1,loadingMessage:u="\uD83D\uDE85 Loading logs...",noDataMessage:m="No logs found"}=e,x=(0,n.b7)({data:t,columns:r,getRowCanExpand:c,getRowId:(e,t)=>{var r;return null!==(r=null==e?void 0:e.request_id)&&void 0!==r?r:String(t)},getCoreRowModel:(0,s.sC)(),getExpandedRowModel:(0,s.rV)()});return(0,a.jsx)("div",{className:"rounded-lg custom-border overflow-x-auto w-full max-w-full box-border",children:(0,a.jsxs)(o.iA,{className:"[&_td]:py-0.5 [&_th]:py-1 table-fixed w-full box-border",style:{minWidth:"400px"},children:[(0,a.jsx)(o.ss,{children:x.getHeaderGroups().map(e=>(0,a.jsx)(o.SC,{children:e.headers.map(e=>(0,a.jsx)(o.xs,{className:"py-1 h-8",children:e.isPlaceholder?null:(0,n.ie)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,a.jsx)(o.RM,{children:d?(0,a.jsx)(o.SC,{children:(0,a.jsx)(o.pj,{colSpan:r.length,className:"h-8 text-center",children:(0,a.jsx)("div",{className:"text-center text-gray-500",children:(0,a.jsx)("p",{children:u})})})}):x.getRowModel().rows.length>0?x.getRowModel().rows.map(e=>(0,a.jsxs)(l.Fragment,{children:[(0,a.jsx)(o.SC,{className:"h-8",children:e.getVisibleCells().map(e=>(0,a.jsx)(o.pj,{className:"py-0.5 max-h-8 overflow-hidden text-ellipsis whitespace-nowrap",children:(0,n.ie)(e.column.columnDef.cell,e.getContext())},e.id))}),e.getIsExpanded()&&(0,a.jsx)(o.SC,{children:(0,a.jsx)(o.pj,{colSpan:e.getVisibleCells().length,className:"p-0",children:(0,a.jsx)("div",{className:"w-full max-w-full overflow-hidden box-border",children:i({row:e})})})})]},e.id)):(0,a.jsx)(o.SC,{children:(0,a.jsx)(o.pj,{colSpan:r.length,className:"h-8 text-center",children:(0,a.jsx)("div",{className:"text-center text-gray-500",children:(0,a.jsx)("p",{children:m})})})})})]})})}},47375:function(e,t,r){"use strict";var a=r(57437),l=r(2265),n=r(19250),s=r(59872);t.Z=e=>{let{userID:t,userRole:r,accessToken:o,userSpend:c,userMaxBudget:i,selectedTeam:d}=e;console.log("userSpend: ".concat(c));let[u,m]=(0,l.useState)(null!==c?c:0),[x,h]=(0,l.useState)(d?Number((0,s.pw)(d.max_budget,4)):null);(0,l.useEffect)(()=>{if(d){if("Default Team"===d.team_alias)h(i);else{let e=!1;if(d.team_memberships)for(let r of d.team_memberships)r.user_id===t&&"max_budget"in r.litellm_budget_table&&null!==r.litellm_budget_table.max_budget&&(h(r.litellm_budget_table.max_budget),e=!0);e||h(d.max_budget)}}},[d,i]);let[p,g]=(0,l.useState)([]);(0,l.useEffect)(()=>{let e=async()=>{if(!o||!t||!r)return};(async()=>{try{if(null===t||null===r)return;if(null!==o){let e=(await (0,n.modelAvailableCall)(o,t,r)).data.map(e=>e.id);console.log("available_model_names:",e),g(e)}}catch(e){console.error("Error fetching user models:",e)}})(),e()},[r,o,t]),(0,l.useEffect)(()=>{null!==c&&m(c)},[c]);let f=[];d&&d.models&&(f=d.models),f&&f.includes("all-proxy-models")?(console.log("user models:",p),f=p):f&&f.includes("all-team-models")?f=d.models:f&&0===f.length&&(f=p);let b=null!==x?"$".concat((0,s.pw)(Number(x),4)," limit"):"No limit",v=void 0!==u?(0,s.pw)(u,4):null;return console.log("spend in view user spend: ".concat(u)),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("div",{className:"flex justify-between gap-x-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-tremor-default text-tremor-content dark:text-dark-tremor-content",children:"Total Spend"}),(0,a.jsxs)("p",{className:"text-2xl text-tremor-content-strong dark:text-dark-tremor-content-strong font-semibold",children:["$",v]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-tremor-default text-tremor-content dark:text-dark-tremor-content",children:"Max Budget"}),(0,a.jsx)("p",{className:"text-2xl text-tremor-content-strong dark:text-dark-tremor-content-strong font-semibold",children:b})]})]})})}},10900:function(e,t,r){"use strict";var a=r(2265);let l=a.forwardRef(function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"}))});t.Z=l}},function(e){e.O(0,[1047,9028,9409,4865,8135,1442,2926,2409,1529,3709,1394,1994,2525,3705,8565,353,5319,9678,525,6609,7996,395,9611,8235,5170,1674,8049,9877,2202,874,4292,8143,2971,2117,1744],function(){return e(e.s=59898)}),_N_E=e.O()}]);