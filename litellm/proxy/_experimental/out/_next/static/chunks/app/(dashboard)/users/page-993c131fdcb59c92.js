(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7297,1623],{27996:function(e,t,r){Promise.resolve().then(r.bind(r,87654))},47323:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(5853),i=r(2265),s=r(47187),o=r(7084),a=r(13241),u=r(1153),l=r(26898);let c={xs:{paddingX:"px-1.5",paddingY:"py-1.5"},sm:{paddingX:"px-1.5",paddingY:"py-1.5"},md:{paddingX:"px-2",paddingY:"py-2"},lg:{paddingX:"px-2",paddingY:"py-2"},xl:{paddingX:"px-2.5",paddingY:"py-2.5"}},d={xs:{height:"h-3",width:"w-3"},sm:{height:"h-5",width:"w-5"},md:{height:"h-5",width:"w-5"},lg:{height:"h-7",width:"w-7"},xl:{height:"h-9",width:"w-9"}},h={simple:{rounded:"",border:"",ring:"",shadow:""},light:{rounded:"rounded-tremor-default",border:"",ring:"",shadow:""},shadow:{rounded:"rounded-tremor-default",border:"border",ring:"",shadow:"shadow-tremor-card dark:shadow-dark-tremor-card"},solid:{rounded:"rounded-tremor-default",border:"border-2",ring:"ring-1",shadow:""},outlined:{rounded:"rounded-tremor-default",border:"border",ring:"ring-2",shadow:""}},f=(e,t)=>{switch(e){case"simple":return{textColor:t?(0,u.bM)(t,l.K.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",bgColor:"",borderColor:"",ringColor:""};case"light":return{textColor:t?(0,u.bM)(t,l.K.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",bgColor:t?(0,a.q)((0,u.bM)(t,l.K.background).bgColor,"bg-opacity-20"):"bg-tremor-brand-muted dark:bg-dark-tremor-brand-muted",borderColor:"",ringColor:""};case"shadow":return{textColor:t?(0,u.bM)(t,l.K.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",bgColor:t?(0,a.q)((0,u.bM)(t,l.K.background).bgColor,"bg-opacity-20"):"bg-tremor-background dark:bg-dark-tremor-background",borderColor:"border-tremor-border dark:border-dark-tremor-border",ringColor:""};case"solid":return{textColor:t?(0,u.bM)(t,l.K.text).textColor:"text-tremor-brand-inverted dark:text-dark-tremor-brand-inverted",bgColor:t?(0,a.q)((0,u.bM)(t,l.K.background).bgColor,"bg-opacity-20"):"bg-tremor-brand dark:bg-dark-tremor-brand",borderColor:"border-tremor-brand-inverted dark:border-dark-tremor-brand-inverted",ringColor:"ring-tremor-ring dark:ring-dark-tremor-ring"};case"outlined":return{textColor:t?(0,u.bM)(t,l.K.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",bgColor:t?(0,a.q)((0,u.bM)(t,l.K.background).bgColor,"bg-opacity-20"):"bg-tremor-background dark:bg-dark-tremor-background",borderColor:t?(0,u.bM)(t,l.K.ring).borderColor:"border-tremor-brand-subtle dark:border-dark-tremor-brand-subtle",ringColor:t?(0,a.q)((0,u.bM)(t,l.K.ring).ringColor,"ring-opacity-40"):"ring-tremor-brand-muted dark:ring-dark-tremor-brand-muted"}}},m=(0,u.fn)("Icon"),p=i.forwardRef((e,t)=>{let{icon:r,variant:l="simple",tooltip:p,size:g=o.u8.SM,color:y,className:b}=e,v=(0,n._T)(e,["icon","variant","tooltip","size","color","className"]),x=f(l,y),{tooltipProps:C,getReferenceProps:w}=(0,s.l)();return i.createElement("span",Object.assign({ref:(0,u.lq)([t,C.refs.setReference]),className:(0,a.q)(m("root"),"inline-flex shrink-0 items-center justify-center",x.bgColor,x.textColor,x.borderColor,x.ringColor,h[l].rounded,h[l].border,h[l].shadow,h[l].ring,c[g].paddingX,c[g].paddingY,b)},w,v),i.createElement(s.Z,Object.assign({text:p},C)),i.createElement(r,{className:(0,a.q)(m("icon"),"shrink-0",d[g].height,d[g].width)}))});p.displayName="Icon"},16853:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(5853),i=r(96398),s=r(44140),o=r(2265),a=r(13241),u=r(1153);let l=(0,u.fn)("Textarea"),c=o.forwardRef((e,t)=>{let{value:r,defaultValue:c="",placeholder:d="Type...",error:h=!1,errorMessage:f,disabled:m=!1,className:p,onChange:g,onValueChange:y,autoHeight:b=!1}=e,v=(0,n._T)(e,["value","defaultValue","placeholder","error","errorMessage","disabled","className","onChange","onValueChange","autoHeight"]),[x,C]=(0,s.Z)(c,r),w=(0,o.useRef)(null),k=(0,i.Uh)(x);return(0,o.useEffect)(()=>{let e=w.current;if(b&&e){e.style.height="60px";let t=e.scrollHeight;e.style.height=t+"px"}},[b,w,x]),o.createElement(o.Fragment,null,o.createElement("textarea",Object.assign({ref:(0,u.lq)([w,t]),value:x,placeholder:d,disabled:m,className:(0,a.q)(l("Textarea"),"w-full flex items-center outline-none rounded-tremor-default px-3 py-2 text-tremor-default focus:ring-2 transition duration-100 border","shadow-tremor-input focus:border-tremor-brand-subtle focus:ring-tremor-brand-muted","dark:shadow-dark-tremor-input focus:dark:border-dark-tremor-brand-subtle focus:dark:ring-dark-tremor-brand-muted",(0,i.um)(k,m,h),m?"placeholder:text-tremor-content-subtle dark:placeholder:text-dark-tremor-content-subtle":"placeholder:text-tremor-content dark:placeholder:text-dark-tremor-content",p),"data-testid":"text-area",onChange:e=>{null==g||g(e),C(e.target.value),null==y||y(e.target.value)}},v)),h&&f?o.createElement("p",{className:(0,a.q)(l("errorMessage"),"text-sm text-red-500 mt-1")},f):null)});c.displayName="Textarea"},66344:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("circle-user-round",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},3577:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},69076:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},73247:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},92369:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},84717:function(e,t,r){"use strict";r.d(t,{Ct:function(){return n.Z},Dx:function(){return f.Z},OK:function(){return a.Z},Zb:function(){return s.Z},nP:function(){return d.Z},rj:function(){return o.Z},td:function(){return l.Z},v0:function(){return u.Z},x4:function(){return c.Z},xv:function(){return h.Z},zx:function(){return i.Z}});var n=r(41649),i=r(78489),s=r(12514),o=r(67101),a=r(12485),u=r(18135),l=r(35242),c=r(29706),d=r(77991),h=r(84264),f=r(96761)},90246:function(e,t,r){"use strict";function n(e){let t=[e];return{all:t,lists:()=>[...t,"list"],list:e=>[...t,"list",{params:e}],details:()=>[...t,"detail"],detail:e=>[...t,"detail",e]}}r.d(t,{n:function(){return n}})},76191:function(e,t,r){"use strict";r.d(t,{p:function(){return o}});var n=r(19250),i=r(11713);let s=(0,r(90246).n)("uiConfig"),o=()=>(0,i.a)({queryKey:s.list({}),queryFn:async()=>await (0,n.getUiConfig)(),staleTime:864e5,gcTime:864e5})},39760:function(e,t,r){"use strict";var n=r(19250),i=r(3914),s=r(97060),o=r(14474),a=r(99376),u=r(2265),l=r(76191);t.Z=()=>{var e,t,r,c,d,h;let f=(0,a.useRouter)(),{data:m,isLoading:p}=(0,l.p)(),g="undefined"!=typeof document?(0,i.e)("token"):null;(0,u.useEffect)(()=>{(!g||g&&(0,s.v)(g))&&(g&&(0,i.b)(),f.replace("".concat((0,n.getProxyBaseUrl)(),"/ui/login")))},[g,f]),(0,u.useEffect)(()=>{!p&&(null==m?void 0:m.admin_ui_disabled)&&f.replace("".concat((0,n.getProxyBaseUrl)(),"/ui/login"))},[f,p,m]);let y=(0,u.useMemo)(()=>{if(!g)return null;try{return(0,o.o)(g)}catch(e){return(0,i.b)(),f.replace("".concat((0,n.getProxyBaseUrl)(),"/ui/login")),null}},[g,f]);return{token:g,accessToken:null!==(e=null==y?void 0:y.key)&&void 0!==e?e:null,userId:null!==(t=null==y?void 0:y.user_id)&&void 0!==t?t:null,userEmail:null!==(r=null==y?void 0:y.user_email)&&void 0!==r?r:null,userRole:function(e){if(!e)return"Undefined Role";switch(e.toLowerCase()){case"app_owner":case"demo_app_owner":return"App Owner";case"app_admin":case"proxy_admin":return"Admin";case"proxy_admin_viewer":return"Admin Viewer";case"org_admin":return"Org Admin";case"internal_user":return"Internal User";case"internal_user_viewer":case"internal_viewer":return"Internal Viewer";case"app_user":return"App User";default:return"Unknown Role"}}(null!==(c=null==y?void 0:y.user_role)&&void 0!==c?c:null),premiumUser:null!==(d=null==y?void 0:y.premium_user)&&void 0!==d?d:null,disabledPersonalKeyCreation:null!==(h=null==y?void 0:y.disabled_non_admin_personal_key_creation)&&void 0!==h?h:null,showSSOBanner:(null==y?void 0:y.login_method)==="username_password"}}},49282:function(e,t,r){"use strict";var n=r(2265),i=r(39760),s=r(39623);t.Z=()=>{let[e,t]=(0,n.useState)([]),{accessToken:r,userId:o,userRole:a}=(0,i.Z)();return(0,n.useEffect)(()=>{(async()=>{t(await (0,s.Z)(r,o,a,null))})()},[r,o,a]),{teams:e,setTeams:t}}},39623:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(19250);let i=async(e,t,r,i)=>"Admin"!=r&&"Admin Viewer"!=r?await (0,n.teamListCall)(e,(null==i?void 0:i.organization_id)||null,t):await (0,n.teamListCall)(e,(null==i?void 0:i.organization_id)||null)},87654:function(e,t,r){"use strict";r.r(t);var n=r(57437),i=r(42318),s=r(39760),o=r(49282),a=r(2265),u=r(21623),l=r(29827);t.default=()=>{let{accessToken:e,userRole:t,userId:r,token:c}=(0,s.Z)(),[d,h]=(0,a.useState)([]),{teams:f}=(0,o.Z)(),m=new u.S;return(0,n.jsx)(l.aH,{client:m,children:(0,n.jsx)(i.Z,{accessToken:e,token:c,keys:d,userRole:t,userID:r,teams:f,setKeys:h})})}},21609:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(57437),i=r(57840),s=r(2651),o=r(22116),a=r(51653),u=r(5945),l=r(76188),c=r(4260),d=r(29271),h=r(2265);function f(e){let{isOpen:t,title:r,alertMessage:f,message:m,resourceInformationTitle:p,resourceInformation:g,onCancel:y,onOk:b,confirmLoading:v,requiredConfirmation:x}=e,{Title:C,Text:w}=i.default,{token:k}=s.Z.useToken(),[_,O]=(0,h.useState)("");return(0,h.useEffect)(()=>{t&&O("")},[t]),(0,n.jsx)(o.Z,{title:r,open:t,onOk:b,onCancel:y,confirmLoading:v,okText:v?"Deleting...":"Delete",cancelText:"Cancel",okButtonProps:{danger:!0,disabled:!!x&&_!==x||v},cancelButtonProps:{disabled:v},children:(0,n.jsxs)("div",{className:"space-y-4",children:[f&&(0,n.jsx)(a.Z,{message:f,type:"warning"}),(0,n.jsx)(u.Z,{title:p,className:"mt-4",styles:{body:{padding:"16px"},header:{backgroundColor:k.colorErrorBg,borderColor:k.colorErrorBorder}},style:{backgroundColor:k.colorErrorBg,borderColor:k.colorErrorBorder},children:(0,n.jsx)(l.Z,{column:1,size:"small",children:g&&g.map(e=>{let{label:t,value:r,...i}=e;return(0,n.jsx)(l.Z.Item,{label:(0,n.jsx)("span",{className:"font-semibold",children:t}),children:(0,n.jsx)(w,{...i,children:null!=r?r:"-"})},t)})})}),(0,n.jsx)("div",{children:(0,n.jsx)(w,{children:m})}),x&&(0,n.jsxs)("div",{className:"mb-6 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,n.jsxs)(w,{className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:[(0,n.jsx)(w,{children:"Type "}),(0,n.jsx)(w,{strong:!0,type:"danger",children:x}),(0,n.jsx)(w,{children:" to confirm deletion:"})]}),(0,n.jsx)(c.default,{value:_,onChange:e=>O(e.target.value),placeholder:x,className:"rounded-md",prefix:(0,n.jsx)(d.Z,{style:{color:k.colorError}}),autoFocus:!0})]})]})})}},56083:function(e,t,r){"use strict";r.d(t,{H:function(){return l}});var n=r(57437),i=r(10012),s=r(4260),o=r(7310),a=r.n(o),u=r(2265);let l=e=>{let{placeholder:t,value:r,onChange:o,icon:l,className:c}=e,[d,h]=(0,u.useState)(r);(0,u.useEffect)(()=>{h(r)},[r]);let f=(0,u.useMemo)(()=>a()(e=>o(e),300),[o]);(0,u.useEffect)(()=>()=>{f.cancel()},[f]);let m=(0,u.useCallback)(e=>{let t=e.target.value;h(t),f(t)},[f]);return(0,n.jsx)(s.default,{placeholder:t,value:d,onChange:m,prefix:l?(0,n.jsx)(l,{size:16,className:"text-gray-500"}):void 0,className:(0,i.cx)("w-64",c)})}},51205:function(e,t,r){"use strict";r.d(t,{c:function(){return a}});var n=r(57437),i=r(33866),s=r(5545),o=r(3577);r(2265);let a=e=>{let{onClick:t,active:r,hasActiveFilters:a,label:u="Filters"}=e;return(0,n.jsx)(i.Z,{color:"blue",dot:a,children:(0,n.jsx)(s.ZP,{type:"default",onClick:t,icon:(0,n.jsx)(o.Z,{size:16}),className:r?"bg-gray-100":"",children:u})})}},57716:function(e,t,r){"use strict";r.d(t,{z:function(){return o}});var n=r(57437),i=r(5545),s=r(69076);r(2265);let o=e=>{let{onClick:t,label:r="Reset Filters"}=e;return(0,n.jsx)(i.ZP,{type:"default",onClick:t,icon:(0,n.jsx)(s.Z,{size:16}),children:r})}},46468:function(e,t,r){"use strict";r.d(t,{K2:function(){return i},Ob:function(){return o},W0:function(){return s}});var n=r(19250);let i=async(e,t,r)=>{try{if(null===e||null===t)return;if(null!==r){let i=(await (0,n.modelAvailableCall)(r,e,t,!0,null,!0)).data.map(e=>e.id),s=[],o=[];return i.forEach(e=>{e.endsWith("/*")?s.push(e):o.push(e)}),[...s,...o]}}catch(e){console.error("Error fetching user models:",e)}},s=e=>{if("all-proxy-models"===e)return"All Proxy Models";if(e.endsWith("/*")){let t=e.replace("/*","");return"All ".concat(t," models")}return e},o=(e,t)=>{let r=[],n=[];return console.log("teamModels",e),console.log("allModels",t),e.forEach(e=>{if(e.endsWith("/*")){let i=e.replace("/*",""),s=t.filter(e=>e.startsWith(i+"/"));n.push(...s),r.push(e)}else n.push(e)}),[...r,...n].filter((e,t,r)=>r.indexOf(e)===t)}},24199:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(57437);r(2265);var i=r(30150),s=e=>{let{step:t=.01,style:r={width:"100%"},placeholder:s="Enter a numerical value",min:o,max:a,onChange:u,...l}=e;return(0,n.jsx)(i.Z,{onWheel:e=>e.currentTarget.blur(),step:t,style:r,placeholder:s,min:o,max:a,onChange:u,...l})}},10012:function(e,t,r){"use strict";r.d(t,{cx:function(){return o}});var n=r(49096),i=r(53335);let{cva:s,cx:o,compose:a}=(0,n.ZD)({hooks:{onComplete:e=>(0,i.m6)(e)}})},59872:function(e,t,r){"use strict";r.d(t,{GS:function(){return o},nl:function(){return i},pw:function(){return s},vQ:function(){return a}});var n=r(9114);function i(e,t){let r=structuredClone(e);for(let[e,n]of Object.entries(t))e in r&&(r[e]=n);return r}let s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3)||void 0===arguments[3]||arguments[3];if(null==e||!Number.isFinite(e)||0===e&&!n)return"-";let i={minimumFractionDigits:t,maximumFractionDigits:t};if(!r)return e.toLocaleString("en-US",i);let s=Math.abs(e),o=s,a="";return s>=1e6?(o=s/1e6,a="M"):s>=1e3&&(o=s/1e3,a="K"),"".concat(e<0?"-":"").concat(o.toLocaleString("en-US",i)).concat(a)},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;if(null==e||!Number.isFinite(e)||0===e)return"-";let r=s(e,t,!1,!1);if(0===Number(r.replace(/,/g,""))){let e=(1/10**t).toFixed(t);return"< $".concat(e)}return"$".concat(r)},a=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Copied to clipboard";if(!e)return!1;if(!navigator||!navigator.clipboard||!navigator.clipboard.writeText)return u(e,t);try{return await navigator.clipboard.writeText(e),n.Z.success(t),!0}catch(r){return console.error("Clipboard API failed: ",r),u(e,t)}},u=(e,t)=>{try{let r=document.createElement("textarea");r.value=e,r.style.position="fixed",r.style.left="-999999px",r.style.top="-999999px",r.setAttribute("readonly",""),document.body.appendChild(r),r.focus(),r.select();let i=document.execCommand("copy");if(document.body.removeChild(r),i)return n.Z.success(t),!0;throw Error("execCommand failed")}catch(e){return n.Z.fromBackend("Failed to copy to clipboard"),console.error("Failed to copy: ",e),!1}}},97060:function(e,t,r){"use strict";r.d(t,{v:function(){return i}});var n=r(14474);function i(e){try{let t=(0,n.o)(e);if(t&&"number"==typeof t.exp)return 1e3*t.exp<=Date.now();return!1}catch(e){return!0}}},20347:function(e,t,r){"use strict";r.d(t,{LQ:function(){return s},P4:function(){return a},ZL:function(){return n},_p:function(){return l},lo:function(){return i},tY:function(){return o},yV:function(){return u}});let n=["Admin","Admin Viewer","proxy_admin","proxy_admin_viewer","org_admin"],i=["Internal User","Internal Viewer"],s=["Internal User","Admin","proxy_admin"],o=e=>n.includes(e),a=e=>"proxy_admin"===e||"Admin"===e,u=(e,t)=>null!=e&&e.some(e=>l(e.members_with_roles,t)),l=(e,t)=>null!=e&&e.some(e=>e.user_id===t&&"admin"===e.role)},10900:function(e,t,r){"use strict";var n=r(2265);let i=n.forwardRef(function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"}))});t.Z=i},15731:function(e,t,r){"use strict";var n=r(2265);let i=n.forwardRef(function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))});t.Z=i},53410:function(e,t,r){"use strict";var n=r(2265);let i=n.forwardRef(function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"}))});t.Z=i},49084:function(e,t,r){"use strict";var n=r(2265);let i=n.forwardRef(function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"}))});t.Z=i},2894:function(e,t,r){"use strict";r.d(t,{R:function(){return a},m:function(){return o}});var n=r(18238),i=r(7989),s=r(11255),o=class extends i.F{#e;#t;#r;#n;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||a(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||("pending"===this.state.status?this.scheduleGc():this.#r.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#i({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#n=(0,s.Mz)({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#i({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#i({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});let n="pending"===this.state.status,i=!this.#n.canStart();try{if(n)t();else{this.#i({type:"pending",variables:e,isPaused:i}),await this.#r.config.onMutate?.(e,this,r);let t=await this.options.onMutate?.(e,r);t!==this.state.context&&this.#i({type:"pending",context:t,variables:e,isPaused:i})}let s=await this.#n.start();return await this.#r.config.onSuccess?.(s,e,this.state.context,this,r),await this.options.onSuccess?.(s,e,this.state.context,r),await this.#r.config.onSettled?.(s,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(s,null,e,this.state.context,r),this.#i({type:"success",data:s}),s}catch(t){try{throw await this.#r.config.onError?.(t,e,this.state.context,this,r),await this.options.onError?.(t,e,this.state.context,r),await this.#r.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,t,e,this.state.context,r),t}finally{this.#i({type:"error",error:t})}}finally{this.#r.runNext(this)}}#i(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),n.Vr.batch(()=>{this.#t.forEach(t=>{t.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function a(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},21623:function(e,t,r){"use strict";r.d(t,{S:function(){return p}});var n=r(45345),i=r(21733),s=r(18238),o=r(24112),a=class extends o.l{constructor(e={}){super(),this.config=e,this.#s=new Map}#s;build(e,t,r){let s=t.queryKey,o=t.queryHash??(0,n.Rm)(s,t),a=this.get(o);return a||(a=new i.A({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){this.#s.has(e.queryHash)||(this.#s.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#s.get(e.queryHash);t&&(e.destroy(),t===e&&this.#s.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){s.Vr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#s.get(e)}getAll(){return[...this.#s.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,n._x)(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,n._x)(e,t)):t}notify(e){s.Vr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){s.Vr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){s.Vr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},u=r(2894),l=class extends o.l{constructor(e={}){super(),this.config=e,this.#o=new Set,this.#a=new Map,this.#u=0}#o;#a;#u;build(e,t,r){let n=new u.m({client:e,mutationCache:this,mutationId:++this.#u,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#o.add(e);let t=c(e);if("string"==typeof t){let r=this.#a.get(t);r?r.push(e):this.#a.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#o.delete(e)){let t=c(e);if("string"==typeof t){let r=this.#a.get(t);if(r){if(r.length>1){let t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&this.#a.delete(t)}}}this.notify({type:"removed",mutation:e})}canRun(e){let t=c(e);if("string"!=typeof t)return!0;{let r=this.#a.get(t),n=r?.find(e=>"pending"===e.state.status);return!n||n===e}}runNext(e){let t=c(e);if("string"!=typeof t)return Promise.resolve();{let r=this.#a.get(t)?.find(t=>t!==e&&t.state.isPaused);return r?.continue()??Promise.resolve()}}clear(){s.Vr.batch(()=>{this.#o.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#o.clear(),this.#a.clear()})}getAll(){return Array.from(this.#o)}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,n.X7)(t,e))}findAll(e={}){return this.getAll().filter(t=>(0,n.X7)(e,t))}notify(e){s.Vr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return s.Vr.batch(()=>Promise.all(e.map(e=>e.continue().catch(n.ZT))))}};function c(e){return e.options.scope?.id}var d=r(87045),h=r(57853);function f(e){return{onFetch:(t,r)=>{let i=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],a=t.state.data?.pageParams||[],u={pages:[],pageParams:[]},l=0,c=async()=>{let r=!1,c=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(t.signal.aborted?r=!0:t.signal.addEventListener("abort",()=>{r=!0}),t.signal)})},d=(0,n.cG)(t.options,t.fetchOptions),h=async(e,i,s)=>{if(r)return Promise.reject();if(null==i&&e.pages.length)return Promise.resolve(e);let o=(()=>{let e={client:t.client,queryKey:t.queryKey,pageParam:i,direction:s?"backward":"forward",meta:t.options.meta};return c(e),e})(),a=await d(o),{maxPages:u}=t.options,l=s?n.Ht:n.VX;return{pages:l(e.pages,a,u),pageParams:l(e.pageParams,i,u)}};if(s&&o.length){let e="backward"===s,t={pages:o,pageParams:a},r=(e?function(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}:m)(i,t);u=await h(t,r,e)}else{let t=e??o.length;do{let e=0===l?a[0]??i.initialPageParam:m(i,u);if(l>0&&null==e)break;u=await h(u,e),l++}while(l<t)}return u};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=c}}}function m(e,{pages:t,pageParams:r}){let n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}var p=class{#l;#r;#c;#d;#h;#f;#m;#p;constructor(e={}){this.#l=e.queryCache||new a,this.#r=e.mutationCache||new l,this.#c=e.defaultOptions||{},this.#d=new Map,this.#h=new Map,this.#f=0}mount(){this.#f++,1===this.#f&&(this.#m=d.j.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#l.onFocus())}),this.#p=h.N.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#l.onOnline())}))}unmount(){this.#f--,0===this.#f&&(this.#m?.(),this.#m=void 0,this.#p?.(),this.#p=void 0)}isFetching(e){return this.#l.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#r.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#l.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),r=this.#l.build(this,t),i=r.state.data;return void 0===i?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime((0,n.KC)(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return this.#l.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){let i=this.defaultQueryOptions({queryKey:e}),s=this.#l.get(i.queryHash),o=s?.state.data,a=(0,n.SE)(t,o);if(void 0!==a)return this.#l.build(this,i).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return s.Vr.batch(()=>this.#l.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#l.get(t.queryHash)?.state}removeQueries(e){let t=this.#l;s.Vr.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let r=this.#l;return s.Vr.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){let r={revert:!0,...t};return Promise.all(s.Vr.batch(()=>this.#l.findAll(e).map(e=>e.cancel(r)))).then(n.ZT).catch(n.ZT)}invalidateQueries(e,t={}){return s.Vr.batch(()=>(this.#l.findAll(e).forEach(e=>{e.invalidate()}),e?.refetchType==="none")?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))}refetchQueries(e,t={}){let r={...t,cancelRefetch:t.cancelRefetch??!0};return Promise.all(s.Vr.batch(()=>this.#l.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(n.ZT)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(n.ZT)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let r=this.#l.build(this,t);return r.isStaleByTime((0,n.KC)(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(n.ZT).catch(n.ZT)}fetchInfiniteQuery(e){return e.behavior=f(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(n.ZT).catch(n.ZT)}ensureInfiniteQueryData(e){return e.behavior=f(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return h.N.isOnline()?this.#r.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#l}getMutationCache(){return this.#r}getDefaultOptions(){return this.#c}setDefaultOptions(e){this.#c=e}setQueryDefaults(e,t){this.#d.set((0,n.Ym)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#d.values()],r={};return t.forEach(t=>{(0,n.to)(e,t.queryKey)&&Object.assign(r,t.defaultOptions)}),r}setMutationDefaults(e,t){this.#h.set((0,n.Ym)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#h.values()],r={};return t.forEach(t=>{(0,n.to)(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#c.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,n.Rm)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===n.CN&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#c.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#l.clear(),this.#r.clear()}}},19616:function(e,t,r){"use strict";r.d(t,{G:function(){return o}});var n=r(2265);let i={enabled:!0,leading:!1,trailing:!0,wait:0,onExecute:()=>{}};class s{constructor(e,t){this.fn=e,this._canLeadingExecute=!0,this._isPending=!1,this._executionCount=0,this._options={...i,...t}}setOptions(e){return this._options={...this._options,...e},this._options.enabled||(this._isPending=!1),this._options}getOptions(){return this._options}maybeExecute(...e){this._options.leading&&this._canLeadingExecute&&(this.executeFunction(...e),this._canLeadingExecute=!1),(this._options.leading||this._options.trailing)&&(this._isPending=!0),this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=setTimeout(()=>{this._canLeadingExecute=!0,this._isPending=!1,this._options.trailing&&this.executeFunction(...e)},this._options.wait)}executeFunction(...e){this._options.enabled&&(this.fn(...e),this._executionCount++,this._options.onExecute(this))}cancel(){this._timeoutId&&(clearTimeout(this._timeoutId),this._canLeadingExecute=!0,this._isPending=!1)}getExecutionCount(){return this._executionCount}getIsPending(){return this._options.enabled&&this._isPending}}function o(e,t){let[r,i]=(0,n.useState)(e),o=function(e,t){let[r]=(0,n.useState)(()=>{var r;return Object.getOwnPropertyNames(Object.getPrototypeOf(r=new s(e,t))).filter(e=>"function"==typeof r[e]).reduce((e,t)=>{let n=r[t];return"function"==typeof n&&(e[t]=n.bind(r)),e},{})});return r.setOptions(t),r}(i,t);return[r,o.maybeExecute,o]}}},function(e){e.O(0,[1047,9028,8745,1713,4865,7840,337,2652,2926,3367,5869,353,3709,7971,536,6894,7474,9258,3178,5319,9190,6609,2353,2618,7967,3138,8049,7914,2318,2971,2117,1744],function(){return e(e.s=27996)}),_N_E=e.O()}]);