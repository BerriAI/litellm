(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5642],{77935:function(e,t,s){Promise.resolve().then(s.bind(s,53104))},1309:function(e,t,s){"use strict";s.d(t,{C:function(){return r.Z}});var r=s(41649)},90246:function(e,t,s){"use strict";function r(e){let t=[e];return{all:t,lists:()=>[...t,"list"],list:e=>[...t,"list",{params:e}],details:()=>[...t,"detail"],detail:e=>[...t,"detail",e]}}s.d(t,{n:function(){return r}})},76191:function(e,t,s){"use strict";s.d(t,{p:function(){return a}});var r=s(19250),n=s(71632);let i=(0,s(90246).n)("uiConfig"),a=()=>(0,n.a)({queryKey:i.list({}),queryFn:async()=>await (0,r.getUiConfig)(),staleTime:864e5,gcTime:864e5})},39760:function(e,t,s){"use strict";var r=s(19250),n=s(3914),i=s(97060),a=s(99376),l=s(2265),o=s(76191);t.Z=()=>{var e,t,s,c,d;let u=(0,a.useRouter)(),{data:m,isLoading:x}=(0,o.p)(),g="undefined"!=typeof document?(0,n.e)("token"):null,h=(0,l.useMemo)(()=>(0,i.TD)(g),[g]),p=(0,l.useMemo)(()=>(0,i.sT)(g),[g])&&!(null==m?void 0:m.admin_ui_disabled);return(0,l.useEffect)(()=>{x||p||(g&&(0,n.b)(),u.replace("".concat((0,r.getProxyBaseUrl)(),"/ui/login")))},[x,p,g,u]),{isLoading:x,isAuthorized:p,token:p?g:null,accessToken:null!==(e=null==h?void 0:h.key)&&void 0!==e?e:null,userId:null!==(t=null==h?void 0:h.user_id)&&void 0!==t?t:null,userEmail:null!==(s=null==h?void 0:h.user_email)&&void 0!==s?s:null,userRole:function(e){if(!e)return"Undefined Role";switch(e.toLowerCase()){case"app_owner":case"demo_app_owner":return"App Owner";case"app_admin":case"proxy_admin":return"Admin";case"proxy_admin_viewer":return"Admin Viewer";case"org_admin":return"Org Admin";case"internal_user":return"Internal User";case"internal_user_viewer":case"internal_viewer":return"Internal Viewer";case"app_user":return"App User";default:return"Unknown Role"}}(null==h?void 0:h.user_role),premiumUser:null!==(c=null==h?void 0:h.premium_user)&&void 0!==c?c:null,disabledPersonalKeyCreation:null!==(d=null==h?void 0:h.disabled_non_admin_personal_key_creation)&&void 0!==d?d:null,showSSOBanner:(null==h?void 0:h.login_method)==="username_password"}}},23133:function(e,t,s){"use strict";s.d(t,{w:function(){return l}});var r=s(2265),n=s(9245);function i(e){let t=t=>{"disableShowPrompts"===t.key&&e()},s=t=>{let{key:s}=t.detail;"disableShowPrompts"===s&&e()};return window.addEventListener("storage",t),window.addEventListener(n.Qg,s),()=>{window.removeEventListener("storage",t),window.removeEventListener(n.Qg,s)}}function a(){return"true"===(0,n.le)("disableShowPrompts")}function l(){return(0,r.useSyncExternalStore)(i,a)}},74838:function(e,t,s){"use strict";s.d(t,{w:function(){return l}});var r=s(9245),n=s(2265);function i(e){let t=t=>{"disableUsageIndicator"===t.key&&e()},s=t=>{let{key:s}=t.detail;"disableUsageIndicator"===s&&e()};return window.addEventListener("storage",t),window.addEventListener(r.Qg,s),()=>{window.removeEventListener("storage",t),window.removeEventListener(r.Qg,s)}}function a(){return"true"===(0,r.le)("disableUsageIndicator")}function l(){return(0,n.useSyncExternalStore)(i,a)}},53104:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return D}});var r=s(57437),n=s(2265),i=s(64765),a=s(69734),l=s(13817),o=s(18310),c=s(60985),d=s(92403),u=s(28595),m=s(68208),x=s(9775),g=s(41361),h=s(37527),p=s(15883),f=s(12660),y=s(88009),j=s(48231),b=s(57400),w=s(93750),v=s(58630),N=s(44625),Z=s(41169),_=s(38434),k=s(71891),L=s(55322),S=s(99376),P=s(20347),z=s(24793),O=s(19250);let{Sider:E}=l.default,C=()=>{let e="ui/".replace(/^\/+|\/+$/g,""),t=e?"/".concat(e,"/"):"/";if(O.serverRootPath&&"/"!==O.serverRootPath){let e=O.serverRootPath.replace(/\/+$/,""),s=t.replace(/^\/+/,"");return"".concat(e,"/").concat(s)}return t},U=e=>{switch(e){case"api-keys":return"virtual-keys";case"llm-playground":return"test-key";case"models":return"models-and-endpoints";case"new_usage":return"usage";case"teams":return"teams";case"organizations":return"organizations";case"users":return"users";case"api_ref":return"api-reference";case"model-hub-table":return"model-hub";case"logs":return"logs";case"guardrails":return"guardrails";case"policies":return"policies";case"mcp-servers":return"tools/mcp-servers";case"vector-stores":return"tools/vector-stores";case"caching":return"experimental/caching";case"prompts":return"experimental/prompts";case"budgets":return"experimental/budgets";case"transform-request":return"experimental/api-playground";case"tag-management":return"experimental/tag-management";case"claude-code-plugins":return"experimental/claude-code-plugins";case"usage":return"experimental/old-usage";case"general-settings":return"settings/router-settings";case"settings":return"settings/logging-and-alerts";case"admin-panel":return"settings/admin-settings";case"ui-theme":return"settings/ui-theme";default:return e.replace(/^\/+/,"")}},T=e=>{let t=C(),s=U(e).replace(/^\/+|\/+$/g,"");return"".concat(t).concat(s)},M=[{key:"1",page:"api-keys",label:"Virtual Keys",icon:(0,r.jsx)(d.Z,{style:{fontSize:18}})},{key:"3",page:"llm-playground",label:"Test Key",icon:(0,r.jsx)(u.Z,{style:{fontSize:18}}),roles:P.LQ},{key:"2",page:"models",label:"Models + Endpoints",icon:(0,r.jsx)(m.Z,{style:{fontSize:18}}),roles:P.LQ},{key:"12",page:"new_usage",label:"Usage",icon:(0,r.jsx)(x.Z,{style:{fontSize:18}}),roles:[...P.ZL,...P.lo]},{key:"6",page:"teams",label:"Teams",icon:(0,r.jsx)(g.Z,{style:{fontSize:18}})},{key:"17",page:"organizations",label:"Organizations",icon:(0,r.jsx)(h.Z,{style:{fontSize:18}}),roles:P.ZL},{key:"5",page:"users",label:"Internal Users",icon:(0,r.jsx)(p.Z,{style:{fontSize:18}}),roles:P.ZL},{key:"14",page:"api_ref",label:"API Reference",icon:(0,r.jsx)(f.Z,{style:{fontSize:18}})},{key:"16",page:"model-hub-table",label:"Model Hub",icon:(0,r.jsx)(y.Z,{style:{fontSize:18}})},{key:"15",page:"logs",label:"Logs",icon:(0,r.jsx)(j.Z,{style:{fontSize:18}})},{key:"11",page:"guardrails",label:"Guardrails",icon:(0,r.jsx)(b.Z,{style:{fontSize:18}}),roles:P.ZL},{key:"28",page:"policies",label:"Policies",icon:(0,r.jsx)(w.Z,{style:{fontSize:18}}),roles:P.ZL},{key:"26",page:"tools",label:"Tools",icon:(0,r.jsx)(v.Z,{style:{fontSize:18}}),children:[{key:"18",page:"mcp-servers",label:"MCP Servers",icon:(0,r.jsx)(v.Z,{style:{fontSize:18}})},{key:"21",page:"vector-stores",label:"Vector Stores",icon:(0,r.jsx)(N.Z,{style:{fontSize:18}}),roles:P.ZL}]},{key:"experimental",page:"experimental",label:"Experimental",icon:(0,r.jsx)(Z.Z,{style:{fontSize:18}}),children:[{key:"9",page:"caching",label:"Caching",icon:(0,r.jsx)(N.Z,{style:{fontSize:18}}),roles:P.ZL},{key:"25",page:"prompts",label:"Prompts",icon:(0,r.jsx)(_.Z,{style:{fontSize:18}}),roles:P.ZL},{key:"10",page:"budgets",label:"Budgets",icon:(0,r.jsx)(h.Z,{style:{fontSize:18}}),roles:P.ZL},{key:"20",page:"transform-request",label:"API Playground",icon:(0,r.jsx)(f.Z,{style:{fontSize:18}}),roles:[...P.ZL,...P.lo]},{key:"19",page:"tag-management",label:"Tag Management",icon:(0,r.jsx)(k.Z,{style:{fontSize:18}}),roles:P.ZL},{key:"27",page:"claude-code-plugins",label:"Claude Code Plugins",icon:(0,r.jsx)(v.Z,{style:{fontSize:18}}),roles:P.ZL},{key:"4",page:"usage",label:"Old Usage",icon:(0,r.jsx)(x.Z,{style:{fontSize:18}})}]},{key:"settings",page:"settings",label:"Settings",icon:(0,r.jsx)(L.Z,{style:{fontSize:18}}),roles:P.ZL,children:[{key:"11",page:"general-settings",label:"Router Settings",icon:(0,r.jsx)(L.Z,{style:{fontSize:18}}),roles:P.ZL},{key:"8",page:"settings",label:"Logging & Alerts",icon:(0,r.jsx)(L.Z,{style:{fontSize:18}}),roles:P.ZL},{key:"13",page:"admin-panel",label:"Admin Settings",icon:(0,r.jsx)(L.Z,{style:{fontSize:18}}),roles:P.ZL},{key:"14",page:"ui-theme",label:"UI Theme",icon:(0,r.jsx)(L.Z,{style:{fontSize:18}}),roles:P.ZL}]}];var I=e=>{let{accessToken:t,userRole:s,defaultSelectedKey:i,collapsed:a=!1}=e,d=(0,S.useRouter)(),u=(0,S.usePathname)()||"/",m=n.useMemo(()=>M.filter(e=>!e.roles||e.roles.includes(s)).map(e=>({...e,children:e.children?e.children.filter(e=>!e.roles||e.roles.includes(s)):void 0})),[s]),x=n.useMemo(()=>{var e,t;let s=C(),r=(u.startsWith(s)?u.slice(s.length):u.replace(/^\/+/,"")).toLowerCase(),n=e=>{let t=U(e).toLowerCase();return r===t||r.startsWith("".concat(t,"/"))};for(let e of m){if(!e.children&&n(e.page))return e.key;if(e.children){for(let t of e.children)if(n(t.page))return t.key}}let a=null===(e=m.find(e=>e.page===i))||void 0===e?void 0:e.key;if(a)return a;for(let e of m)if(null===(t=e.children)||void 0===t?void 0:t.some(e=>e.page===i))return e.children.find(e=>e.page===i).key;return"1"},[u,m,i]),g=e=>{let t=T(e);d.push(t)};return(0,r.jsx)(l.default,{style:{minHeight:"100vh"},children:(0,r.jsxs)(E,{theme:"light",width:220,collapsed:a,collapsedWidth:80,collapsible:!0,trigger:null,style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative"},children:[(0,r.jsx)(o.ZP,{theme:{components:{Menu:{iconSize:18,fontSize:14}}},children:(0,r.jsx)(c.Z,{mode:"inline",selectedKeys:[x],defaultOpenKeys:a?[]:["llm-tools"],inlineCollapsed:a,className:"custom-sidebar-menu",style:{borderRight:0,backgroundColor:"transparent",fontSize:"14px"},items:m.map(e=>{var t;return{key:e.key,icon:e.icon,label:e.label,children:null===(t=e.children)||void 0===t?void 0:t.map(e=>({key:e.key,icon:e.icon,label:e.label,onClick:()=>g(e.page)})),onClick:e.children?void 0:()=>g(e.page)}})})}),(0,P.tY)(s)&&!a&&(0,r.jsx)(z.Z,{accessToken:t,width:220})]})})},R=s(39760);function A(e){let{children:t}=e;(0,S.useRouter)();let s=(0,S.useSearchParams)(),{accessToken:l,userRole:o,userId:c,userEmail:d,premiumUser:u}=(0,R.Z)(),[m,x]=n.useState(!1),[g,h]=(0,n.useState)(()=>s.get("page")||"api-keys");return(0,n.useEffect)(()=>{h(s.get("page")||"api-keys")},[s]),(0,r.jsx)(a.f,{accessToken:"",children:(0,r.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,r.jsx)(i.Z,{isPublicPage:!1,sidebarCollapsed:m,onToggleSidebar:()=>x(e=>!e),userID:c,userEmail:d,userRole:o,premiumUser:u,proxySettings:void 0,setProxySettings:()=>{},accessToken:l,isDarkMode:!1,toggleDarkMode:()=>{}}),(0,r.jsxs)("div",{className:"flex flex-1 overflow-auto",children:[(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)(I,{defaultSelectedKey:g,accessToken:l,userRole:o})}),(0,r.jsx)("main",{className:"flex-1",children:t})]})]})})}function D(e){let{children:t}=e;return(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}),children:(0,r.jsx)(A,{children:t})})}!function(e){let t="ui/".trim();if(t)t.replace(/^\/+/,"").replace(/\/+$/,"")}(0)},24793:function(e,t,s){"use strict";s.d(t,{Z:function(){return f}});var r=s(57437),n=s(74838);s(1309);var i=s(76865),a=s(70525),l=s(95805),o=s(51817),c=s(21047);s(22135),s(40875);var d=s(31047),u=s(49663),m=s(2265),x=s(19250);let g=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")},h=e=>{if(!e)return null;let t=new Date(e+"T00:00:00Z"),s=new Date;return s.setHours(0,0,0,0),Math.ceil((t.getTime()-s.getTime())/864e5)},p=e=>null===e?"No expiration":e<0?"Expired":0===e?"Expires today":1===e?"1 day remaining":e<30?"".concat(e," days remaining"):e<60?"1 month remaining":"".concat(Math.floor(e/30)," months remaining");function f(e){let{accessToken:t,width:s=220}=e,f=(0,n.w)(),[y,j]=(0,m.useState)(!1),[b,w]=(0,m.useState)(!1),[v,N]=(0,m.useState)(null),[Z,_]=(0,m.useState)(null),[k,L]=(0,m.useState)(!1),[S,P]=(0,m.useState)(null);(0,m.useEffect)(()=>{(async()=>{if(t){L(!0),P(null);try{let[e,s]=await Promise.all([(0,x.getRemainingUsers)(t),(0,x.getLicenseInfo)(t).catch(()=>null)]);N(e),_(s)}catch(e){console.error("Failed to fetch usage data:",e),P("Failed to load usage data")}finally{L(!1)}}})()},[t]);let z=(null==Z?void 0:Z.expiration_date)?h(Z.expiration_date):null,O=null!==z&&z<0,E=null!==z&&z>=0&&z<30,{isOverLimit:C,isNearLimit:U,usagePercentage:T,userMetrics:M,teamMetrics:I}=(e=>{if(!e)return{isOverLimit:!1,isNearLimit:!1,usagePercentage:0,userMetrics:{isOverLimit:!1,isNearLimit:!1,usagePercentage:0},teamMetrics:{isOverLimit:!1,isNearLimit:!1,usagePercentage:0}};let t=e.total_users?e.total_users_used/e.total_users*100:0,s=t>100,r=t>=80&&t<=100,n=e.total_teams?e.total_teams_used/e.total_teams*100:0,i=n>100,a=n>=80&&n<=100,l=s||i;return{isOverLimit:l,isNearLimit:(r||a)&&!l,usagePercentage:Math.max(t,n),userMetrics:{isOverLimit:s,isNearLimit:r,usagePercentage:t},teamMetrics:{isOverLimit:i,isNearLimit:a,usagePercentage:n}}})(v),R=C||U||O||E,A=C||O,D=(U||E)&&!A,B=()=>A?(0,r.jsx)(i.Z,{className:"h-3 w-3"}):D?(0,r.jsx)(a.Z,{className:"h-3 w-3"}):null;return f||!t||(null==v?void 0:v.total_users)===null&&(null==v?void 0:v.total_teams)===null?null:(0,r.jsx)("div",{className:"fixed bottom-4 left-4 z-50",style:{width:"".concat(Math.min(s,220),"px")},children:(0,r.jsx)(()=>b?(0,r.jsx)("button",{onClick:()=>w(!1),className:g("bg-white border border-gray-200 rounded-lg shadow-sm p-3 hover:shadow-md transition-all w-full"),title:"Show usage details",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(l.Z,{className:"h-4 w-4 flex-shrink-0"}),R&&(0,r.jsx)("span",{className:"flex-shrink-0",children:B()}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium truncate",children:[v&&null!==v.total_users&&(0,r.jsxs)("span",{className:g("flex-shrink-0 px-1.5 py-0.5 rounded text-xs border",M.isOverLimit&&"bg-red-50 text-red-700 border-red-200",M.isNearLimit&&"bg-yellow-50 text-yellow-700 border-yellow-200",!M.isOverLimit&&!M.isNearLimit&&"bg-gray-50 text-gray-700 border-gray-200"),children:["U: ",v.total_users_used,"/",v.total_users]}),v&&null!==v.total_teams&&(0,r.jsxs)("span",{className:g("flex-shrink-0 px-1.5 py-0.5 rounded text-xs border",I.isOverLimit&&"bg-red-50 text-red-700 border-red-200",I.isNearLimit&&"bg-yellow-50 text-yellow-700 border-yellow-200",!I.isOverLimit&&!I.isNearLimit&&"bg-gray-50 text-gray-700 border-gray-200"),children:["T: ",v.total_teams_used,"/",v.total_teams]}),(null==Z?void 0:Z.expiration_date)&&null!==z&&(0,r.jsx)("span",{className:g("flex-shrink-0 px-1.5 py-0.5 rounded text-xs border",O&&"bg-red-50 text-red-700 border-red-200",E&&"bg-yellow-50 text-yellow-700 border-yellow-200",!O&&!E&&"bg-gray-50 text-gray-700 border-gray-200"),children:z<0?"Exp!":"".concat(z,"d")}),!v||null===v.total_users&&null===v.total_teams&&!Z&&(0,r.jsx)("span",{className:"truncate",children:"Usage"})]})]})}):k?(0,r.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-4 w-full",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 py-2",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4 animate-spin"}),(0,r.jsx)("span",{className:"text-sm text-gray-500 truncate",children:"Loading..."})]})}):S||!v?(0,r.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-4 group w-full",children:(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsx)("span",{className:"text-sm text-gray-500 truncate block",children:S||"No data"})}),(0,r.jsx)("button",{onClick:()=>w(!0),className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-gray-100 rounded transition-all flex-shrink-0",title:"Minimize",children:(0,r.jsx)(c.Z,{className:"h-3 w-3 text-gray-400"})})]})}):(0,r.jsxs)("div",{className:g("bg-white border rounded-lg shadow-sm p-3 transition-all duration-200 group w-full"),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[(0,r.jsx)(l.Z,{className:"h-4 w-4 flex-shrink-0"}),(0,r.jsx)("span",{className:"font-medium text-sm truncate",children:"Usage"})]}),(0,r.jsx)("button",{onClick:()=>w(!0),className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-gray-100 rounded transition-all flex-shrink-0",title:"Minimize",children:(0,r.jsx)(c.Z,{className:"h-3 w-3 text-gray-400"})})]}),(0,r.jsxs)("div",{className:"space-y-3 text-sm",children:[(null==Z?void 0:Z.has_license)&&Z.expiration_date&&(0,r.jsxs)("div",{className:g("space-y-1 border rounded-md p-2",O&&"border-red-200 bg-red-50",E&&"border-yellow-200 bg-yellow-50"),children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-1",children:[(0,r.jsx)(d.Z,{className:"h-3 w-3"}),(0,r.jsx)("span",{className:"font-medium",children:"License"}),(0,r.jsx)("span",{className:g("ml-1 px-1.5 py-0.5 rounded border",O&&"bg-red-50 text-red-700 border-red-200",E&&"bg-yellow-50 text-yellow-700 border-yellow-200",!O&&!E&&"bg-gray-50 text-gray-600 border-gray-200"),children:O?"Expired":E?"Expiring soon":"OK"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-gray-600 text-xs",children:"Status:"}),(0,r.jsx)("span",{className:g("font-medium text-right",O&&"text-red-600",E&&"text-yellow-600"),children:p(z)})]}),Z.license_type&&(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-gray-600 text-xs",children:"Type:"}),(0,r.jsx)("span",{className:"font-medium text-right capitalize",children:Z.license_type})]})]}),null!==v.total_users&&(0,r.jsxs)("div",{className:g("space-y-1 border rounded-md p-2",M.isOverLimit&&"border-red-200 bg-red-50",M.isNearLimit&&"border-yellow-200 bg-yellow-50"),children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-1",children:[(0,r.jsx)(l.Z,{className:"h-3 w-3"}),(0,r.jsx)("span",{className:"font-medium",children:"Users"}),(0,r.jsx)("span",{className:g("ml-1 px-1.5 py-0.5 rounded border",M.isOverLimit&&"bg-red-50 text-red-700 border-red-200",M.isNearLimit&&"bg-yellow-50 text-yellow-700 border-yellow-200",!M.isOverLimit&&!M.isNearLimit&&"bg-gray-50 text-gray-600 border-gray-200"),children:M.isOverLimit?"Over limit":M.isNearLimit?"Near limit":"OK"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-gray-600 text-xs",children:"Used:"}),(0,r.jsxs)("span",{className:"font-medium text-right",children:[v.total_users_used,"/",v.total_users]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-gray-600 text-xs",children:"Remaining:"}),(0,r.jsx)("span",{className:g("font-medium text-right",M.isOverLimit&&"text-red-600",M.isNearLimit&&"text-yellow-600"),children:v.total_users_remaining})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-gray-600 text-xs",children:"Usage:"}),(0,r.jsxs)("span",{className:"font-medium text-right",children:[Math.round(M.usagePercentage),"%"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:g("h-2 rounded-full transition-all duration-300",M.isOverLimit&&"bg-red-500",M.isNearLimit&&"bg-yellow-500",!M.isOverLimit&&!M.isNearLimit&&"bg-green-500"),style:{width:"".concat(Math.min(M.usagePercentage,100),"%")}})})]}),null!==v.total_teams&&(0,r.jsxs)("div",{className:g("space-y-1 border rounded-md p-2",I.isOverLimit&&"border-red-200 bg-red-50",I.isNearLimit&&"border-yellow-200 bg-yellow-50"),children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-1",children:[(0,r.jsx)(u.Z,{className:"h-3 w-3"}),(0,r.jsx)("span",{className:"font-medium",children:"Teams"}),(0,r.jsx)("span",{className:g("ml-1 px-1.5 py-0.5 rounded border",I.isOverLimit&&"bg-red-50 text-red-700 border-red-200",I.isNearLimit&&"bg-yellow-50 text-yellow-700 border-yellow-200",!I.isOverLimit&&!I.isNearLimit&&"bg-gray-50 text-gray-600 border-gray-200"),children:I.isOverLimit?"Over limit":I.isNearLimit?"Near limit":"OK"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-gray-600 text-xs",children:"Used:"}),(0,r.jsxs)("span",{className:"font-medium text-right",children:[v.total_teams_used,"/",v.total_teams]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-gray-600 text-xs",children:"Remaining:"}),(0,r.jsx)("span",{className:g("font-medium text-right",I.isOverLimit&&"text-red-600",I.isNearLimit&&"text-yellow-600"),children:v.total_teams_remaining})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-gray-600 text-xs",children:"Usage:"}),(0,r.jsxs)("span",{className:"font-medium text-right",children:[Math.round(I.usagePercentage),"%"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:g("h-2 rounded-full transition-all duration-300",I.isOverLimit&&"bg-red-500",I.isNearLimit&&"bg-yellow-500",!I.isOverLimit&&!I.isNearLimit&&"bg-green-500"),style:{width:"".concat(Math.min(I.usagePercentage,100),"%")}})})]})]})]}),{})})}},64765:function(e,t,s){"use strict";s.d(t,{Z:function(){return A}});var r=s(57437),n=s(19250),i=s(71632);let a=(0,s(90246).n)("healthReadiness"),l=async()=>{let e=(0,n.getProxyBaseUrl)(),t=await fetch("".concat(e,"/health/readiness"));if(!t.ok)throw Error("Failed to fetch health readiness: ".concat(t.statusText));return t.json()},o=()=>(0,i.a)({queryKey:a.detail("readiness"),queryFn:l,staleTime:3e5});var c=s(69734),d=s(3914),u=s(91624),m=s(83884),x=s(45524),g=s(3810),h=s(27648),p=s(2265),f=s(23133),y=s(20949),j=s(4683),b=s(5545);let w=()=>(0,f.w)()?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.ZP,{href:"https://www.litellm.ai/support",target:"_blank",rel:"noopener noreferrer",icon:(0,r.jsx)(y.Z,{}),className:"shadow-md shadow-indigo-500/20 hover:shadow-indigo-500/50 transition-shadow",children:"Join Slack"}),(0,r.jsx)(b.ZP,{href:"https://github.com/BerriAI/litellm",target:"_blank",rel:"noopener noreferrer",className:"shadow-md shadow-indigo-500/20 hover:shadow-indigo-500/50 transition-shadow",icon:(0,r.jsx)(j.Z,{}),children:"Star us on GitHub"})]});var v=s(39760),N=s(74838),Z=s(9245),_=s(40428),k=s(91870),L=s(46346),S=s(15883),P=s(57400),z=s(70464),O=s(57840),E=s(55590),C=s(99981),U=s(23496),T=s(63709),M=s(73705);let{Text:I}=O.default;var R=e=>{let{onLogout:t}=e,{userId:s,userEmail:n,userRole:i,premiumUser:a}=(0,v.Z)(),l=(0,f.w)(),o=(0,N.w)(),[c,d]=(0,p.useState)(!1);(0,p.useEffect)(()=>{d("true"===(0,Z.le)("disableShowNewBadge"))},[]);let u=[{key:"logout",label:(0,r.jsxs)(E.Z,{children:[(0,r.jsx)(_.Z,{}),"Logout"]}),onClick:t}],m=()=>(0,r.jsxs)(E.Z,{direction:"vertical",size:"small",style:{width:"100%",padding:"12px"},children:[(0,r.jsxs)(E.Z,{style:{width:"100%",justifyContent:"space-between"},children:[(0,r.jsxs)(E.Z,{children:[(0,r.jsx)(k.Z,{}),(0,r.jsx)(I,{type:"secondary",children:n||"-"})]}),a?(0,r.jsx)(g.Z,{icon:(0,r.jsx)(L.Z,{}),color:"gold",children:"Premium"}):(0,r.jsx)(C.Z,{title:"Upgrade to Premium for advanced features",placement:"left",children:(0,r.jsx)(g.Z,{icon:(0,r.jsx)(L.Z,{}),children:"Standard"})})]}),(0,r.jsx)(U.Z,{style:{margin:"8px 0"}}),(0,r.jsxs)(E.Z,{style:{width:"100%",justifyContent:"space-between"},children:[(0,r.jsxs)(E.Z,{children:[(0,r.jsx)(S.Z,{}),(0,r.jsx)(I,{type:"secondary",children:"User ID"})]}),(0,r.jsx)(I,{copyable:!0,ellipsis:!0,style:{maxWidth:"150px"},title:s||"-",children:s||"-"})]}),(0,r.jsxs)(E.Z,{style:{width:"100%",justifyContent:"space-between"},children:[(0,r.jsxs)(E.Z,{children:[(0,r.jsx)(P.Z,{}),(0,r.jsx)(I,{type:"secondary",children:"Role"})]}),(0,r.jsx)(I,{children:i})]}),(0,r.jsx)(U.Z,{style:{margin:"8px 0"}}),(0,r.jsxs)(E.Z,{style:{width:"100%",justifyContent:"space-between"},children:[(0,r.jsx)(I,{type:"secondary",children:"Hide New Feature Indicators"}),(0,r.jsx)(T.Z,{size:"small",checked:c,onChange:e=>{d(e),e?(0,Z.D$)("disableShowNewBadge","true"):(0,Z.e8)("disableShowNewBadge"),(0,Z.nO)("disableShowNewBadge")},"aria-label":"Toggle hide new feature indicators"})]}),(0,r.jsxs)(E.Z,{style:{width:"100%",justifyContent:"space-between"},children:[(0,r.jsx)(I,{type:"secondary",children:"Hide All Prompts"}),(0,r.jsx)(T.Z,{size:"small",checked:l,onChange:e=>{e?(0,Z.D$)("disableShowPrompts","true"):(0,Z.e8)("disableShowPrompts"),(0,Z.nO)("disableShowPrompts")},"aria-label":"Toggle hide all prompts"})]}),(0,r.jsxs)(E.Z,{style:{width:"100%",justifyContent:"space-between"},children:[(0,r.jsx)(I,{type:"secondary",children:"Hide Usage Indicator"}),(0,r.jsx)(T.Z,{size:"small",checked:o,onChange:e=>{e?(0,Z.D$)("disableUsageIndicator","true"):(0,Z.e8)("disableUsageIndicator"),(0,Z.nO)("disableUsageIndicator")},"aria-label":"Toggle hide usage indicator"})]})]});return(0,r.jsx)(M.Z,{menu:{items:u},popupRender:e=>(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg",children:[m(),(0,r.jsx)(U.Z,{style:{margin:0}}),p.cloneElement(e,{style:{boxShadow:"none"}})]}),children:(0,r.jsx)(b.ZP,{type:"text",children:(0,r.jsxs)(E.Z,{children:[(0,r.jsx)(S.Z,{}),(0,r.jsx)(I,{children:"User"}),(0,r.jsx)(z.Z,{})]})})})},A=e=>{let{userID:t,userEmail:s,userRole:i,premiumUser:a,proxySettings:l,setProxySettings:f,accessToken:y,isPublicPage:j=!1,sidebarCollapsed:b=!1,onToggleSidebar:v,isDarkMode:N,toggleDarkMode:Z}=e,_=(0,n.getProxyBaseUrl)(),[k,L]=(0,p.useState)(""),{logoUrl:S}=(0,c.F)(),{data:P}=o(),z=null==P?void 0:P.litellm_version,O=S||"".concat(_,"/get_image");return(0,p.useEffect)(()=>{(async()=>{if(y){let e=await (0,u.C)(y);console.log("response from fetchProxySettings",e),e&&f(e)}})()},[y]),(0,p.useEffect)(()=>{L((null==l?void 0:l.PROXY_LOGOUT_URL)||"")},[l]),(0,r.jsx)("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:(0,r.jsx)("div",{className:"w-full",children:(0,r.jsxs)("div",{className:"flex items-center h-14 px-4",children:[(0,r.jsxs)("div",{className:"flex items-center flex-shrink-0",children:[v&&(0,r.jsx)("button",{onClick:v,className:"flex items-center justify-center w-10 h-10 mr-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded transition-colors",title:b?"Expand sidebar":"Collapse sidebar",children:(0,r.jsx)("span",{className:"text-lg",children:b?(0,r.jsx)(m.Z,{}):(0,r.jsx)(x.Z,{})})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(h.default,{href:_||"/",className:"flex items-center",children:(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("div",{className:"h-10 max-w-48 flex items-center justify-center overflow-hidden",children:(0,r.jsx)("img",{src:O,alt:"LiteLLM Brand",className:"max-w-full max-h-full w-auto h-auto object-contain"})})})}),z&&(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("span",{className:"absolute -top-1 -left-2 text-lg animate-bounce",style:{animationDuration:"2s"},title:"Thanks for using LiteLLM!",children:"❄️"}),(0,r.jsx)(g.Z,{className:"relative text-xs font-medium cursor-pointer z-10",children:(0,r.jsxs)("a",{href:"https://docs.litellm.ai/release_notes",target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0",children:["v",z]})})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-5 ml-auto",children:[(0,r.jsx)(w,{}),!1,(0,r.jsx)("a",{href:"https://docs.litellm.ai/docs/",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Docs"}),!j&&(0,r.jsx)(R,{onLogout:()=>{(0,d.b)(),window.location.href=k}})]})]})})})}},69734:function(e,t,s){"use strict";s.d(t,{F:function(){return l},f:function(){return o}});var r=s(57437),n=s(2265),i=s(19250);let a=(0,n.createContext)(void 0),l=()=>{let e=(0,n.useContext)(a);if(!e)throw Error("useTheme must be used within a ThemeProvider");return e},o=e=>{let{children:t,accessToken:s}=e,[l,o]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(async()=>{try{let t=(0,i.getProxyBaseUrl)(),s=await fetch(t?"".concat(t,"/get/ui_theme_settings"):"/get/ui_theme_settings",{method:"GET",headers:{"Content-Type":"application/json"}});if(s.ok){var e;let t=await s.json();(null===(e=t.values)||void 0===e?void 0:e.logo_url)&&o(t.values.logo_url)}}catch(e){console.warn("Failed to load logo settings from backend:",e)}})()},[]),(0,r.jsx)(a.Provider,{value:{logoUrl:l,setLogoUrl:o},children:t})}},97060:function(e,t,s){"use strict";s.d(t,{TD:function(){return i},sT:function(){return a},vf:function(){return n}});var r=s(14474);function n(e){try{let t=(0,r.o)(e);if(t&&"number"==typeof t.exp)return 1e3*t.exp<=Date.now();return!1}catch(e){return!0}}function i(e){if(!e)return null;try{return(0,r.o)(e)}catch(e){return null}}function a(e){return!!e&&null!==i(e)&&!n(e)}},9245:function(e,t,s){"use strict";s.d(t,{D$:function(){return a},Qg:function(){return r},e8:function(){return l},le:function(){return i},nO:function(){return n}});let r="local-storage-change";function n(e){window.dispatchEvent(new CustomEvent(r,{detail:{key:e}}))}function i(e){try{return window.localStorage.getItem(e)}catch(t){return console.warn('Error reading localStorage key "'.concat(e,'":'),t),null}}function a(e,t){try{window.localStorage.setItem(e,t)}catch(t){console.warn('Error setting localStorage key "'.concat(e,'":'),t)}}function l(e){try{window.localStorage.removeItem(e)}catch(t){console.warn('Error removing localStorage key "'.concat(e,'":'),t)}}},91624:function(e,t,s){"use strict";s.d(t,{C:function(){return n}});var r=s(19250);let n=async e=>{if(!e)return null;try{return await (0,r.getProxyUISettings)(e)}catch(e){return console.error("Error fetching proxy settings:",e),null}}},20347:function(e,t,s){"use strict";s.d(t,{LQ:function(){return i},P4:function(){return l},ZL:function(){return r},_p:function(){return c},lo:function(){return n},tY:function(){return a},yV:function(){return o}});let r=["Admin","Admin Viewer","proxy_admin","proxy_admin_viewer","org_admin"],n=["Internal User","Internal Viewer"],i=["Internal User","Admin","proxy_admin"],a=e=>r.includes(e),l=e=>"proxy_admin"===e||"Admin"===e,o=(e,t)=>null!=e&&e.some(e=>c(e.members_with_roles,t)),c=(e,t)=>null!=e&&e.some(e=>e.user_id===t&&"admin"===e.role)}},function(e){e.O(0,[7271,5173,3092,1632,4865,7840,3367,3709,7474,3885,1747,3331,8049,2971,2117,1744],function(){return e(e.s=77935)}),_N_E=e.O()}]);