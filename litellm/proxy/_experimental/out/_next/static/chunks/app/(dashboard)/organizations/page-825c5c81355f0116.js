(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6459],{35841:function(e,s,l){Promise.resolve().then(l.bind(l,57616))},40728:function(e,s,l){"use strict";l.d(s,{C:function(){return a.Z},x:function(){return r.Z}});var a=l(41649),r=l(84264)},57616:function(e,s,l){"use strict";l.r(s);var a=l(57437),r=l(22004),t=l(39760),n=l(2265),i=l(30874);s.default=()=>{let{userId:e,accessToken:s,userRole:l,premiumUser:c}=(0,t.Z)(),[d,o]=(0,n.useState)([]),[m,u]=(0,n.useState)([]);return(0,n.useEffect)(()=>{(0,r.g)(s,o).then(()=>{})},[s]),(0,n.useEffect)(()=>{(0,i.Nr)(e,l,s,u).then(()=>{})},[e,l,s]),(0,a.jsx)(r.Z,{organizations:d,userRole:l,userModels:m,accessToken:s,setOrganizations:o,premiumUser:c})}},21609:function(e,s,l){"use strict";l.d(s,{Z:function(){return o}});var a=l(57437),r=l(57840),t=l(22116),n=l(51653),i=l(76188),c=l(4260),d=l(2265);function o(e){let{isOpen:s,title:l,alertMessage:o,message:m,resourceInformationTitle:u,resourceInformation:x,onCancel:p,onOk:h,confirmLoading:g,requiredConfirmation:f}=e,{Title:v,Text:b}=r.default,[j,y]=(0,d.useState)("");return(0,d.useEffect)(()=>{s&&y("")},[s]),(0,a.jsx)(t.Z,{title:l,open:s,onOk:h,onCancel:p,confirmLoading:g,okText:g?"Deleting...":"Delete",cancelText:"Cancel",okButtonProps:{danger:!0,disabled:!!f&&j!==f||g},cancelButtonProps:{disabled:g},children:(0,a.jsxs)("div",{className:"space-y-4",children:[o&&(0,a.jsx)(n.Z,{message:o,type:"warning"}),(0,a.jsxs)("div",{className:"mt-4 p-4 bg-red-50 rounded-lg border border-red-200",children:[(0,a.jsx)(v,{level:5,className:"mb-3 text-gray-900",children:u}),(0,a.jsx)(i.Z,{column:1,size:"small",children:x&&x.map(e=>{let{label:s,value:l,...r}=e;return(0,a.jsx)(i.Z.Item,{label:(0,a.jsx)("span",{className:"font-semibold text-gray-700",children:s}),children:(0,a.jsx)(b,{...r,children:null!=l?l:"-"})},s)})})]}),(0,a.jsx)("div",{children:(0,a.jsx)(b,{children:m})}),f&&(0,a.jsxs)("div",{className:"mb-6 mt-4 pt-4 border-t border-gray-200",children:[(0,a.jsxs)(b,{className:"block text-base font-medium text-gray-700 mb-2",children:[(0,a.jsx)(b,{children:"Type "}),(0,a.jsx)(b,{strong:!0,type:"danger",children:f}),(0,a.jsx)(b,{children:" to confirm deletion:"})]}),(0,a.jsx)(c.default,{value:j,onChange:e=>y(e.target.value),placeholder:f,className:"rounded-md text-base border-gray-200",autoFocus:!0})]})]})})}},33860:function(e,s,l){"use strict";var a=l(57437),r=l(2265),t=l(10032),n=l(22116),i=l(37592),c=l(99981),d=l(5545),o=l(7310),m=l.n(o),u=l(19250);s.Z=e=>{let{isVisible:s,onCancel:l,onSubmit:o,accessToken:x,title:p="Add Team Member",roles:h=[{label:"admin",value:"admin",description:"Admin role. Can create team keys, add members, and manage settings."},{label:"user",value:"user",description:"User role. Can view team info, but not manage it."}],defaultRole:g="user"}=e,[f]=t.default.useForm(),[v,b]=(0,r.useState)([]),[j,y]=(0,r.useState)(!1),[N,_]=(0,r.useState)("user_email"),w=async(e,s)=>{if(!e){b([]);return}y(!0);try{let l=new URLSearchParams;if(l.append(s,e),null==x)return;let a=(await (0,u.userFilterUICall)(x,l)).map(e=>({label:"user_email"===s?"".concat(e.user_email):"".concat(e.user_id),value:"user_email"===s?e.user_email:e.user_id,user:e}));b(a)}catch(e){console.error("Error fetching users:",e)}finally{y(!1)}},S=(0,r.useCallback)(m()((e,s)=>w(e,s),300),[]),C=(e,s)=>{_(s),S(e,s)},k=(e,s)=>{let l=s.user;f.setFieldsValue({user_email:l.user_email,user_id:l.user_id,role:f.getFieldValue("role")})};return(0,a.jsx)(n.Z,{title:p,open:s,onCancel:()=>{f.resetFields(),b([]),l()},footer:null,width:800,children:(0,a.jsxs)(t.default,{form:f,onFinish:o,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",initialValues:{role:g},children:[(0,a.jsx)(t.default.Item,{label:"Email",name:"user_email",className:"mb-4",children:(0,a.jsx)(i.default,{showSearch:!0,className:"w-full",placeholder:"Search by email",filterOption:!1,onSearch:e=>C(e,"user_email"),onSelect:(e,s)=>k(e,s),options:"user_email"===N?v:[],loading:j,allowClear:!0})}),(0,a.jsx)("div",{className:"text-center mb-4",children:"OR"}),(0,a.jsx)(t.default.Item,{label:"User ID",name:"user_id",className:"mb-4",children:(0,a.jsx)(i.default,{showSearch:!0,className:"w-full",placeholder:"Search by user ID",filterOption:!1,onSearch:e=>C(e,"user_id"),onSelect:(e,s)=>k(e,s),options:"user_id"===N?v:[],loading:j,allowClear:!0})}),(0,a.jsx)(t.default.Item,{label:"Member Role",name:"role",className:"mb-4",children:(0,a.jsx)(i.default,{defaultValue:g,children:h.map(e=>(0,a.jsx)(i.default.Option,{value:e.value,children:(0,a.jsxs)(c.Z,{title:e.description,children:[(0,a.jsx)("span",{className:"font-medium",children:e.label}),(0,a.jsxs)("span",{className:"ml-2 text-gray-500 text-sm",children:["- ",e.description]})]})},e.value))})}),(0,a.jsx)("div",{className:"text-right mt-4",children:(0,a.jsx)(d.ZP,{type:"default",htmlType:"submit",children:"Add Member"})})]})})}},60131:function(e,s,l){"use strict";l.d(s,{Z:function(){return f}});var a=l(57437),r=l(2265),t=l(92280),n=l(40728),i=l(79814),c=l(19250),d=function(e){let{vectorStores:s,accessToken:l}=e,[t,d]=(0,r.useState)([]);(0,r.useEffect)(()=>{(async()=>{if(l&&0!==s.length)try{let e=await (0,c.vectorStoreListCall)(l);e.data&&d(e.data.map(e=>({vector_store_id:e.vector_store_id,vector_store_name:e.vector_store_name})))}catch(e){console.error("Error fetching vector stores:",e)}})()},[l,s.length]);let o=e=>{let s=t.find(s=>s.vector_store_id===e);return s?"".concat(s.vector_store_name||s.vector_store_id," (").concat(s.vector_store_id,")"):e};return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4 text-blue-600"}),(0,a.jsx)(n.x,{className:"font-semibold text-gray-900",children:"Vector Stores"}),(0,a.jsx)(n.C,{color:"blue",size:"xs",children:s.length})]}),s.length>0?(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:s.map((e,s)=>(0,a.jsx)("div",{className:"inline-flex items-center px-3 py-1.5 rounded-lg bg-blue-50 border border-blue-200 text-blue-800 text-sm font-medium",children:o(e)},s))}):(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-50 border border-gray-200",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)(n.x,{className:"text-gray-500 text-sm",children:"No vector stores configured"})]})]})},o=l(25327),m=l(86462),u=l(47686),x=l(99981),p=function(e){let{mcpServers:s,mcpAccessGroups:t=[],mcpToolPermissions:i={},accessToken:d}=e,[p,h]=(0,r.useState)([]),[g,f]=(0,r.useState)([]),[v,b]=(0,r.useState)(new Set),j=e=>{b(s=>{let l=new Set(s);return l.has(e)?l.delete(e):l.add(e),l})};(0,r.useEffect)(()=>{(async()=>{if(d&&s.length>0)try{let e=await (0,c.fetchMCPServers)(d);e&&Array.isArray(e)?h(e):e.data&&Array.isArray(e.data)&&h(e.data)}catch(e){console.error("Error fetching MCP servers:",e)}})()},[d,s.length]),(0,r.useEffect)(()=>{(async()=>{if(d&&t.length>0)try{let e=await Promise.resolve().then(l.bind(l,19250)).then(e=>e.fetchMCPAccessGroups(d));f(Array.isArray(e)?e:e.data||[])}catch(e){console.error("Error fetching MCP access groups:",e)}})()},[d,t.length]);let y=e=>{let s=p.find(s=>s.server_id===e);if(s){let l=e.length>7?"".concat(e.slice(0,3),"...").concat(e.slice(-4)):e;return"".concat(s.alias," (").concat(l,")")}return e},N=e=>e,_=[...s.map(e=>({type:"server",value:e})),...t.map(e=>({type:"accessGroup",value:e}))],w=_.length;return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 text-blue-600"}),(0,a.jsx)(n.x,{className:"font-semibold text-gray-900",children:"MCP Servers"}),(0,a.jsx)(n.C,{color:"blue",size:"xs",children:w})]}),w>0?(0,a.jsx)("div",{className:"max-h-[400px] overflow-y-auto space-y-2 pr-1",children:_.map((e,s)=>{let l="server"===e.type?i[e.value]:void 0,r=l&&l.length>0,t=v.has(e.value);return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{onClick:()=>r&&j(e.value),className:"flex items-center gap-3 py-2 px-3 rounded-lg border border-gray-200 transition-all ".concat(r?"cursor-pointer hover:bg-gray-50 hover:border-gray-300":"bg-white"),children:[(0,a.jsx)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:"server"===e.type?(0,a.jsx)(x.Z,{title:"Full ID: ".concat(e.value),placement:"top",children:(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 min-w-0",children:[(0,a.jsx)("span",{className:"inline-block w-1.5 h-1.5 bg-blue-500 rounded-full flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900 truncate",children:y(e.value)})]})}):(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 min-w-0",children:[(0,a.jsx)("span",{className:"inline-block w-1.5 h-1.5 bg-green-500 rounded-full flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900 truncate",children:N(e.value)}),(0,a.jsx)("span",{className:"ml-1 px-1.5 py-0.5 text-[9px] font-semibold text-green-600 bg-green-50 border border-green-200 rounded uppercase tracking-wide flex-shrink-0",children:"Group"})]})}),r&&(0,a.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0 whitespace-nowrap",children:[(0,a.jsx)("span",{className:"text-xs font-medium text-gray-600",children:l.length}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:1===l.length?"tool":"tools"}),t?(0,a.jsx)(m.Z,{className:"h-3.5 w-3.5 text-gray-400 ml-0.5"}):(0,a.jsx)(u.Z,{className:"h-3.5 w-3.5 text-gray-400 ml-0.5"})]})]}),r&&t&&(0,a.jsx)("div",{className:"ml-4 pl-4 border-l-2 border-blue-200 pb-1",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-1.5",children:l.map((e,s)=>(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg bg-blue-50 border border-blue-200 text-blue-800 text-xs font-medium",children:e},s))})})]},s)})}):(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-50 border border-gray-200",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)(n.x,{className:"text-gray-500 text-sm",children:"No MCP servers or access groups configured"})]})]})},h=l(3497),g=function(e){let{agents:s,agentAccessGroups:l=[],accessToken:t}=e,[i,d]=(0,r.useState)([]);(0,r.useEffect)(()=>{(async()=>{if(t&&s.length>0)try{let e=await (0,c.getAgentsList)(t);e&&e.agents&&Array.isArray(e.agents)&&d(e.agents)}catch(e){console.error("Error fetching agents:",e)}})()},[t,s.length]);let o=e=>{let s=i.find(s=>s.agent_id===e);if(s){let l=e.length>7?"".concat(e.slice(0,3),"...").concat(e.slice(-4)):e;return"".concat(s.agent_name," (").concat(l,")")}return e},m=[...s.map(e=>({type:"agent",value:e})),...l.map(e=>({type:"accessGroup",value:e}))],u=m.length;return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 text-purple-600"}),(0,a.jsx)(n.x,{className:"font-semibold text-gray-900",children:"Agents"}),(0,a.jsx)(n.C,{color:"purple",size:"xs",children:u})]}),u>0?(0,a.jsx)("div",{className:"max-h-[400px] overflow-y-auto space-y-2 pr-1",children:m.map((e,s)=>(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsx)("div",{className:"flex items-center gap-3 py-2 px-3 rounded-lg border border-gray-200 bg-white",children:(0,a.jsx)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:"agent"===e.type?(0,a.jsx)(x.Z,{title:"Full ID: ".concat(e.value),placement:"top",children:(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 min-w-0",children:[(0,a.jsx)("span",{className:"inline-block w-1.5 h-1.5 bg-purple-500 rounded-full flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900 truncate",children:o(e.value)})]})}):(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 min-w-0",children:[(0,a.jsx)("span",{className:"inline-block w-1.5 h-1.5 bg-green-500 rounded-full flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900 truncate",children:e.value}),(0,a.jsx)("span",{className:"ml-1 px-1.5 py-0.5 text-[9px] font-semibold text-green-600 bg-green-50 border border-green-200 rounded uppercase tracking-wide flex-shrink-0",children:"Group"})]})})})},s))}):(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-50 border border-gray-200",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)(n.x,{className:"text-gray-500 text-sm",children:"No agents or access groups configured"})]})]})},f=function(e){let{objectPermission:s,variant:l="card",className:r="",accessToken:n}=e,i=(null==s?void 0:s.vector_stores)||[],c=(null==s?void 0:s.mcp_servers)||[],o=(null==s?void 0:s.mcp_access_groups)||[],m=(null==s?void 0:s.mcp_tool_permissions)||{},u=(null==s?void 0:s.agents)||[],x=(null==s?void 0:s.agent_access_groups)||[],h=(0,a.jsxs)("div",{className:"card"===l?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:[(0,a.jsx)(d,{vectorStores:i,accessToken:n}),(0,a.jsx)(p,{mcpServers:c,mcpAccessGroups:o,mcpToolPermissions:m,accessToken:n}),(0,a.jsx)(g,{agents:u,agentAccessGroups:x,accessToken:n})]});return"card"===l?(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 ".concat(r),children:[(0,a.jsx)("div",{className:"flex items-center gap-2 mb-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(t.x,{className:"font-semibold text-gray-900",children:"Object Permissions"}),(0,a.jsx)(t.x,{className:"text-xs text-gray-500",children:"Access control for Vector Stores and MCP Servers"})]})}),h]}):(0,a.jsxs)("div",{className:"".concat(r),children:[(0,a.jsx)(t.x,{className:"font-medium text-gray-900 mb-3",children:"Object Permissions"}),h]})}},36894:function(e,s,l){"use strict";var a=l(57437),r=l(56522),t=l(10032),n=l(37592),i=l(22116),c=l(5545),d=l(2265),o=l(24199);s.Z=e=>{var s,l,m;let{visible:u,onCancel:x,onSubmit:p,initialData:h,mode:g,config:f}=e,[v]=t.default.useForm(),[b,j]=(0,d.useState)(!1);console.log("Initial Data:",h),(0,d.useEffect)(()=>{if(u){if("edit"===g&&h){let e={...h,role:h.role||f.defaultRole,max_budget_in_team:h.max_budget_in_team||null,tpm_limit:h.tpm_limit||null,rpm_limit:h.rpm_limit||null};console.log("Setting form values:",e),v.setFieldsValue(e)}else{var e;v.resetFields(),v.setFieldsValue({role:f.defaultRole||(null===(e=f.roleOptions[0])||void 0===e?void 0:e.value)})}}},[u,h,g,v,f.defaultRole,f.roleOptions]);let y=async e=>{try{j(!0);let s=Object.entries(e).reduce((e,s)=>{let[l,a]=s;if("string"==typeof a){let s=a.trim();return""===s&&("max_budget_in_team"===l||"tpm_limit"===l||"rpm_limit"===l)?{...e,[l]:null}:{...e,[l]:s}}return{...e,[l]:a}},{});console.log("Submitting form data:",s),await Promise.resolve(p(s)),v.resetFields()}catch(e){console.error("Form submission error:",e)}finally{j(!1)}},N=e=>{switch(e.type){case"input":return(0,a.jsx)(r.o,{placeholder:e.placeholder});case"numerical":return(0,a.jsx)(o.Z,{step:e.step||1,min:e.min||0,style:{width:"100%"},placeholder:e.placeholder||"Enter a numerical value"});case"select":var s;return(0,a.jsx)(n.default,{children:null===(s=e.options)||void 0===s?void 0:s.map(e=>(0,a.jsx)(n.default.Option,{value:e.value,children:e.label},e.value))});default:return null}};return(0,a.jsx)(i.Z,{title:f.title||("add"===g?"Add Member":"Edit Member"),open:u,width:1e3,footer:null,onCancel:x,children:(0,a.jsxs)(t.default,{form:v,onFinish:y,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",children:[f.showEmail&&(0,a.jsx)(t.default.Item,{label:"Email",name:"user_email",className:"mb-4",rules:[{type:"email",message:"Please enter a valid email!"}],children:(0,a.jsx)(r.o,{placeholder:"user@example.com"})}),f.showEmail&&f.showUserId&&(0,a.jsx)("div",{className:"text-center mb-4",children:(0,a.jsx)(r.x,{children:"OR"})}),f.showUserId&&(0,a.jsx)(t.default.Item,{label:"User ID",name:"user_id",className:"mb-4",children:(0,a.jsx)(r.o,{placeholder:"user_123"})}),(0,a.jsx)(t.default.Item,{label:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:"Role"}),"edit"===g&&h&&(0,a.jsxs)("span",{className:"text-gray-500 text-sm",children:["(Current: ",(l=h.role,(null===(m=f.roleOptions.find(e=>e.value===l))||void 0===m?void 0:m.label)||l),")"]})]}),name:"role",className:"mb-4",rules:[{required:!0,message:"Please select a role!"}],children:(0,a.jsx)(n.default,{children:"edit"===g&&h?[...f.roleOptions.filter(e=>e.value===h.role),...f.roleOptions.filter(e=>e.value!==h.role)].map(e=>(0,a.jsx)(n.default.Option,{value:e.value,children:e.label},e.value)):f.roleOptions.map(e=>(0,a.jsx)(n.default.Option,{value:e.value,children:e.label},e.value))})}),null===(s=f.additionalFields)||void 0===s?void 0:s.map(e=>(0,a.jsx)(t.default.Item,{label:e.label,name:e.name,className:"mb-4",rules:e.rules,children:N(e)},e.name)),(0,a.jsxs)("div",{className:"text-right mt-6",children:[(0,a.jsx)(c.ZP,{onClick:x,className:"mr-2",disabled:b,children:"Cancel"}),(0,a.jsx)(c.ZP,{type:"default",htmlType:"submit",loading:b,children:"add"===g?b?"Adding...":"Add Member":b?"Saving...":"Save Changes"})]})]})})}}},function(e){e.O(0,[1047,9028,9409,4865,337,8135,1442,2926,2409,3367,353,1994,7138,8565,3709,5319,5333,525,6609,4546,7996,3746,8049,4679,2202,874,2004,2971,2117,1744],function(){return e(e.s=35841)}),_N_E=e.O()}]);