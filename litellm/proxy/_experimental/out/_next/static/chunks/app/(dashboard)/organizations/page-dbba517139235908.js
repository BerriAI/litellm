(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6459],{44243:function(e,s,r){Promise.resolve().then(r.bind(r,57616))},40728:function(e,s,r){"use strict";r.d(s,{C:function(){return t.Z},x:function(){return a.Z}});var t=r(41649),a=r(84264)},57616:function(e,s,r){"use strict";r.r(s);var t=r(57437),a=r(22004),c=r(39760),l=r(2265),n=r(30874);s.default=()=>{let{userId:e,accessToken:s,userRole:r,premiumUser:i}=(0,c.Z)(),[o,d]=(0,l.useState)([]),[x,m]=(0,l.useState)([]);return(0,l.useEffect)(()=>{(0,a.g)(s,d).then(()=>{})},[s]),(0,l.useEffect)(()=>{(0,n.Nr)(e,r,s,m).then(()=>{})},[e,r,s]),(0,t.jsx)(a.Z,{organizations:o,userRole:r,userModels:x,accessToken:s,setOrganizations:d,premiumUser:i})}},98015:function(e,s,r){"use strict";r.d(s,{Z:function(){return g}});var t=r(57437),a=r(2265),c=r(92280),l=r(40728),n=r(79814),i=r(19250),o=function(e){let{vectorStores:s,accessToken:r}=e,[c,o]=(0,a.useState)([]);(0,a.useEffect)(()=>{(async()=>{if(r&&0!==s.length)try{let e=await (0,i.vectorStoreListCall)(r);e.data&&o(e.data.map(e=>({vector_store_id:e.vector_store_id,vector_store_name:e.vector_store_name})))}catch(e){console.error("Error fetching vector stores:",e)}})()},[r,s.length]);let d=e=>{let s=c.find(s=>s.vector_store_id===e);return s?"".concat(s.vector_store_name||s.vector_store_id," (").concat(s.vector_store_id,")"):e};return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.Z,{className:"h-4 w-4 text-blue-600"}),(0,t.jsx)(l.x,{className:"font-semibold text-gray-900",children:"Vector Stores"}),(0,t.jsx)(l.C,{color:"blue",size:"xs",children:s.length})]}),s.length>0?(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:s.map((e,s)=>(0,t.jsx)("div",{className:"inline-flex items-center px-3 py-1.5 rounded-lg bg-blue-50 border border-blue-200 text-blue-800 text-sm font-medium",children:d(e)},s))}):(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-50 border border-gray-200",children:[(0,t.jsx)(n.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)(l.x,{className:"text-gray-500 text-sm",children:"No vector stores configured"})]})]})},d=r(25327),x=r(86462),m=r(47686),u=r(99981),h=function(e){let{mcpServers:s,mcpAccessGroups:c=[],mcpToolPermissions:n={},accessToken:o}=e,[h,g]=(0,a.useState)([]),[p,f]=(0,a.useState)([]),[v,b]=(0,a.useState)(new Set),j=e=>{b(s=>{let r=new Set(s);return r.has(e)?r.delete(e):r.add(e),r})};(0,a.useEffect)(()=>{(async()=>{if(o&&s.length>0)try{let e=await (0,i.fetchMCPServers)(o);e&&Array.isArray(e)?g(e):e.data&&Array.isArray(e.data)&&g(e.data)}catch(e){console.error("Error fetching MCP servers:",e)}})()},[o,s.length]),(0,a.useEffect)(()=>{(async()=>{if(o&&c.length>0)try{let e=await Promise.resolve().then(r.bind(r,19250)).then(e=>e.fetchMCPAccessGroups(o));f(Array.isArray(e)?e:e.data||[])}catch(e){console.error("Error fetching MCP access groups:",e)}})()},[o,c.length]);let y=e=>{let s=h.find(s=>s.server_id===e);if(s){let r=e.length>7?"".concat(e.slice(0,3),"...").concat(e.slice(-4)):e;return"".concat(s.alias," (").concat(r,")")}return e},N=e=>e,_=[...s.map(e=>({type:"server",value:e})),...c.map(e=>({type:"accessGroup",value:e}))],w=_.length;return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.Z,{className:"h-4 w-4 text-blue-600"}),(0,t.jsx)(l.x,{className:"font-semibold text-gray-900",children:"MCP Servers"}),(0,t.jsx)(l.C,{color:"blue",size:"xs",children:w})]}),w>0?(0,t.jsx)("div",{className:"max-h-[400px] overflow-y-auto space-y-2 pr-1",children:_.map((e,s)=>{let r="server"===e.type?n[e.value]:void 0,a=r&&r.length>0,c=v.has(e.value);return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{onClick:()=>a&&j(e.value),className:"flex items-center gap-3 py-2 px-3 rounded-lg border border-gray-200 transition-all ".concat(a?"cursor-pointer hover:bg-gray-50 hover:border-gray-300":"bg-white"),children:[(0,t.jsx)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:"server"===e.type?(0,t.jsx)(u.Z,{title:"Full ID: ".concat(e.value),placement:"top",children:(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 min-w-0",children:[(0,t.jsx)("span",{className:"inline-block w-1.5 h-1.5 bg-blue-500 rounded-full flex-shrink-0"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900 truncate",children:y(e.value)})]})}):(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 min-w-0",children:[(0,t.jsx)("span",{className:"inline-block w-1.5 h-1.5 bg-green-500 rounded-full flex-shrink-0"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900 truncate",children:N(e.value)}),(0,t.jsx)("span",{className:"ml-1 px-1.5 py-0.5 text-[9px] font-semibold text-green-600 bg-green-50 border border-green-200 rounded uppercase tracking-wide flex-shrink-0",children:"Group"})]})}),a&&(0,t.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0 whitespace-nowrap",children:[(0,t.jsx)("span",{className:"text-xs font-medium text-gray-600",children:r.length}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:1===r.length?"tool":"tools"}),c?(0,t.jsx)(x.Z,{className:"h-3.5 w-3.5 text-gray-400 ml-0.5"}):(0,t.jsx)(m.Z,{className:"h-3.5 w-3.5 text-gray-400 ml-0.5"})]})]}),a&&c&&(0,t.jsx)("div",{className:"ml-4 pl-4 border-l-2 border-blue-200 pb-1",children:(0,t.jsx)("div",{className:"flex flex-wrap gap-1.5",children:r.map((e,s)=>(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg bg-blue-50 border border-blue-200 text-blue-800 text-xs font-medium",children:e},s))})})]},s)})}):(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-50 border border-gray-200",children:[(0,t.jsx)(d.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)(l.x,{className:"text-gray-500 text-sm",children:"No MCP servers or access groups configured"})]})]})},g=function(e){let{objectPermission:s,variant:r="card",className:a="",accessToken:l}=e,n=(null==s?void 0:s.vector_stores)||[],i=(null==s?void 0:s.mcp_servers)||[],d=(null==s?void 0:s.mcp_access_groups)||[],x=(null==s?void 0:s.mcp_tool_permissions)||{},m=(0,t.jsxs)("div",{className:"card"===r?"grid grid-cols-1 md:grid-cols-2 gap-6":"space-y-4",children:[(0,t.jsx)(o,{vectorStores:n,accessToken:l}),(0,t.jsx)(h,{mcpServers:i,mcpAccessGroups:d,mcpToolPermissions:x,accessToken:l})]});return"card"===r?(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 ".concat(a),children:[(0,t.jsx)("div",{className:"flex items-center gap-2 mb-6",children:(0,t.jsxs)("div",{children:[(0,t.jsx)(c.x,{className:"font-semibold text-gray-900",children:"Object Permissions"}),(0,t.jsx)(c.x,{className:"text-xs text-gray-500",children:"Access control for Vector Stores and MCP Servers"})]})}),m]}):(0,t.jsxs)("div",{className:"".concat(a),children:[(0,t.jsx)(c.x,{className:"font-medium text-gray-900 mb-3",children:"Object Permissions"}),m]})}}},function(e){e.O(0,[1047,9028,9409,4865,8135,1442,2926,2409,1529,3709,1394,1994,3705,8565,353,5319,9678,525,6609,7996,395,6400,8049,9877,2202,874,2004,2971,2117,1744],function(){return e(e.s=44243)}),_N_E=e.O()}]);