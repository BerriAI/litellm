(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5642],{77935:function(e,t,r){Promise.resolve().then(r.bind(r,89219))},1309:function(e,t,r){"use strict";r.d(t,{C:function(){return s.Z}});var s=r(41649)},39760:function(e,t,r){"use strict";var s=r(2265),n=r(99376),l=r(14474),a=r(3914);t.Z=()=>{var e,t,r,o,i,c,u;let d=(0,n.useRouter)(),m="undefined"!=typeof document?(0,a.e)("token"):null;(0,s.useEffect)(()=>{m||d.replace("/sso/key/generate")},[m,d]);let x=(0,s.useMemo)(()=>{if(!m)return null;try{return(0,l.o)(m)}catch(e){return(0,a.b)(),d.replace("/sso/key/generate"),null}},[m,d]);return{token:m,accessToken:null!==(e=null==x?void 0:x.key)&&void 0!==e?e:null,userId:null!==(t=null==x?void 0:x.user_id)&&void 0!==t?t:null,userEmail:null!==(r=null==x?void 0:x.user_email)&&void 0!==r?r:null,userRole:null!==(o=null==x?void 0:x.user_role)&&void 0!==o?o:null,premiumUser:null!==(i=null==x?void 0:x.premium_user)&&void 0!==i?i:null,disabledPersonalKeyCreation:null!==(c=null==x?void 0:x.disabled_non_admin_personal_key_creation)&&void 0!==c?c:null,showSSOBanner:(null==x?void 0:x.login_method)==="username_password"}}},89219:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var s=r(57437),n=r(2265),l=r(65373),a=r(69734),o=r(92019),i=r(39760),c=r(99376);function u(e){let{children:t}=e;(0,c.useRouter)();let r=(0,c.useSearchParams)(),{accessToken:u,userRole:d}=(0,i.Z)(),[m,x]=n.useState(!1),[f,g]=(0,n.useState)(()=>r.get("page")||"api-keys");return(0,n.useEffect)(()=>{g(r.get("page")||"api-keys")},[r]),(0,s.jsx)(a.f,{accessToken:"",children:(0,s.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,s.jsx)(l.Z,{isPublicPage:!1,sidebarCollapsed:m,onToggleSidebar:()=>x(e=>!e),userID:null,userEmail:null,userRole:null,premiumUser:!1,proxySettings:void 0,setProxySettings:function(e){throw Error("Function not implemented.")},accessToken:null}),(0,s.jsxs)("div",{className:"flex flex-1 overflow-auto",children:[(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)(o.Z,{defaultSelectedKey:f,accessToken:u,userRole:d})}),(0,s.jsx)("main",{className:"flex-1",children:t})]})]})})}!function(e){let t="ui/".trim();if(t)t.replace(/^\/+/,"").replace(/\/+$/,"")}(0)},29488:function(e,t,r){"use strict";r.d(t,{Hc:function(){return a},Ui:function(){return l},e4:function(){return o},xd:function(){return i}});let s="litellm_mcp_auth_tokens",n=()=>{try{let e=localStorage.getItem(s);return e?JSON.parse(e):{}}catch(e){return console.error("Error reading MCP auth tokens from localStorage:",e),{}}},l=(e,t)=>{try{let r=n()[e];if(r&&r.serverAlias===t||r&&!t&&!r.serverAlias)return r.authValue;return null}catch(e){return console.error("Error getting MCP auth token:",e),null}},a=(e,t,r,l)=>{try{let a=n();a[e]={serverId:e,serverAlias:l,authValue:t,authType:r,timestamp:Date.now()},localStorage.setItem(s,JSON.stringify(a))}catch(e){console.error("Error storing MCP auth token:",e)}},o=e=>{try{let t=n();delete t[e],localStorage.setItem(s,JSON.stringify(t))}catch(e){console.error("Error removing MCP auth token:",e)}},i=()=>{try{localStorage.removeItem(s)}catch(e){console.error("Error clearing MCP auth tokens:",e)}}},65373:function(e,t,r){"use strict";r.d(t,{Z:function(){return w}});var s=r(57437),n=r(27648),l=r(2265),a=r(89970),o=r(63709),i=r(80795),c=r(19250),u=r(15883),d=r(46346),m=r(57400),x=r(91870),f=r(40428),g=r(83884),h=r(45524),p=r(3914);let y=async e=>{if(!e)return null;try{return await (0,c.getProxyUISettings)(e)}catch(e){return console.error("Error fetching proxy settings:",e),null}};var v=r(69734),j=r(29488),N=r(31857),w=e=>{let{userID:t,userEmail:r,userRole:w,premiumUser:b,proxySettings:k,setProxySettings:_,accessToken:S,isPublicPage:E=!1,sidebarCollapsed:P=!1,onToggleSidebar:C}=e,Z=(0,c.getProxyBaseUrl)(),[I,U]=(0,l.useState)(""),{logoUrl:L}=(0,v.F)(),{refactoredUIFlag:F,setRefactoredUIFlag:R}=(0,N.Z)();(0,l.useEffect)(()=>{(async()=>{if(S){let e=await y(S);console.log("response from fetchProxySettings",e),e&&_(e)}})()},[S]),(0,l.useEffect)(()=>{U((null==k?void 0:k.PROXY_LOGOUT_URL)||"")},[k]);let T=[{key:"user-info",onClick:e=>{var t;return null===(t=e.domEvent)||void 0===t?void 0:t.stopPropagation()},label:(0,s.jsxs)("div",{className:"px-3 py-3 border-b border-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(u.Z,{className:"mr-2 text-gray-700"}),(0,s.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:t})]}),b?(0,s.jsx)(a.Z,{title:"Premium User",placement:"left",children:(0,s.jsxs)("div",{className:"flex items-center bg-gradient-to-r from-amber-500 to-yellow-500 text-white px-2 py-0.5 rounded-full cursor-help",children:[(0,s.jsx)(d.Z,{className:"mr-1 text-xs"}),(0,s.jsx)("span",{className:"text-xs font-medium",children:"Premium"})]})}):(0,s.jsx)(a.Z,{title:"Upgrade to Premium for advanced features",placement:"left",children:(0,s.jsxs)("div",{className:"flex items-center bg-gray-100 text-gray-500 px-2 py-0.5 rounded-full cursor-help",children:[(0,s.jsx)(d.Z,{className:"mr-1 text-xs"}),(0,s.jsx)("span",{className:"text-xs font-medium",children:"Standard"})]})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center text-sm",children:[(0,s.jsx)(m.Z,{className:"mr-2 text-gray-400 text-xs"}),(0,s.jsx)("span",{className:"text-gray-500 text-xs",children:"Role"}),(0,s.jsx)("span",{className:"ml-auto text-gray-700 font-medium",children:w})]}),(0,s.jsxs)("div",{className:"flex items-center text-sm",children:[(0,s.jsx)(x.Z,{className:"mr-2 text-gray-400 text-xs"}),(0,s.jsx)("span",{className:"text-gray-500 text-xs",children:"Email"}),(0,s.jsx)("span",{className:"ml-auto text-gray-700 font-medium truncate max-w-[150px]",title:r||"Unknown",children:r||"Unknown"})]}),(0,s.jsxs)("div",{className:"flex items-center text-sm pt-2 mt-2 border-t border-gray-100",children:[(0,s.jsx)("span",{className:"text-gray-500 text-xs",children:"Refactored UI"}),(0,s.jsx)(o.Z,{className:"ml-auto",size:"small",checked:F,onChange:e=>R(e),"aria-label":"Toggle refactored UI feature flag"})]})]})]})},{key:"logout",label:(0,s.jsxs)("div",{className:"flex items-center py-2 px-3 hover:bg-gray-50 rounded-md mx-1 my-1",onClick:()=>{(0,p.b)(),(0,j.xd)(),window.location.href=I},children:[(0,s.jsx)(f.Z,{className:"mr-3 text-gray-600"}),(0,s.jsx)("span",{className:"text-gray-800",children:"Logout"})]})}];return(0,s.jsx)("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:(0,s.jsx)("div",{className:"w-full",children:(0,s.jsxs)("div",{className:"flex items-center h-14 px-4",children:[" ",(0,s.jsxs)("div",{className:"flex items-center flex-shrink-0",children:[C&&(0,s.jsx)("button",{onClick:C,className:"flex items-center justify-center w-10 h-10 mr-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded transition-colors",title:P?"Expand sidebar":"Collapse sidebar",children:(0,s.jsx)("span",{className:"text-lg",children:P?(0,s.jsx)(g.Z,{}):(0,s.jsx)(h.Z,{})})}),(0,s.jsx)(n.default,{href:"/",className:"flex items-center",children:(0,s.jsx)("img",{src:L||"".concat(Z,"/get_image"),alt:"LiteLLM Brand",className:"h-10 w-auto"})})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-5 ml-auto",children:[(0,s.jsx)("a",{href:"https://docs.litellm.ai/docs/",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Docs"}),!E&&(0,s.jsx)(i.Z,{menu:{items:T,className:"min-w-[200px]",style:{padding:"8px",marginTop:"8px",borderRadius:"12px",boxShadow:"0 4px 24px rgba(0, 0, 0, 0.08)"}},overlayStyle:{minWidth:"200px"},children:(0,s.jsxs)("button",{className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 transition-colors",children:["User",(0,s.jsx)("svg",{className:"ml-1 w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 9l-7 7-7-7"})})]})})]})]})})})}},69734:function(e,t,r){"use strict";r.d(t,{F:function(){return o},f:function(){return i}});var s=r(57437),n=r(2265),l=r(19250);let a=(0,n.createContext)(void 0),o=()=>{let e=(0,n.useContext)(a);if(!e)throw Error("useTheme must be used within a ThemeProvider");return e},i=e=>{let{children:t,accessToken:r}=e,[o,i]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(async()=>{try{let t=(0,l.getProxyBaseUrl)(),r=await fetch(t?"".concat(t,"/get/ui_theme_settings"):"/get/ui_theme_settings",{method:"GET",headers:{"Content-Type":"application/json"}});if(r.ok){var e;let t=await r.json();(null===(e=t.values)||void 0===e?void 0:e.logo_url)&&i(t.values.logo_url)}}catch(e){console.warn("Failed to load logo settings from backend:",e)}})()},[]),(0,s.jsx)(a.Provider,{value:{logoUrl:o,setLogoUrl:i},children:t})}},31857:function(e,t,r){"use strict";r.d(t,{FeatureFlagsProvider:function(){return u}});var s=r(57437),n=r(2265),l=r(99376);let a=()=>{let e="ui/".replace(/^\/+|\/+$/g,"");return e?"/".concat(e,"/"):"/"},o="feature.refactoredUIFlag",i=(0,n.createContext)(null);function c(e){try{localStorage.setItem(o,String(e))}catch(e){}}let u=e=>{let{children:t}=e,r=(0,l.useRouter)(),[u,d]=(0,n.useState)(()=>(function(){try{let e=localStorage.getItem(o);if(null===e)return localStorage.setItem(o,"false"),!1;let t=e.trim().toLowerCase();if("true"===t||"1"===t)return!0;if("false"===t||"0"===t)return!1;let r=JSON.parse(e);if("boolean"==typeof r)return r;return localStorage.setItem(o,"false"),!1}catch(e){try{localStorage.setItem(o,"false")}catch(e){}return!1}})());return(0,n.useEffect)(()=>{let e=e=>{if(e.key===o&&null!=e.newValue){let t=e.newValue.trim().toLowerCase();d("true"===t||"1"===t)}e.key===o&&null===e.newValue&&(c(!1),d(!1))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]),(0,n.useEffect)(()=>{let e;if(u)return;let t=a();((e=window.location.pathname).endsWith("/")?e:e+"/")!==t&&r.replace(t)},[u,r]),(0,s.jsx)(i.Provider,{value:{refactoredUIFlag:u,setRefactoredUIFlag:e=>{d(e),c(e)}},children:t})};t.Z=()=>{let e=(0,n.useContext)(i);if(!e)throw Error("useFeatureFlags must be used within FeatureFlagsProvider");return e}},20347:function(e,t,r){"use strict";r.d(t,{LQ:function(){return l},ZL:function(){return s},lo:function(){return n},tY:function(){return a}});let s=["Admin","Admin Viewer","proxy_admin","proxy_admin_viewer","org_admin"],n=["Internal User","Internal Viewer"],l=["Internal User","Admin","proxy_admin"],a=e=>s.includes(e)}},function(e){e.O(0,[9820,1491,1526,3709,1529,3603,9165,8098,8049,2019,2971,2117,1744],function(){return e(e.s=77935)}),_N_E=e.O()}]);