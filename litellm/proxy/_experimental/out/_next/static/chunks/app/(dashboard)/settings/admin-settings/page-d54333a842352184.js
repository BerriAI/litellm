(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8958],{41667:function(e,n,t){Promise.resolve().then(t.bind(t,8786))},1309:function(e,n,t){"use strict";t.d(n,{C:function(){return r.Z}});var r=t(41649)},56522:function(e,n,t){"use strict";t.d(n,{o:function(){return i.Z},x:function(){return r.Z}});var r=t(84264),i=t(49566)},90246:function(e,n,t){"use strict";function r(e){let n=[e];return{all:n,lists:()=>[...n,"list"],list:e=>[...n,"list",{params:e}],details:()=>[...n,"detail"],detail:e=>[...n,"detail",e]}}t.d(n,{n:function(){return r}})},39823:function(e,n,t){"use strict";t.d(n,{o:function(){return s},q:function(){return u}});var r=t(39760),i=t(19250),a=t(11713),o=t(29827);let l=(0,t(90246).n)("organizations"),u=()=>{let{accessToken:e,userId:n,userRole:t}=(0,r.Z)();return(0,a.a)({queryKey:l.list({}),queryFn:async()=>await (0,i.organizationListCall)(e),enabled:!!(e&&n&&t)})},s=e=>{let n=(0,o.NL)(),{accessToken:t}=(0,r.Z)();return(0,a.a)({queryKey:l.detail(e),enabled:!!(t&&e),queryFn:async()=>{if(!t||!e)throw Error("Missing auth or teamId");return(0,i.organizationInfoCall)(t,e)},initialData:()=>{if(!e)return;let t=n.getQueryData(l.list({}));return null==t?void 0:t.find(n=>n.organization_id===e)}})}},76191:function(e,n,t){"use strict";t.d(n,{p:function(){return o}});var r=t(19250),i=t(11713);let a=(0,t(90246).n)("uiConfig"),o=()=>(0,i.a)({queryKey:a.list({}),queryFn:async()=>await (0,r.getUiConfig)(),staleTime:864e5,gcTime:864e5})},55584:function(e,n,t){"use strict";t.d(n,{L:function(){return u}});var r=t(19250),i=t(11713),a=t(90246),o=t(39760);let l=(0,a.n)("uiSettings"),u=()=>{let{accessToken:e}=(0,o.Z)();return(0,i.a)({queryKey:l.list({}),queryFn:async()=>await (0,r.getUiSettings)(e),enabled:!!e,staleTime:36e5,gcTime:36e5})}},39760:function(e,n,t){"use strict";var r=t(19250),i=t(3914),a=t(97060),o=t(14474),l=t(99376),u=t(2265),s=t(76191);n.Z=()=>{var e,n,t,c,d,f;let m=(0,l.useRouter)(),{data:g,isLoading:w}=(0,s.p)(),v="undefined"!=typeof document?(0,i.e)("token"):null;(0,u.useEffect)(()=>{(!v||v&&(0,a.v)(v))&&(v&&(0,i.b)(),m.replace("".concat((0,r.getProxyBaseUrl)(),"/ui/login")))},[v,m]),(0,u.useEffect)(()=>{!w&&(null==g?void 0:g.admin_ui_disabled)&&m.replace("".concat((0,r.getProxyBaseUrl)(),"/ui/login"))},[m,w,g]);let y=(0,u.useMemo)(()=>{if(!v)return null;try{return(0,o.o)(v)}catch(e){return(0,i.b)(),m.replace("".concat((0,r.getProxyBaseUrl)(),"/ui/login")),null}},[v,m]);return{token:v,accessToken:null!==(e=null==y?void 0:y.key)&&void 0!==e?e:null,userId:null!==(n=null==y?void 0:y.user_id)&&void 0!==n?n:null,userEmail:null!==(t=null==y?void 0:y.user_email)&&void 0!==t?t:null,userRole:function(e){if(!e)return"Undefined Role";switch(e.toLowerCase()){case"app_owner":case"demo_app_owner":return"App Owner";case"app_admin":case"proxy_admin":return"Admin";case"proxy_admin_viewer":return"Admin Viewer";case"org_admin":return"Org Admin";case"internal_user":return"Internal User";case"internal_user_viewer":case"internal_viewer":return"Internal Viewer";case"app_user":return"App User";default:return"Unknown Role"}}(null!==(c=null==y?void 0:y.user_role)&&void 0!==c?c:null),premiumUser:null!==(d=null==y?void 0:y.premium_user)&&void 0!==d?d:null,disabledPersonalKeyCreation:null!==(f=null==y?void 0:y.disabled_non_admin_personal_key_creation)&&void 0!==f?f:null,showSSOBanner:(null==y?void 0:y.login_method)==="username_password"}}},49282:function(e,n,t){"use strict";var r=t(2265),i=t(39760),a=t(39623);n.Z=()=>{let[e,n]=(0,r.useState)([]),{accessToken:t,userId:o,userRole:l}=(0,i.Z)();return(0,r.useEffect)(()=>{(async()=>{n(await (0,a.Z)(t,o,l,null))})()},[t,o,l]),{teams:e,setTeams:n}}},39623:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(19250);let i=async(e,n,t,i)=>"Admin"!=t&&"Admin Viewer"!=t?await (0,r.teamListCall)(e,(null==i?void 0:i.organization_id)||null,n):await (0,r.teamListCall)(e,(null==i?void 0:i.organization_id)||null)},8786:function(e,n,t){"use strict";t.r(n);var r=t(57437),i=t(51789),a=t(39760),o=t(2265),l=t(49282);n.default=()=>{let{teams:e,setTeams:n}=(0,l.Z)(),[t,u]=(0,o.useState)(()=>new URLSearchParams(window.location.search)),{accessToken:s,userId:c,premiumUser:d,showSSOBanner:f}=(0,a.Z)();return(0,r.jsx)(i.Z,{searchParams:t,accessToken:s,userID:c,setTeams:n,showSSOBanner:f,premiumUser:d})}},21609:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(57437),i=t(57840),a=t(22116),o=t(51653),l=t(76188),u=t(4260),s=t(2265);function c(e){let{isOpen:n,title:t,alertMessage:c,message:d,resourceInformationTitle:f,resourceInformation:m,onCancel:g,onOk:w,confirmLoading:v,requiredConfirmation:y}=e,{Title:p,Text:h}=i.default,[_,x]=(0,s.useState)("");return(0,s.useEffect)(()=>{n&&x("")},[n]),(0,r.jsx)(a.Z,{title:t,open:n,onOk:w,onCancel:g,confirmLoading:v,okText:v?"Deleting...":"Delete",cancelText:"Cancel",okButtonProps:{danger:!0,disabled:!!y&&_!==y||v},cancelButtonProps:{disabled:v},children:(0,r.jsxs)("div",{className:"space-y-4",children:[c&&(0,r.jsx)(o.Z,{message:c,type:"warning"}),(0,r.jsxs)("div",{className:"mt-4 p-4 bg-red-50 rounded-lg border border-red-200",children:[(0,r.jsx)(p,{level:5,className:"mb-3 text-gray-900",children:f}),(0,r.jsx)(l.Z,{column:1,size:"small",children:m&&m.map(e=>{let{label:n,value:t,...i}=e;return(0,r.jsx)(l.Z.Item,{label:(0,r.jsx)("span",{className:"font-semibold text-gray-700",children:n}),children:(0,r.jsx)(h,{...i,children:null!=t?t:"-"})},n)})})]}),(0,r.jsx)("div",{children:(0,r.jsx)(h,{children:d})}),y&&(0,r.jsxs)("div",{className:"mb-6 mt-4 pt-4 border-t border-gray-200",children:[(0,r.jsxs)(h,{className:"block text-base font-medium text-gray-700 mb-2",children:[(0,r.jsx)(h,{children:"Type "}),(0,r.jsx)(h,{strong:!0,type:"danger",children:y}),(0,r.jsx)(h,{children:" to confirm deletion:"})]}),(0,r.jsx)(u.default,{value:_,onChange:e=>x(e.target.value),placeholder:y,className:"rounded-md text-base border-gray-200",autoFocus:!0})]})]})})}},91027:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(57437),i=t(33866),a=t(2265),o=t(9245);function l(e){let n=n=>{"disableShowNewBadge"===n.key&&e()},t=n=>{let{key:t}=n.detail;"disableShowNewBadge"===t&&e()};return window.addEventListener("storage",n),window.addEventListener(o.Qg,t),()=>{window.removeEventListener("storage",n),window.removeEventListener(o.Qg,t)}}function u(){return"true"===(0,o.le)("disableShowNewBadge")}function s(e){let{children:n}=e;return(0,a.useSyncExternalStore)(l,u)?n?(0,r.jsx)(r.Fragment,{children:n}):null:n?(0,r.jsx)(i.Z,{color:"blue",count:"New",children:n}):(0,r.jsx)(i.Z,{color:"blue",count:"New"})}},12363:function(e,n,t){"use strict";t.d(n,{d:function(){return a},n:function(){return i}});var r=t(2265);let i=()=>{let[e,n]=(0,r.useState)("http://localhost:4000");return(0,r.useEffect)(()=>{{let{protocol:e,host:t}=window.location;n("".concat(e,"//").concat(t))}},[]),e},a=25},97060:function(e,n,t){"use strict";t.d(n,{v:function(){return i}});var r=t(14474);function i(e){try{let n=(0,r.o)(e);if(n&&"number"==typeof n.exp)return 1e3*n.exp<=Date.now();return!1}catch(e){return!0}}},9245:function(e,n,t){"use strict";t.d(n,{D$:function(){return o},Qg:function(){return r},e8:function(){return l},le:function(){return a},nO:function(){return i}});let r="local-storage-change";function i(e){window.dispatchEvent(new CustomEvent(r,{detail:{key:e}}))}function a(e){try{return window.localStorage.getItem(e)}catch(n){return console.warn('Error reading localStorage key "'.concat(e,'":'),n),null}}function o(e,n){try{window.localStorage.setItem(e,n)}catch(n){console.warn('Error setting localStorage key "'.concat(e,'":'),n)}}function l(e){try{window.localStorage.removeItem(e)}catch(n){console.warn('Error removing localStorage key "'.concat(e,'":'),n)}}},20347:function(e,n,t){"use strict";t.d(n,{LQ:function(){return a},P4:function(){return l},ZL:function(){return r},_p:function(){return s},lo:function(){return i},tY:function(){return o},yV:function(){return u}});let r=["Admin","Admin Viewer","proxy_admin","proxy_admin_viewer","org_admin"],i=["Internal User","Internal Viewer"],a=["Internal User","Admin","proxy_admin"],o=e=>r.includes(e),l=e=>"proxy_admin"===e||"Admin"===e,u=(e,n)=>null!=e&&e.some(e=>s(e.members_with_roles,n)),s=(e,n)=>null!=e&&e.some(e=>e.user_id===n&&"admin"===e.role)}},function(e){e.O(0,[1047,1954,9409,1713,4865,337,2652,2926,2409,3367,5869,353,3709,7971,3705,3898,1716,9967,6609,2353,5945,4851,1717,4750,7572,8049,1789,2971,2117,1744],function(){return e(e.s=41667)}),_N_E=e.O()}]);