(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{97731:function(e,s,t){Promise.resolve().then(t.bind(t,23278))},23278:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return ey}});var n=t(57437),l=t(2265),a=t(99376),r=t(14474),i=t(21623),o=t(29827),c=t(65373),d=t(69734),m=t(21739),u=t(97382),x=t(77155),p=t(83202),h=t(22004),g=t(90773),f=t(6925),j=t(85809),y=t(10607),Z=t(49104),b=t(33801),v=t(97851),_=t(10293),k=t(62924),w=t(31052),S=t(18143),N=t(44696),C=t(19250),T=t(63298),L=t(30603),D=t(6674),I=t(30874),z=t(39210),R=t(21307),A=t(91162),E=t(9632),P=t(5183),B=t(91323),M=t(10012),O=t(31857),U=t(19226),q=t(45937),F=t(92403),H=t(28595),K=t(68208),V=t(9775),Y=t(41361),W=t(37527),X=t(15883),G=t(12660),J=t(88009),Q=t(48231),$=t(57400),ee=t(58630),es=t(44625),et=t(41169),en=t(38434),el=t(71891),ea=t(55322),er=t(11429),ei=t(20347),eo=t(79262),ec=t(13959);let{Sider:ed}=U.default;var em=e=>{let{accessToken:s,setPage:t,userRole:l,defaultSelectedKey:a,collapsed:r=!1}=e,i=[{key:"1",page:"api-keys",label:"Virtual Keys",icon:(0,n.jsx)(F.Z,{style:{fontSize:"18px"}})},{key:"3",page:"llm-playground",label:"Test Key",icon:(0,n.jsx)(H.Z,{style:{fontSize:"18px"}}),roles:ei.LQ},{key:"2",page:"models",label:"Models + Endpoints",icon:(0,n.jsx)(K.Z,{style:{fontSize:"18px"}}),roles:ei.LQ},{key:"12",page:"new_usage",label:"Usage",icon:(0,n.jsx)(V.Z,{style:{fontSize:"18px"}}),roles:[...ei.ZL,...ei.lo]},{key:"6",page:"teams",label:"Teams",icon:(0,n.jsx)(Y.Z,{style:{fontSize:"18px"}})},{key:"17",page:"organizations",label:"Organizations",icon:(0,n.jsx)(W.Z,{style:{fontSize:"18px"}}),roles:ei.ZL},{key:"5",page:"users",label:"Internal Users",icon:(0,n.jsx)(X.Z,{style:{fontSize:"18px"}}),roles:ei.ZL},{key:"14",page:"api_ref",label:"API Reference",icon:(0,n.jsx)(G.Z,{style:{fontSize:"18px"}})},{key:"16",page:"model-hub-table",label:"Model Hub",icon:(0,n.jsx)(J.Z,{style:{fontSize:"18px"}})},{key:"15",page:"logs",label:"Logs",icon:(0,n.jsx)(Q.Z,{style:{fontSize:"18px"}})},{key:"11",page:"guardrails",label:"Guardrails",icon:(0,n.jsx)($.Z,{style:{fontSize:"18px"}}),roles:ei.ZL},{key:"26",page:"tools",label:"Tools",icon:(0,n.jsx)(ee.Z,{style:{fontSize:"18px"}}),children:[{key:"18",page:"mcp-servers",label:"MCP Servers",icon:(0,n.jsx)(ee.Z,{style:{fontSize:"18px"}})},{key:"21",page:"vector-stores",label:"Vector Stores",icon:(0,n.jsx)(es.Z,{style:{fontSize:"18px"}}),roles:ei.ZL}]},{key:"experimental",page:"experimental",label:"Experimental",icon:(0,n.jsx)(et.Z,{style:{fontSize:"18px"}}),children:[{key:"9",page:"caching",label:"Caching",icon:(0,n.jsx)(es.Z,{style:{fontSize:"18px"}}),roles:ei.ZL},{key:"25",page:"prompts",label:"Prompts",icon:(0,n.jsx)(en.Z,{style:{fontSize:"18px"}}),roles:ei.ZL},{key:"10",page:"budgets",label:"Budgets",icon:(0,n.jsx)(W.Z,{style:{fontSize:"18px"}}),roles:ei.ZL},{key:"20",page:"transform-request",label:"API Playground",icon:(0,n.jsx)(G.Z,{style:{fontSize:"18px"}}),roles:[...ei.ZL,...ei.lo]},{key:"19",page:"tag-management",label:"Tag Management",icon:(0,n.jsx)(el.Z,{style:{fontSize:"18px"}}),roles:ei.ZL},{key:"4",page:"usage",label:"Old Usage",icon:(0,n.jsx)(V.Z,{style:{fontSize:"18px"}})}]},{key:"settings",page:"settings",label:"Settings",icon:(0,n.jsx)(ea.Z,{style:{fontSize:"18px"}}),roles:ei.ZL,children:[{key:"11",page:"general-settings",label:"Router Settings",icon:(0,n.jsx)(ea.Z,{style:{fontSize:"18px"}}),roles:ei.ZL},{key:"8",page:"settings",label:"Logging & Alerts",icon:(0,n.jsx)(ea.Z,{style:{fontSize:"18px"}}),roles:ei.ZL},{key:"13",page:"admin-panel",label:"Admin Settings",icon:(0,n.jsx)(ea.Z,{style:{fontSize:"18px"}}),roles:ei.ZL},{key:"14",page:"ui-theme",label:"UI Theme",icon:(0,n.jsx)(er.Z,{style:{fontSize:"18px"}}),roles:ei.ZL}]}],o=(e=>{let s=i.find(s=>s.page===e);if(s)return s.key;for(let s of i)if(s.children){let t=s.children.find(s=>s.page===e);if(t)return t.key}return"1"})(a),c=i.filter(e=>{let s=!e.roles||e.roles.includes(l);return console.log("Menu item ".concat(e.label,": roles=").concat(e.roles,", userRole=").concat(l,", hasAccess=").concat(s)),!!s&&(e.children&&(e.children=e.children.filter(e=>!e.roles||e.roles.includes(l))),!0)});return(0,n.jsx)(U.default,{style:{minHeight:"100vh"},children:(0,n.jsxs)(ed,{theme:"light",width:220,collapsed:r,collapsedWidth:80,collapsible:!0,trigger:null,style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative"},children:[(0,n.jsx)(ec.ZP,{theme:{components:{Menu:{iconSize:18,fontSize:14}}},children:(0,n.jsx)(q.Z,{mode:"inline",selectedKeys:[o],defaultOpenKeys:r?[]:["llm-tools"],inlineCollapsed:r,className:"custom-sidebar-menu",style:{borderRight:0,backgroundColor:"transparent",fontSize:"14px"},items:c.map(e=>{var s;return{key:e.key,icon:e.icon,label:e.label,children:null===(s=e.children)||void 0===s?void 0:s.map(e=>({key:e.key,icon:e.icon,label:e.label,onClick:()=>{let s=new URLSearchParams(window.location.search);s.set("page",e.page),window.history.pushState(null,"","?".concat(s.toString())),t(e.page)}})),onClick:e.children?void 0:()=>{let s=new URLSearchParams(window.location.search);s.set("page",e.page),window.history.pushState(null,"","?".concat(s.toString())),t(e.page)}}})})}),(0,ei.tY)(l)&&!r&&(0,n.jsx)(eo.Z,{accessToken:s,width:220})]})})},eu=t(92019),ex=t(39760),ep=e=>{let{setPage:s,defaultSelectedKey:t,sidebarCollapsed:l}=e,{refactoredUIFlag:a}=(0,O.Z)(),{accessToken:r,userRole:i}=(0,ex.Z)();return a?(0,n.jsx)(eu.Z,{accessToken:r,defaultSelectedKey:t,userRole:i}):(0,n.jsx)(em,{accessToken:r,setPage:s,userRole:i,defaultSelectedKey:t,collapsed:l})};function eh(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";document.cookie="".concat(e,"=; Max-Age=0; Path=").concat(s)}function eg(e){try{let s=(0,r.o)(e);if(s&&"number"==typeof s.exp)return 1e3*s.exp<=Date.now();return!1}catch(e){return!0}}let ef=new i.S;function ej(){return(0,n.jsxs)("div",{className:(0,M.cx)("h-screen","flex items-center justify-center gap-4"),children:[(0,n.jsx)("div",{className:"text-lg font-medium py-2 pr-4 border-r border-r-gray-200",children:"\uD83D\uDE85 LiteLLM"}),(0,n.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,n.jsx)(B.S,{className:"size-4"}),(0,n.jsx)("span",{className:"text-gray-600 text-sm",children:"Loading..."})]})]})}function ey(){let[e,s]=(0,l.useState)(""),[t,i]=(0,l.useState)(!1),[B,M]=(0,l.useState)(!1),[U,q]=(0,l.useState)(null),[F,H]=(0,l.useState)(null),[K,V]=(0,l.useState)([]),[Y,W]=(0,l.useState)([]),[X,G]=(0,l.useState)([]),[J,Q]=(0,l.useState)({PROXY_BASE_URL:"",PROXY_LOGOUT_URL:""}),[$,ee]=(0,l.useState)(!0),es=(0,a.useSearchParams)(),[et,en]=(0,l.useState)({data:[]}),[el,ea]=(0,l.useState)(null),[er,ei]=(0,l.useState)(!1),[eo,ec]=(0,l.useState)(!0),[ed,em]=(0,l.useState)(null),{refactoredUIFlag:eu}=(0,O.Z)(),ex=es.get("invitation_id"),[ey,eZ]=(0,l.useState)(()=>es.get("page")||"api-keys"),[eb,ev]=(0,l.useState)(null),[e_,ek]=(0,l.useState)(!1),ew=e=>{V(s=>s?[...s,e]:[e]),ei(()=>!er)},eS=!1===eo&&null===el&&null===ex;return((0,l.useEffect)(()=>{let e=!1;return(async()=>{try{await (0,C.getUiConfig)()}catch(e){}if(e)return;let s=function(e){let s=document.cookie.split("; ").find(s=>s.startsWith(e+"="));if(!s)return null;let t=s.slice(e.length+1);try{return decodeURIComponent(t)}catch(e){return t}}("token"),t=s&&!eg(s)?s:null;s&&!t&&eh("token","/"),e||(ea(t),ec(!1))})(),()=>{e=!0}},[]),(0,l.useEffect)(()=>{if(eS){let e=(C.proxyBaseUrl||"")+"/sso/key/generate";window.location.replace(e)}},[eS]),(0,l.useEffect)(()=>{if(!el)return;if(eg(el)){eh("token","/"),ea(null);return}let e=null;try{e=(0,r.o)(el)}catch(e){eh("token","/"),ea(null);return}if(e){if(ev(e.key),M(e.disabled_non_admin_personal_key_creation),e.user_role){let t=function(e){if(!e)return"Undefined Role";switch(e.toLowerCase()){case"app_owner":case"demo_app_owner":return"App Owner";case"app_admin":case"proxy_admin":return"Admin";case"proxy_admin_viewer":return"Admin Viewer";case"org_admin":return"Org Admin";case"internal_user":return"Internal User";case"internal_user_viewer":case"internal_viewer":return"Internal Viewer";case"app_user":return"App User";default:return"Unknown Role"}}(e.user_role);s(t),"Admin Viewer"==t&&eZ("usage")}e.user_email&&q(e.user_email),e.login_method&&ee("username_password"==e.login_method),e.premium_user&&i(e.premium_user),e.auth_header_name&&(0,C.setGlobalLitellmHeaderName)(e.auth_header_name),e.user_id&&em(e.user_id)}},[el]),(0,l.useEffect)(()=>{eb&&ed&&e&&(0,I.Nr)(ed,e,eb,G),eb&&ed&&e&&(0,z.Z)(eb,ed,e,null,H),eb&&(0,h.g)(eb,W)},[eb,ed,e]),eo||eS)?(0,n.jsx)(ej,{}):(0,n.jsx)(l.Suspense,{fallback:(0,n.jsx)(ej,{}),children:(0,n.jsx)(o.aH,{client:ef,children:(0,n.jsx)(d.f,{accessToken:eb,children:ex?(0,n.jsx)(m.Z,{userID:ed,userRole:e,premiumUser:t,teams:F,keys:K,setUserRole:s,userEmail:U,setUserEmail:q,setTeams:H,setKeys:V,organizations:Y,addKey:ew,createClicked:er}):(0,n.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,n.jsx)(c.Z,{userID:ed,userRole:e,premiumUser:t,userEmail:U,setProxySettings:Q,proxySettings:J,accessToken:eb,isPublicPage:!1,sidebarCollapsed:e_,onToggleSidebar:()=>{ek(!e_)}}),(0,n.jsxs)("div",{className:"flex flex-1 overflow-auto",children:[(0,n.jsx)("div",{className:"mt-2",children:(0,n.jsx)(ep,{setPage:e=>{let s=new URLSearchParams(es);s.set("page",e),window.history.pushState(null,"","?".concat(s.toString())),eZ(e)},defaultSelectedKey:ey,sidebarCollapsed:e_})}),"api-keys"==ey?(0,n.jsx)(m.Z,{userID:ed,userRole:e,premiumUser:t,teams:F,keys:K,setUserRole:s,userEmail:U,setUserEmail:q,setTeams:H,setKeys:V,organizations:Y,addKey:ew,createClicked:er}):"models"==ey?(0,n.jsx)(u.Z,{userID:ed,userRole:e,token:el,keys:K,accessToken:eb,modelData:et,setModelData:en,premiumUser:t,teams:F}):"llm-playground"==ey?(0,n.jsx)(w.Z,{userID:ed,userRole:e,token:el,accessToken:eb,disabledPersonalKeyCreation:B}):"users"==ey?(0,n.jsx)(x.Z,{userID:ed,userRole:e,token:el,keys:K,teams:F,accessToken:eb,setKeys:V}):"teams"==ey?(0,n.jsx)(p.Z,{teams:F,setTeams:H,searchParams:es,accessToken:eb,userID:ed,userRole:e,organizations:Y,premiumUser:t}):"organizations"==ey?(0,n.jsx)(h.Z,{organizations:Y,setOrganizations:W,userModels:X,accessToken:eb,userRole:e,premiumUser:t}):"admin-panel"==ey?(0,n.jsx)(g.Z,{setTeams:H,searchParams:es,accessToken:eb,userID:ed,showSSOBanner:$,premiumUser:t,proxySettings:J}):"api_ref"==ey?(0,n.jsx)(k.Z,{proxySettings:J}):"settings"==ey?(0,n.jsx)(f.Z,{userID:ed,userRole:e,accessToken:eb,premiumUser:t}):"budgets"==ey?(0,n.jsx)(Z.Z,{accessToken:eb}):"guardrails"==ey?(0,n.jsx)(T.Z,{accessToken:eb,userRole:e}):"prompts"==ey?(0,n.jsx)(L.Z,{accessToken:eb,userRole:e}):"transform-request"==ey?(0,n.jsx)(D.Z,{accessToken:eb}):"general-settings"==ey?(0,n.jsx)(j.Z,{userID:ed,userRole:e,accessToken:eb,modelData:et}):"ui-theme"==ey?(0,n.jsx)(P.Z,{userID:ed,userRole:e,accessToken:eb}):"model-hub-table"==ey?(0,n.jsx)(v.Z,{accessToken:eb,publicPage:!1,premiumUser:t,userRole:e}):"caching"==ey?(0,n.jsx)(N.Z,{userID:ed,userRole:e,token:el,accessToken:eb,premiumUser:t}):"pass-through-settings"==ey?(0,n.jsx)(y.Z,{userID:ed,userRole:e,accessToken:eb,modelData:et}):"logs"==ey?(0,n.jsx)(b.Z,{userID:ed,userRole:e,token:el,accessToken:eb,allTeams:null!=F?F:[],premiumUser:t}):"mcp-servers"==ey?(0,n.jsx)(R.d,{accessToken:eb,userRole:e,userID:ed}):"tag-management"==ey?(0,n.jsx)(A.Z,{accessToken:eb,userRole:e,userID:ed}):"vector-stores"==ey?(0,n.jsx)(E.Z,{accessToken:eb,userRole:e,userID:ed}):"new_usage"==ey?(0,n.jsx)(_.Z,{userID:ed,userRole:e,accessToken:eb,teams:null!=F?F:[],premiumUser:t}):(0,n.jsx)(S.Z,{userID:ed,userRole:e,token:el,accessToken:eb,keys:K,premiumUser:t})]})]})})})})}},62924:function(e,s,t){"use strict";t.d(s,{Z:function(){return u}});var n=t(57437);t(2265);var l=t(67101),a=t(12485),r=t(18135),i=t(35242),o=t(29706),c=t(77991),d=t(84264),m=t(17906),u=e=>{let{proxySettings:s}=e,t="<your_proxy_base_url>";return s&&s.PROXY_BASE_URL&&void 0!==s.PROXY_BASE_URL&&(t=s.PROXY_BASE_URL),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(l.Z,{className:"gap-2 p-8 h-[80vh] w-full mt-2",children:(0,n.jsxs)("div",{className:"mb-5",children:[(0,n.jsx)("p",{className:"text-2xl text-tremor-content-strong dark:text-dark-tremor-content-strong font-semibold",children:"OpenAI Compatible Proxy: API Reference"}),(0,n.jsxs)(d.Z,{className:"mt-2 mb-2",children:["LiteLLM is OpenAI Compatible. This means your API Key works with the OpenAI SDK. Just replace the base_url to point to your litellm proxy. Example Below"," "]}),(0,n.jsxs)(r.Z,{children:[(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(a.Z,{children:"OpenAI Python SDK"}),(0,n.jsx)(a.Z,{children:"LlamaIndex"}),(0,n.jsx)(a.Z,{children:"Langchain Py"})]}),(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(o.Z,{children:(0,n.jsx)(m.Z,{language:"python",children:'\nimport openai\nclient = openai.OpenAI(\n    api_key="your_api_key",\n    base_url="'.concat(t,'" # LiteLLM Proxy is OpenAI compatible, Read More: https://docs.litellm.ai/docs/proxy/user_keys\n)\n\nresponse = client.chat.completions.create(\n    model="gpt-3.5-turbo", # model to send to the proxy\n    messages = [\n        {\n            "role": "user",\n            "content": "this is a test request, write a short poem"\n        }\n    ]\n)\n\nprint(response)\n            ')})}),(0,n.jsx)(o.Z,{children:(0,n.jsx)(m.Z,{language:"python",children:'\nimport os, dotenv\n\nfrom llama_index.llms import AzureOpenAI\nfrom llama_index.embeddings import AzureOpenAIEmbedding\nfrom llama_index import VectorStoreIndex, SimpleDirectoryReader, ServiceContext\n\nllm = AzureOpenAI(\n    engine="azure-gpt-3.5",               # model_name on litellm proxy\n    temperature=0.0,\n    azure_endpoint="'.concat(t,'", # litellm proxy endpoint\n    api_key="sk-1234",                    # litellm proxy API Key\n    api_version="2023-07-01-preview",\n)\n\nembed_model = AzureOpenAIEmbedding(\n    deployment_name="azure-embedding-model",\n    azure_endpoint="').concat(t,'",\n    api_key="sk-1234",\n    api_version="2023-07-01-preview",\n)\n\n\ndocuments = SimpleDirectoryReader("llama_index_data").load_data()\nservice_context = ServiceContext.from_defaults(llm=llm, embed_model=embed_model)\nindex = VectorStoreIndex.from_documents(documents, service_context=service_context)\n\nquery_engine = index.as_query_engine()\nresponse = query_engine.query("What did the author do growing up?")\nprint(response)\n\n            ')})}),(0,n.jsx)(o.Z,{children:(0,n.jsx)(m.Z,{language:"python",children:'\nfrom langchain.chat_models import ChatOpenAI\nfrom langchain.prompts.chat import (\n    ChatPromptTemplate,\n    HumanMessagePromptTemplate,\n    SystemMessagePromptTemplate,\n)\nfrom langchain.schema import HumanMessage, SystemMessage\n\nchat = ChatOpenAI(\n    openai_api_base="'.concat(t,'",\n    model = "gpt-3.5-turbo",\n    temperature=0.1\n)\n\nmessages = [\n    SystemMessage(\n        content="You are a helpful assistant that im using to make a test request to."\n    ),\n    HumanMessage(\n        content="test from litellm. tell me why it\'s amazing in 1 sentence"\n    ),\n]\nresponse = chat(messages)\n\nprint(response)\n\n            ')})})]})]})]})})})}},49104:function(e,s,t){"use strict";t.d(s,{Z:function(){return E}});var n=t(57437),l=t(2265),a=t(87452),r=t(88829),i=t(72208),o=t(49566),c=t(13634),d=t(82680),m=t(20577),u=t(52787),x=t(73002),p=t(19250),h=t(9114),g=e=>{let{isModalVisible:s,accessToken:t,setIsModalVisible:l,setBudgetList:g}=e,[f]=c.Z.useForm(),j=async e=>{if(null!=t&&void 0!=t)try{h.Z.info("Making API Call");let s=await (0,p.budgetCreateCall)(t,e);console.log("key create Response:",s),g(e=>e?[...e,s]:[s]),h.Z.success("Budget Created"),f.resetFields()}catch(e){console.error("Error creating the key:",e),h.Z.fromBackend("Error creating the key: ".concat(e))}};return(0,n.jsx)(d.Z,{title:"Create Budget",visible:s,width:800,footer:null,onOk:()=>{l(!1),f.resetFields()},onCancel:()=>{l(!1),f.resetFields()},children:(0,n.jsxs)(c.Z,{form:f,onFinish:j,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",children:[(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Z.Item,{label:"Budget ID",name:"budget_id",rules:[{required:!0,message:"Please input a human-friendly name for the budget"}],help:"A human-friendly name for the budget",children:(0,n.jsx)(o.Z,{placeholder:""})}),(0,n.jsx)(c.Z.Item,{label:"Max Tokens per minute",name:"tpm_limit",help:"Default is model limit.",children:(0,n.jsx)(m.Z,{step:1,precision:2,width:200})}),(0,n.jsx)(c.Z.Item,{label:"Max Requests per minute",name:"rpm_limit",help:"Default is model limit.",children:(0,n.jsx)(m.Z,{step:1,precision:2,width:200})}),(0,n.jsxs)(a.Z,{className:"mt-20 mb-8",children:[(0,n.jsx)(i.Z,{children:(0,n.jsx)("b",{children:"Optional Settings"})}),(0,n.jsxs)(r.Z,{children:[(0,n.jsx)(c.Z.Item,{label:"Max Budget (USD)",name:"max_budget",children:(0,n.jsx)(m.Z,{step:.01,precision:2,width:200})}),(0,n.jsx)(c.Z.Item,{className:"mt-8",label:"Reset Budget",name:"budget_duration",children:(0,n.jsxs)(u.default,{defaultValue:null,placeholder:"n/a",children:[(0,n.jsx)(u.default.Option,{value:"24h",children:"daily"}),(0,n.jsx)(u.default.Option,{value:"7d",children:"weekly"}),(0,n.jsx)(u.default.Option,{value:"30d",children:"monthly"})]})})]})]})]}),(0,n.jsx)("div",{style:{textAlign:"right",marginTop:"10px"},children:(0,n.jsx)(x.ZP,{htmlType:"submit",children:"Create Budget"})})]})})},f=e=>{let{isModalVisible:s,accessToken:t,setIsModalVisible:g,setBudgetList:f,existingBudget:j,handleUpdateCall:y}=e;console.log("existingBudget",j);let[Z]=c.Z.useForm();(0,l.useEffect)(()=>{Z.setFieldsValue(j)},[j,Z]);let b=async e=>{if(null!=t&&void 0!=t)try{h.Z.info("Making API Call"),g(!0);let s=await (0,p.budgetUpdateCall)(t,e);f(e=>e?[...e,s]:[s]),h.Z.success("Budget Updated"),Z.resetFields(),y()}catch(e){console.error("Error creating the key:",e),h.Z.fromBackend("Error creating the key: ".concat(e))}};return(0,n.jsx)(d.Z,{title:"Edit Budget",visible:s,width:800,footer:null,onOk:()=>{g(!1),Z.resetFields()},onCancel:()=>{g(!1),Z.resetFields()},children:(0,n.jsxs)(c.Z,{form:Z,onFinish:b,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",initialValues:j,children:[(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Z.Item,{label:"Budget ID",name:"budget_id",rules:[{required:!0,message:"Please input a human-friendly name for the budget"}],help:"A human-friendly name for the budget",children:(0,n.jsx)(o.Z,{placeholder:""})}),(0,n.jsx)(c.Z.Item,{label:"Max Tokens per minute",name:"tpm_limit",help:"Default is model limit.",children:(0,n.jsx)(m.Z,{step:1,precision:2,width:200})}),(0,n.jsx)(c.Z.Item,{label:"Max Requests per minute",name:"rpm_limit",help:"Default is model limit.",children:(0,n.jsx)(m.Z,{step:1,precision:2,width:200})}),(0,n.jsxs)(a.Z,{className:"mt-20 mb-8",children:[(0,n.jsx)(i.Z,{children:(0,n.jsx)("b",{children:"Optional Settings"})}),(0,n.jsxs)(r.Z,{children:[(0,n.jsx)(c.Z.Item,{label:"Max Budget (USD)",name:"max_budget",children:(0,n.jsx)(m.Z,{step:.01,precision:2,width:200})}),(0,n.jsx)(c.Z.Item,{className:"mt-8",label:"Reset Budget",name:"budget_duration",children:(0,n.jsxs)(u.default,{defaultValue:null,placeholder:"n/a",children:[(0,n.jsx)(u.default.Option,{value:"24h",children:"daily"}),(0,n.jsx)(u.default.Option,{value:"7d",children:"weekly"}),(0,n.jsx)(u.default.Option,{value:"30d",children:"monthly"})]})})]})]})]}),(0,n.jsx)("div",{style:{textAlign:"right",marginTop:"10px"},children:(0,n.jsx)(x.ZP,{htmlType:"submit",children:"Save"})})]})})},j=t(20831),y=t(12514),Z=t(47323),b=t(12485),v=t(18135),_=t(35242),k=t(29706),w=t(77991),S=t(21626),N=t(97214),C=t(28241),T=t(58834),L=t(69552),D=t(71876),I=t(84264),z=t(53410),R=t(74998),A=t(17906),E=e=>{let{accessToken:s}=e,[t,a]=(0,l.useState)(!1),[r,i]=(0,l.useState)(!1),[o,c]=(0,l.useState)(null),[d,m]=(0,l.useState)([]);(0,l.useEffect)(()=>{s&&(0,p.getBudgetList)(s).then(e=>{m(e)})},[s]);let u=async(e,t)=>{console.log("budget_id",e),null!=s&&(c(d.find(s=>s.budget_id===e)||null),i(!0))},x=async(e,t)=>{if(null==s)return;h.Z.info("Request made"),await (0,p.budgetDeleteCall)(s,e);let n=[...d];n.splice(t,1),m(n),h.Z.success("Budget Deleted.")},E=async()=>{null!=s&&(0,p.getBudgetList)(s).then(e=>{m(e)})};return(0,n.jsxs)("div",{className:"w-full mx-auto flex-auto overflow-y-auto m-8 p-2",children:[(0,n.jsx)(j.Z,{size:"sm",variant:"primary",className:"mb-2",onClick:()=>a(!0),children:"+ Create Budget"}),(0,n.jsx)(g,{accessToken:s,isModalVisible:t,setIsModalVisible:a,setBudgetList:m}),o&&(0,n.jsx)(f,{accessToken:s,isModalVisible:r,setIsModalVisible:i,setBudgetList:m,existingBudget:o,handleUpdateCall:E}),(0,n.jsxs)(y.Z,{children:[(0,n.jsx)(I.Z,{children:"Create a budget to assign to customers."}),(0,n.jsxs)(S.Z,{children:[(0,n.jsx)(T.Z,{children:(0,n.jsxs)(D.Z,{children:[(0,n.jsx)(L.Z,{children:"Budget ID"}),(0,n.jsx)(L.Z,{children:"Max Budget"}),(0,n.jsx)(L.Z,{children:"TPM"}),(0,n.jsx)(L.Z,{children:"RPM"})]})}),(0,n.jsx)(N.Z,{children:d.slice().sort((e,s)=>new Date(s.updated_at).getTime()-new Date(e.updated_at).getTime()).map((e,s)=>(0,n.jsxs)(D.Z,{children:[(0,n.jsx)(C.Z,{children:e.budget_id}),(0,n.jsx)(C.Z,{children:e.max_budget?e.max_budget:"n/a"}),(0,n.jsx)(C.Z,{children:e.tpm_limit?e.tpm_limit:"n/a"}),(0,n.jsx)(C.Z,{children:e.rpm_limit?e.rpm_limit:"n/a"}),(0,n.jsx)(Z.Z,{icon:z.Z,size:"sm",onClick:()=>u(e.budget_id,s)}),(0,n.jsx)(Z.Z,{icon:R.Z,size:"sm",onClick:()=>x(e.budget_id,s)})]},s))})]})]}),(0,n.jsxs)("div",{className:"mt-5",children:[(0,n.jsx)(I.Z,{className:"text-base",children:"How to use budget id"}),(0,n.jsxs)(v.Z,{children:[(0,n.jsxs)(_.Z,{children:[(0,n.jsx)(b.Z,{children:"Assign Budget to Customer"}),(0,n.jsx)(b.Z,{children:"Test it (Curl)"}),(0,n.jsx)(b.Z,{children:"Test it (OpenAI SDK)"})]}),(0,n.jsxs)(w.Z,{children:[(0,n.jsx)(k.Z,{children:(0,n.jsx)(A.Z,{language:"bash",children:"\ncurl -X POST --location '<your_proxy_base_url>/end_user/new' \n-H 'Authorization: Bearer <your-master-key>' \n-H 'Content-Type: application/json' \n-d '{\"user_id\": \"my-customer-id', \"budget_id\": \"<BUDGET_ID>\"}' # \uD83D\uDC48 KEY CHANGE\n\n            "})}),(0,n.jsx)(k.Z,{children:(0,n.jsx)(A.Z,{language:"bash",children:'\ncurl -X POST --location \'<your_proxy_base_url>/chat/completions\' \n-H \'Authorization: Bearer <your-master-key>\' \n-H \'Content-Type: application/json\' \n-d \'{\n  "model": "gpt-3.5-turbo\', \n  "messages":[{"role": "user", "content": "Hey, how\'s it going?"}],\n  "user": "my-customer-id"\n}\' # \uD83D\uDC48 KEY CHANGE\n\n            '})}),(0,n.jsx)(k.Z,{children:(0,n.jsx)(A.Z,{language:"python",children:'from openai import OpenAI\nclient = OpenAI(\n  base_url="<your_proxy_base_url>",\n  api_key="<your_proxy_key>"\n)\n\ncompletion = client.chat.completions.create(\n  model="gpt-3.5-turbo",\n  messages=[\n    {"role": "system", "content": "You are a helpful assistant."},\n    {"role": "user", "content": "Hello!"}\n  ],\n  user="my-customer-id"\n)\n\nprint(completion.choices[0].message)'})})]})]})]})]})}},91162:function(e,s,t){"use strict";t.d(s,{Z:function(){return M}});var n=t(57437),l=t(2265),a=t(20831),r=t(49804),i=t(67101),o=t(47323),c=t(84264),d=t(49566),m=t(23628),u=t(13634),x=t(82680),p=t(64482),h=t(89970),g=t(52787),f=t(15424),j=t(57018),y=t(30874),Z=t(46468),b=t(19250),v=t(9114),_=e=>{let{tagId:s,onClose:t,accessToken:a,is_admin:r,editTag:i}=e,[o]=u.Z.useForm(),[c,d]=(0,l.useState)(null),[m,x]=(0,l.useState)(i),[_,k]=(0,l.useState)([]),w=async()=>{if(a)try{let e=(await (0,b.tagInfoCall)(a,[s]))[s];e&&(d(e),i&&o.setFieldsValue({name:e.name,description:e.description,models:e.models}))}catch(e){console.error("Error fetching tag details:",e),v.Z.fromBackend("Error fetching tag details: "+e)}};(0,l.useEffect)(()=>{w()},[s,a]),(0,l.useEffect)(()=>{a&&(0,y.Nr)("dummy-user","Admin",a,k)},[a]);let S=async e=>{if(a)try{await (0,b.tagUpdateCall)(a,{name:e.name,description:e.description,models:e.models}),v.Z.success("Tag updated successfully"),x(!1),w()}catch(e){console.error("Error updating tag:",e),v.Z.fromBackend("Error updating tag: "+e)}};return c?(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(j.zx,{onClick:t,className:"mb-4",children:"← Back to Tags"}),(0,n.jsxs)(j.Dx,{children:["Tag Name: ",c.name]}),(0,n.jsx)(j.xv,{className:"text-gray-500",children:c.description||"No description"})]}),r&&!m&&(0,n.jsx)(j.zx,{onClick:()=>x(!0),children:"Edit Tag"})]}),m?(0,n.jsx)(j.Zb,{children:(0,n.jsxs)(u.Z,{form:o,onFinish:S,layout:"vertical",initialValues:c,children:[(0,n.jsx)(u.Z.Item,{label:"Tag Name",name:"name",rules:[{required:!0,message:"Please input a tag name"}],children:(0,n.jsx)(p.default,{})}),(0,n.jsx)(u.Z.Item,{label:"Description",name:"description",children:(0,n.jsx)(p.default.TextArea,{rows:4})}),(0,n.jsx)(u.Z.Item,{label:(0,n.jsxs)("span",{children:["Allowed LLMs"," ",(0,n.jsx)(h.Z,{title:"Select which LLMs are allowed to process this type of data",children:(0,n.jsx)(f.Z,{style:{marginLeft:"4px"}})})]}),name:"models",children:(0,n.jsx)(g.default,{mode:"multiple",placeholder:"Select LLMs",children:_.map(e=>(0,n.jsx)(g.default.Option,{value:e,children:(0,Z.W0)(e)},e))})}),(0,n.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,n.jsx)(j.zx,{onClick:()=>x(!1),children:"Cancel"}),(0,n.jsx)(j.zx,{type:"submit",children:"Save Changes"})]})]})}):(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsxs)(j.Zb,{children:[(0,n.jsx)(j.Dx,{children:"Tag Details"}),(0,n.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(j.xv,{className:"font-medium",children:"Name"}),(0,n.jsx)(j.xv,{children:c.name})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(j.xv,{className:"font-medium",children:"Description"}),(0,n.jsx)(j.xv,{children:c.description||"-"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(j.xv,{className:"font-medium",children:"Allowed LLMs"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:0===c.models.length?(0,n.jsx)(j.Ct,{color:"red",children:"All Models"}):c.models.map(e=>{var s;return(0,n.jsx)(j.Ct,{color:"blue",children:(0,n.jsx)(h.Z,{title:"ID: ".concat(e),children:(null===(s=c.model_info)||void 0===s?void 0:s[e])||e})},e)})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(j.xv,{className:"font-medium",children:"Created"}),(0,n.jsx)(j.xv,{children:c.created_at?new Date(c.created_at).toLocaleString():"-"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(j.xv,{className:"font-medium",children:"Last Updated"}),(0,n.jsx)(j.xv,{children:c.updated_at?new Date(c.updated_at).toLocaleString():"-"})]})]})]})})]}):(0,n.jsx)("div",{children:"Loading..."})},k=t(41649),w=t(21626),S=t(97214),N=t(28241),C=t(58834),T=t(69552),L=t(71876),D=t(53410),I=t(74998),z=t(44633),R=t(86462),A=t(49084),E=t(71594),P=t(24525),B=e=>{let{data:s,onEdit:t,onDelete:r,onSelectTag:i}=e,[d,m]=l.useState([{id:"created_at",desc:!0}]),u=[{header:"Tag Name",accessorKey:"name",cell:e=>{let{row:s}=e,t=s.original;return(0,n.jsx)("div",{className:"overflow-hidden",children:(0,n.jsx)(h.Z,{title:t.name,children:(0,n.jsx)(a.Z,{size:"xs",variant:"light",className:"font-mono text-blue-500 bg-blue-50 hover:bg-blue-100 text-xs font-normal px-2 py-0.5",onClick:()=>i(t.name),children:t.name})})})}},{header:"Description",accessorKey:"description",cell:e=>{let{row:s}=e,t=s.original;return(0,n.jsx)(h.Z,{title:t.description,children:(0,n.jsx)("span",{className:"text-xs",children:t.description||"-"})})}},{header:"Allowed LLMs",accessorKey:"models",cell:e=>{var s,t;let{row:l}=e,a=l.original;return(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:(null==a?void 0:null===(s=a.models)||void 0===s?void 0:s.length)===0?(0,n.jsx)(k.Z,{size:"xs",className:"mb-1",color:"red",children:"All Models"}):null==a?void 0:null===(t=a.models)||void 0===t?void 0:t.map(e=>{var s;return(0,n.jsx)(k.Z,{size:"xs",className:"mb-1",color:"blue",children:(0,n.jsx)(h.Z,{title:"ID: ".concat(e),children:(0,n.jsx)(c.Z,{children:(null===(s=a.model_info)||void 0===s?void 0:s[e])||e})})},e)})})}},{header:"Created",accessorKey:"created_at",sortingFn:"datetime",cell:e=>{let{row:s}=e,t=s.original;return(0,n.jsx)("span",{className:"text-xs",children:new Date(t.created_at).toLocaleDateString()})}},{id:"actions",header:"",cell:e=>{let{row:s}=e,l=s.original;return(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsx)(o.Z,{icon:D.Z,size:"sm",onClick:()=>t(l),className:"cursor-pointer"}),(0,n.jsx)(o.Z,{icon:I.Z,size:"sm",onClick:()=>r(l.name),className:"cursor-pointer"})]})}}],x=(0,E.b7)({data:s,columns:u,state:{sorting:d},onSortingChange:m,getCoreRowModel:(0,P.sC)(),getSortedRowModel:(0,P.tj)(),enableSorting:!0});return(0,n.jsx)("div",{className:"rounded-lg custom-border relative",children:(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)(w.Z,{className:"[&_td]:py-0.5 [&_th]:py-1",children:[(0,n.jsx)(C.Z,{children:x.getHeaderGroups().map(e=>(0,n.jsx)(L.Z,{children:e.headers.map(e=>(0,n.jsx)(T.Z,{className:"py-1 h-8 ".concat("actions"===e.id?"sticky right-0 bg-white shadow-[-4px_0_8px_-6px_rgba(0,0,0,0.1)]":""),onClick:e.column.getToggleSortingHandler(),children:(0,n.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,n.jsx)("div",{className:"flex items-center",children:e.isPlaceholder?null:(0,E.ie)(e.column.columnDef.header,e.getContext())}),"actions"!==e.id&&(0,n.jsx)("div",{className:"w-4",children:e.column.getIsSorted()?({asc:(0,n.jsx)(z.Z,{className:"h-4 w-4 text-blue-500"}),desc:(0,n.jsx)(R.Z,{className:"h-4 w-4 text-blue-500"})})[e.column.getIsSorted()]:(0,n.jsx)(A.Z,{className:"h-4 w-4 text-gray-400"})})]})},e.id))},e.id))}),(0,n.jsx)(S.Z,{children:x.getRowModel().rows.length>0?x.getRowModel().rows.map(e=>(0,n.jsx)(L.Z,{className:"h-8",children:e.getVisibleCells().map(e=>(0,n.jsx)(N.Z,{className:"py-0.5 max-h-8 overflow-hidden text-ellipsis whitespace-nowrap ".concat("actions"===e.column.id?"sticky right-0 bg-white shadow-[-4px_0_8px_-6px_rgba(0,0,0,0.1)]":""),children:(0,E.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,n.jsx)(L.Z,{children:(0,n.jsx)(N.Z,{colSpan:u.length,className:"h-8 text-center",children:(0,n.jsx)("div",{className:"text-center text-gray-500",children:(0,n.jsx)("p",{children:"No tags found"})})})})})]})})})},M=e=>{let{accessToken:s,userID:t,userRole:j}=e,[y,Z]=(0,l.useState)([]),[k,w]=(0,l.useState)(!1),[S,N]=(0,l.useState)(null),[C,T]=(0,l.useState)(!1),[L,D]=(0,l.useState)(!1),[I,z]=(0,l.useState)(null),[R,A]=(0,l.useState)(""),[E]=u.Z.useForm(),[P,M]=(0,l.useState)([]),O=async()=>{if(s)try{let e=await (0,b.tagListCall)(s);console.log("List tags response:",e),Z(Object.values(e))}catch(e){console.error("Error fetching tags:",e),v.Z.fromBackend("Error fetching tags: "+e)}},U=async e=>{if(s)try{await (0,b.tagCreateCall)(s,{name:e.tag_name,description:e.description,models:e.allowed_llms}),v.Z.success("Tag created successfully"),w(!1),E.resetFields(),O()}catch(e){console.error("Error creating tag:",e),v.Z.fromBackend("Error creating tag: "+e)}},q=async e=>{z(e),D(!0)},F=async()=>{if(s&&I){try{await (0,b.tagDeleteCall)(s,I),v.Z.success("Tag deleted successfully"),O()}catch(e){console.error("Error deleting tag:",e),v.Z.fromBackend("Error deleting tag: "+e)}D(!1),z(null)}};return(0,l.useEffect)(()=>{t&&j&&s&&(async()=>{try{let e=await (0,b.modelInfoCall)(s,t,j);e&&e.data&&M(e.data)}catch(e){console.error("Error fetching models:",e),v.Z.fromBackend("Error fetching models: "+e)}})()},[s,t,j]),(0,l.useEffect)(()=>{O()},[s]),(0,n.jsx)("div",{className:"w-full mx-4 h-[75vh]",children:S?(0,n.jsx)(_,{tagId:S,onClose:()=>{N(null),T(!1)},accessToken:s,is_admin:"Admin"===j,editTag:C}):(0,n.jsxs)("div",{className:"gap-2 p-8 h-[75vh] w-full mt-2",children:[(0,n.jsxs)("div",{className:"flex justify-between mt-2 w-full items-center mb-4",children:[(0,n.jsx)("h1",{children:"Tag Management"}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[R&&(0,n.jsxs)(c.Z,{children:["Last Refreshed: ",R]}),(0,n.jsx)(o.Z,{icon:m.Z,variant:"shadow",size:"xs",className:"self-center cursor-pointer",onClick:()=>{O(),A(new Date().toLocaleString())}})]})]}),(0,n.jsxs)(c.Z,{className:"mb-4",children:["Click on a tag name to view and edit its details.",(0,n.jsxs)("p",{children:["You can use tags to restrict the usage of certain LLMs based on tags passed in the request. Read more about tag routing"," ",(0,n.jsx)("a",{href:"https://docs.litellm.ai/docs/proxy/tag_routing",target:"_blank",rel:"noopener noreferrer",children:"here"}),"."]})]}),(0,n.jsx)(a.Z,{className:"mb-4",onClick:()=>w(!0),children:"+ Create New Tag"}),(0,n.jsx)(i.Z,{numItems:1,className:"gap-2 pt-2 pb-2 h-[75vh] w-full mt-2",children:(0,n.jsx)(r.Z,{numColSpan:1,children:(0,n.jsx)(B,{data:y,onEdit:e=>{N(e.name),T(!0)},onDelete:q,onSelectTag:N})})}),(0,n.jsx)(x.Z,{title:"Create New Tag",visible:k,width:800,footer:null,onCancel:()=>{w(!1),E.resetFields()},children:(0,n.jsxs)(u.Z,{form:E,onFinish:U,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",children:[(0,n.jsx)(u.Z.Item,{label:"Tag Name",name:"tag_name",rules:[{required:!0,message:"Please input a tag name"}],children:(0,n.jsx)(d.Z,{})}),(0,n.jsx)(u.Z.Item,{label:"Description",name:"description",children:(0,n.jsx)(p.default.TextArea,{rows:4})}),(0,n.jsx)(u.Z.Item,{label:(0,n.jsxs)("span",{children:["Allowed Models"," ",(0,n.jsx)(h.Z,{title:"Select which LLMs are allowed to process requests from this tag",children:(0,n.jsx)(f.Z,{style:{marginLeft:"4px"}})})]}),name:"allowed_llms",children:(0,n.jsx)(g.default,{mode:"multiple",placeholder:"Select LLMs",children:P.map(e=>(0,n.jsx)(g.default.Option,{value:e.model_info.id,children:(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:e.model_name}),(0,n.jsxs)("span",{className:"text-gray-400 ml-2",children:["(",e.model_info.id,")"]})]})},e.model_info.id))})}),(0,n.jsx)("div",{style:{textAlign:"right",marginTop:"10px"},children:(0,n.jsx)(a.Z,{type:"submit",children:"Create Tag"})})]})}),L&&(0,n.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:(0,n.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,n.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,n.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,n.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[(0,n.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,n.jsx)("div",{className:"sm:flex sm:items-start",children:(0,n.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,n.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Delete Tag"}),(0,n.jsx)("div",{className:"mt-2",children:(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this tag?"})})]})})}),(0,n.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,n.jsx)(a.Z,{onClick:F,color:"red",className:"ml-2",children:"Delete"}),(0,n.jsx)(a.Z,{onClick:()=>{D(!1),z(null)},children:"Cancel"})]})]})]})})]})})}},6674:function(e,s,t){"use strict";t.d(s,{Z:function(){return d}});var n=t(57437),l=t(2265),a=t(73002),r=t(23639),i=t(96761),o=t(19250),c=t(9114),d=e=>{let{accessToken:s}=e,[t,d]=(0,l.useState)('{\n  "model": "openai/gpt-4o",\n  "messages": [\n    {\n      "role": "system",\n      "content": "You are a helpful assistant."\n    },\n    {\n      "role": "user",\n      "content": "Explain quantum computing in simple terms"\n    }\n  ],\n  "temperature": 0.7,\n  "max_tokens": 500,\n  "stream": true\n}'),[m,u]=(0,l.useState)(""),[x,p]=(0,l.useState)(!1),h=(e,s,t)=>{let n=JSON.stringify(s,null,2).split("\n").map(e=>"  ".concat(e)).join("\n"),l=Object.entries(t).map(e=>{let[s,t]=e;return"-H '".concat(s,": ").concat(t,"'")}).join(" \\\n  ");return"curl -X POST \\\n  ".concat(e," \\\n  ").concat(l?"".concat(l," \\\n  "):"","-H 'Content-Type: application/json' \\\n  -d '{\n").concat(n,"\n  }'")},g=async()=>{p(!0);try{let e;try{e=JSON.parse(t)}catch(e){c.Z.fromBackend("Invalid JSON in request body"),p(!1);return}let n={call_type:"completion",request_body:e};if(!s){c.Z.fromBackend("No access token found"),p(!1);return}let l=await (0,o.transformRequestCall)(s,n);if(l.raw_request_api_base&&l.raw_request_body){let e=h(l.raw_request_api_base,l.raw_request_body,l.raw_request_headers||{});u(e),c.Z.success("Request transformed successfully")}else{let e="string"==typeof l?l:JSON.stringify(l);u(e),c.Z.info("Transformed request received in unexpected format")}}catch(e){console.error("Error transforming request:",e),c.Z.fromBackend("Failed to transform request")}finally{p(!1)}};return(0,n.jsxs)("div",{className:"w-full m-2",style:{overflow:"hidden"},children:[(0,n.jsx)(i.Z,{children:"Playground"}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"See how LiteLLM transforms your request for the specified provider."}),(0,n.jsxs)("div",{style:{display:"flex",gap:"16px",width:"100%",minWidth:0,overflow:"hidden"},className:"mt-4",children:[(0,n.jsxs)("div",{style:{flex:"1 1 50%",display:"flex",flexDirection:"column",border:"1px solid #e8e8e8",borderRadius:"8px",padding:"24px",overflow:"hidden",maxHeight:"600px",minWidth:0},children:[(0,n.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,n.jsx)("h2",{style:{fontSize:"24px",fontWeight:"bold",margin:"0 0 4px 0"},children:"Original Request"}),(0,n.jsx)("p",{style:{color:"#666",margin:0},children:"The request you would send to LiteLLM /chat/completions endpoint."})]}),(0,n.jsx)("textarea",{style:{flex:"1 1 auto",width:"100%",minHeight:"240px",padding:"16px",border:"1px solid #e8e8e8",borderRadius:"6px",fontFamily:"monospace",fontSize:"14px",resize:"none",marginBottom:"24px",overflow:"auto"},value:t,onChange:e=>d(e.target.value),onKeyDown:e=>{(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&(e.preventDefault(),g())},placeholder:"Press Cmd/Ctrl + Enter to transform"}),(0,n.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"auto"},children:(0,n.jsxs)(a.ZP,{type:"primary",style:{backgroundColor:"#000",display:"flex",alignItems:"center",gap:"8px"},onClick:g,loading:x,children:[(0,n.jsx)("span",{children:"Transform"}),(0,n.jsx)("span",{children:"→"})]})})]}),(0,n.jsxs)("div",{style:{flex:"1 1 50%",display:"flex",flexDirection:"column",border:"1px solid #e8e8e8",borderRadius:"8px",padding:"24px",overflow:"hidden",maxHeight:"800px",minWidth:0},children:[(0,n.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,n.jsx)("h2",{style:{fontSize:"24px",fontWeight:"bold",margin:"0 0 4px 0"},children:"Transformed Request"}),(0,n.jsx)("p",{style:{color:"#666",margin:0},children:"How LiteLLM transforms your request for the specified provider."}),(0,n.jsx)("br",{}),(0,n.jsx)("p",{style:{color:"#666",margin:0},className:"text-xs",children:"Note: Sensitive headers are not shown."})]}),(0,n.jsxs)("div",{style:{position:"relative",backgroundColor:"#f5f5f5",borderRadius:"6px",flex:"1 1 auto",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,n.jsx)("pre",{style:{padding:"16px",fontFamily:"monospace",fontSize:"14px",margin:0,overflow:"auto",flex:"1 1 auto"},children:m||'curl -X POST \\\n  https://api.openai.com/v1/chat/completions \\\n  -H \'Authorization: Bearer sk-xxx\' \\\n  -H \'Content-Type: application/json\' \\\n  -d \'{\n  "model": "gpt-4",\n  "messages": [\n    {\n      "role": "system",\n      "content": "You are a helpful assistant."\n    }\n  ],\n  "temperature": 0.7\n  }\''}),(0,n.jsx)(a.ZP,{type:"text",icon:(0,n.jsx)(r.Z,{}),style:{position:"absolute",right:"8px",top:"8px"},size:"small",onClick:()=>{navigator.clipboard.writeText(m||""),c.Z.success("Copied to clipboard")}})]})]})]}),(0,n.jsx)("div",{className:"mt-4 text-right w-full",children:(0,n.jsxs)("p",{className:"text-sm text-gray-500",children:["Found an error? File an issue"," ",(0,n.jsx)("a",{href:"https://github.com/BerriAI/litellm/issues",target:"_blank",rel:"noopener noreferrer",children:"here"}),"."]})})]})}},5183:function(e,s,t){"use strict";var n=t(57437),l=t(2265),a=t(19046),r=t(69734),i=t(19250),o=t(9114);s.Z=e=>{let{userID:s,userRole:t,accessToken:c}=e,{logoUrl:d,setLogoUrl:m}=(0,r.F)(),[u,x]=(0,l.useState)(""),[p,h]=(0,l.useState)(!1);(0,l.useEffect)(()=>{c&&g()},[c]);let g=async()=>{try{let s=(0,i.getProxyBaseUrl)(),t=await fetch(s?"".concat(s,"/get/ui_theme_settings"):"/get/ui_theme_settings",{method:"GET",headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json"}});if(t.ok){var e;let s=await t.json(),n=(null===(e=s.values)||void 0===e?void 0:e.logo_url)||"";x(n),m(n||null)}}catch(e){console.error("Error fetching theme settings:",e)}},f=async()=>{h(!0);try{let e=(0,i.getProxyBaseUrl)();if((await fetch(e?"".concat(e,"/update/ui_theme_settings"):"/update/ui_theme_settings",{method:"PATCH",headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json"},body:JSON.stringify({logo_url:u||null})})).ok)o.Z.success("Logo settings updated successfully!"),m(u||null);else throw Error("Failed to update settings")}catch(e){console.error("Error updating logo settings:",e),o.Z.fromBackend("Failed to update logo settings")}finally{h(!1)}},j=async()=>{x(""),m(null),h(!0);try{let e=(0,i.getProxyBaseUrl)();if((await fetch(e?"".concat(e,"/update/ui_theme_settings"):"/update/ui_theme_settings",{method:"PATCH",headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json"},body:JSON.stringify({logo_url:null})})).ok)o.Z.success("Logo reset to default!");else throw Error("Failed to reset logo")}catch(e){console.error("Error resetting logo:",e),o.Z.fromBackend("Failed to reset logo")}finally{h(!1)}};return c?(0,n.jsxs)("div",{className:"w-full mx-auto max-w-4xl px-6 py-8",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)(a.Dx,{className:"text-2xl font-bold mb-2",children:"Logo Customization"}),(0,n.jsx)(a.xv,{className:"text-gray-600",children:"Customize your LiteLLM admin dashboard with a custom logo."})]}),(0,n.jsx)(a.Zb,{className:"shadow-sm p-6",children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(a.xv,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Custom Logo URL"}),(0,n.jsx)(a.oi,{placeholder:"https://example.com/logo.png",value:u,onValueChange:e=>{x(e),m(e||null)},className:"w-full"}),(0,n.jsx)(a.xv,{className:"text-xs text-gray-500 mt-1",children:"Enter a URL for your custom logo or leave empty to use the default LiteLLM logo"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(a.xv,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Current Logo"}),(0,n.jsx)("div",{className:"bg-gray-50 rounded-lg p-6 flex items-center justify-center min-h-[120px]",children:u?(0,n.jsx)("img",{src:u,alt:"Custom logo",className:"max-w-full max-h-24 object-contain",onError:e=>{var s;let t=e.target;t.style.display="none";let n=document.createElement("div");n.className="text-gray-500 text-sm",n.textContent="Failed to load image",null===(s=t.parentElement)||void 0===s||s.appendChild(n)}}):(0,n.jsx)(a.xv,{className:"text-gray-500 text-sm",children:"Default LiteLLM logo will be used"})})]}),(0,n.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,n.jsx)(a.zx,{onClick:f,loading:p,disabled:p,color:"indigo",children:"Save Changes"}),(0,n.jsx)(a.zx,{onClick:j,loading:p,disabled:p,variant:"secondary",color:"gray",children:"Reset to Default"})]})]})})]}):null}}},function(e){e.O(0,[3665,6990,9820,1491,1526,2417,2926,3709,9775,2525,1529,2284,7908,9011,9678,3603,5319,1039,7281,6494,5188,4365,7906,2344,3669,9165,1264,1487,3752,5105,6433,1160,9888,3250,9429,1223,7406,8049,1633,2202,874,4292,2162,2004,5096,7851,7382,293,3801,1307,1052,7155,3298,3202,9632,1739,773,6925,8143,5809,603,2019,4696,2971,2117,1744],function(){return e(e.s=97731)}),_N_E=e.O()}]);