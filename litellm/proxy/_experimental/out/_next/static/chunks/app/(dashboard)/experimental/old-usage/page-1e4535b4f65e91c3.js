(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[813],{38502:function(e,t,r){Promise.resolve().then(r.bind(r,42954))},69993:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(1119),a=r(2265),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 328a60 60 0 10120 0 60 60 0 10-120 0zM852 64H172c-17.7 0-32 14.3-32 32v660c0 17.7 14.3 32 32 32h680c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-32 660H204V128h616v596zM604 328a60 60 0 10120 0 60 60 0 10-120 0zm250.2 556H169.8c-16.5 0-29.8 14.3-29.8 32v36c0 4.4 3.3 8 7.4 8h729.1c4.1 0 7.4-3.6 7.4-8v-36c.1-17.7-13.2-32-29.7-32zM664 508H360c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"robot",theme:"outlined"},o=r(55015),s=a.forwardRef(function(e,t){return a.createElement(o.Z,(0,n.Z)({},e,{ref:t,icon:l}))})},58747:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(5853),a=r(2265);let l=e=>{var t=(0,n._T)(e,[]);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),a.createElement("path",{d:"M11.9999 13.1714L16.9497 8.22168L18.3639 9.63589L11.9999 15.9999L5.63599 9.63589L7.0502 8.22168L11.9999 13.1714Z"}))}},4537:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(5853),a=r(2265);let l=e=>{var t=(0,n._T)(e,[]);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),a.createElement("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 10.5858L9.17157 7.75736L7.75736 9.17157L10.5858 12L7.75736 14.8284L9.17157 16.2426L12 13.4142L14.8284 16.2426L16.2426 14.8284L13.4142 12L16.2426 9.17157L14.8284 7.75736L12 10.5858Z"}))}},47323:function(e,t,r){"use strict";r.d(t,{Z:function(){return b}});var n=r(5853),a=r(2265),l=r(47187),o=r(7084),s=r(13241),i=r(1153),d=r(26898);let c={xs:{paddingX:"px-1.5",paddingY:"py-1.5"},sm:{paddingX:"px-1.5",paddingY:"py-1.5"},md:{paddingX:"px-2",paddingY:"py-2"},lg:{paddingX:"px-2",paddingY:"py-2"},xl:{paddingX:"px-2.5",paddingY:"py-2.5"}},u={xs:{height:"h-3",width:"w-3"},sm:{height:"h-5",width:"w-5"},md:{height:"h-5",width:"w-5"},lg:{height:"h-7",width:"w-7"},xl:{height:"h-9",width:"w-9"}},m={simple:{rounded:"",border:"",ring:"",shadow:""},light:{rounded:"rounded-tremor-default",border:"",ring:"",shadow:""},shadow:{rounded:"rounded-tremor-default",border:"border",ring:"",shadow:"shadow-tremor-card dark:shadow-dark-tremor-card"},solid:{rounded:"rounded-tremor-default",border:"border-2",ring:"ring-1",shadow:""},outlined:{rounded:"rounded-tremor-default",border:"border",ring:"ring-2",shadow:""}},g=(e,t)=>{switch(e){case"simple":return{textColor:t?(0,i.bM)(t,d.K.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",bgColor:"",borderColor:"",ringColor:""};case"light":return{textColor:t?(0,i.bM)(t,d.K.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",bgColor:t?(0,s.q)((0,i.bM)(t,d.K.background).bgColor,"bg-opacity-20"):"bg-tremor-brand-muted dark:bg-dark-tremor-brand-muted",borderColor:"",ringColor:""};case"shadow":return{textColor:t?(0,i.bM)(t,d.K.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",bgColor:t?(0,s.q)((0,i.bM)(t,d.K.background).bgColor,"bg-opacity-20"):"bg-tremor-background dark:bg-dark-tremor-background",borderColor:"border-tremor-border dark:border-dark-tremor-border",ringColor:""};case"solid":return{textColor:t?(0,i.bM)(t,d.K.text).textColor:"text-tremor-brand-inverted dark:text-dark-tremor-brand-inverted",bgColor:t?(0,s.q)((0,i.bM)(t,d.K.background).bgColor,"bg-opacity-20"):"bg-tremor-brand dark:bg-dark-tremor-brand",borderColor:"border-tremor-brand-inverted dark:border-dark-tremor-brand-inverted",ringColor:"ring-tremor-ring dark:ring-dark-tremor-ring"};case"outlined":return{textColor:t?(0,i.bM)(t,d.K.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",bgColor:t?(0,s.q)((0,i.bM)(t,d.K.background).bgColor,"bg-opacity-20"):"bg-tremor-background dark:bg-dark-tremor-background",borderColor:t?(0,i.bM)(t,d.K.ring).borderColor:"border-tremor-brand-subtle dark:border-dark-tremor-brand-subtle",ringColor:t?(0,s.q)((0,i.bM)(t,d.K.ring).ringColor,"ring-opacity-40"):"ring-tremor-brand-muted dark:ring-dark-tremor-brand-muted"}}},h=(0,i.fn)("Icon"),b=a.forwardRef((e,t)=>{let{icon:r,variant:d="simple",tooltip:b,size:x=o.u8.SM,color:f,className:p}=e,v=(0,n._T)(e,["icon","variant","tooltip","size","color","className"]),w=g(d,f),{tooltipProps:y,getReferenceProps:k}=(0,l.l)();return a.createElement("span",Object.assign({ref:(0,i.lq)([t,y.refs.setReference]),className:(0,s.q)(h("root"),"inline-flex shrink-0 items-center justify-center",w.bgColor,w.textColor,w.borderColor,w.ringColor,m[d].rounded,m[d].border,m[d].shadow,m[d].ring,c[x].paddingX,c[x].paddingY,p)},k,v),a.createElement(l.Z,Object.assign({text:b},y)),a.createElement(r,{className:(0,s.q)(h("icon"),"shrink-0",u[x].height,u[x].width)}))});b.displayName="Icon"},27281:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(5853),a=r(58747),l=r(2265),o=r(4537),s=r(13241),i=r(1153),d=r(96398),c=r(51975),u=r(85238),m=r(44140);let g=(0,i.fn)("Select"),h=l.forwardRef((e,t)=>{let{defaultValue:r="",value:i,onValueChange:h,placeholder:b="Select...",disabled:x=!1,icon:f,enableClear:p=!1,required:v,children:w,name:y,error:k=!1,errorMessage:j,className:N,id:C}=e,E=(0,n._T)(e,["defaultValue","value","onValueChange","placeholder","disabled","icon","enableClear","required","children","name","error","errorMessage","className","id"]),S=(0,l.useRef)(null),Z=l.Children.toArray(w),[M,_]=(0,m.Z)(r,i),T=(0,l.useMemo)(()=>{let e=l.Children.toArray(w).filter(l.isValidElement);return(0,d.sl)(e)},[w]);return l.createElement("div",{className:(0,s.q)("w-full min-w-[10rem] text-tremor-default",N)},l.createElement("div",{className:"relative"},l.createElement("select",{title:"select-hidden",required:v,className:(0,s.q)("h-full w-full absolute left-0 top-0 -z-10 opacity-0"),value:M,onChange:e=>{e.preventDefault()},name:y,disabled:x,id:C,onFocus:()=>{let e=S.current;e&&e.focus()}},l.createElement("option",{className:"hidden",value:"",disabled:!0,hidden:!0},b),Z.map(e=>{let t=e.props.value,r=e.props.children;return l.createElement("option",{className:"hidden",key:t,value:t},r)})),l.createElement(c.Ri,Object.assign({as:"div",ref:t,defaultValue:M,value:M,onChange:e=>{null==h||h(e),_(e)},disabled:x,id:C},E),e=>{var t;let{value:r}=e;return l.createElement(l.Fragment,null,l.createElement(c.Y4,{ref:S,className:(0,s.q)("w-full outline-none text-left whitespace-nowrap truncate rounded-tremor-default focus:ring-2 transition duration-100 border pr-8 py-2","border-tremor-border shadow-tremor-input focus:border-tremor-brand-subtle focus:ring-tremor-brand-muted","dark:border-dark-tremor-border dark:shadow-dark-tremor-input dark:focus:border-dark-tremor-brand-subtle dark:focus:ring-dark-tremor-brand-muted",f?"pl-10":"pl-3",(0,d.um)((0,d.Uh)(r),x,k))},f&&l.createElement("span",{className:(0,s.q)("absolute inset-y-0 left-0 flex items-center ml-px pl-2.5")},l.createElement(f,{className:(0,s.q)(g("Icon"),"flex-none h-5 w-5","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})),l.createElement("span",{className:"w-[90%] block truncate"},r&&null!==(t=T.get(r))&&void 0!==t?t:b),l.createElement("span",{className:(0,s.q)("absolute inset-y-0 right-0 flex items-center mr-3")},l.createElement(a.Z,{className:(0,s.q)(g("arrowDownIcon"),"flex-none h-5 w-5","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")}))),p&&M?l.createElement("button",{type:"button",className:(0,s.q)("absolute inset-y-0 right-0 flex items-center mr-8"),onClick:e=>{e.preventDefault(),_(""),null==h||h("")}},l.createElement(o.Z,{className:(0,s.q)(g("clearIcon"),"flex-none h-4 w-4","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})):null,l.createElement(u.u,{enter:"transition ease duration-100 transform",enterFrom:"opacity-0 -translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"transition ease duration-100 transform",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-4"},l.createElement(c.O_,{anchor:"bottom start",className:(0,s.q)("z-10 w-[var(--button-width)] divide-y overflow-y-auto outline-none rounded-tremor-default max-h-[228px]  border [--anchor-gap:4px]","bg-tremor-background border-tremor-border divide-tremor-border shadow-tremor-dropdown","dark:bg-dark-tremor-background dark:border-dark-tremor-border dark:divide-dark-tremor-border dark:shadow-dark-tremor-dropdown")},w)))})),k&&j?l.createElement("p",{className:(0,s.q)("errorMessage","text-sm text-rose-500 mt-1")},j):null)});h.displayName="Select"},96889:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(5853),a=r(2265),l=r(26898),o=r(13241),s=r(1153);let i=(0,s.fn)("BarList");function d(e,t){let{data:r=[],color:d,valueFormatter:c=s.Cj,showAnimation:u=!1,onValueChange:m,sortOrder:g="descending",className:h}=e,b=(0,n._T)(e,["data","color","valueFormatter","showAnimation","onValueChange","sortOrder","className"]),x=m?"button":"div",f=a.useMemo(()=>"none"===g?r:[...r].sort((e,t)=>"ascending"===g?e.value-t.value:t.value-e.value),[r,g]),p=a.useMemo(()=>{let e=Math.max(...f.map(e=>e.value),0);return f.map(t=>0===t.value?0:Math.max(t.value/e*100,2))},[f]);return a.createElement("div",Object.assign({ref:t,className:(0,o.q)(i("root"),"flex justify-between space-x-6",h),"aria-sort":g},b),a.createElement("div",{className:(0,o.q)(i("bars"),"relative w-full space-y-1.5")},f.map((e,t)=>{var r,n,c;let g=e.icon;return a.createElement(x,{key:null!==(r=e.key)&&void 0!==r?r:t,onClick:()=>{null==m||m(e)},className:(0,o.q)(i("bar"),"group w-full flex items-center rounded-tremor-small",m?["cursor-pointer","hover:bg-tremor-background-muted dark:hover:bg-dark-tremor-background-subtle/40"]:"")},a.createElement("div",{className:(0,o.q)("flex items-center rounded transition-all bg-opacity-40","h-8",e.color||d?[(0,s.bM)(null!==(n=e.color)&&void 0!==n?n:d,l.K.background).bgColor,m?"group-hover:bg-opacity-30":""]:"bg-tremor-brand-subtle dark:bg-dark-tremor-brand-subtle/60",!m||e.color||d?"":"group-hover:bg-tremor-brand-subtle/30 group-hover:dark:bg-dark-tremor-brand-subtle/70",t===f.length-1?"mb-0":"",u?"duration-500":""),style:{width:"".concat(p[t],"%"),transition:u?"all 1s":""}},a.createElement("div",{className:(0,o.q)("absolute left-2 pr-4 flex max-w-full")},g?a.createElement(g,{className:(0,o.q)(i("barIcon"),"flex-none h-5 w-5 mr-2","text-tremor-content","dark:text-dark-tremor-content")}):null,e.href?a.createElement("a",{href:e.href,target:null!==(c=e.target)&&void 0!==c?c:"_blank",rel:"noreferrer",className:(0,o.q)(i("barLink"),"whitespace-nowrap hover:underline truncate text-tremor-default",m?"cursor-pointer":"","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis"),onClick:e=>e.stopPropagation()},e.name):a.createElement("p",{className:(0,o.q)(i("barText"),"whitespace-nowrap truncate text-tremor-default","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis")},e.name))))})),a.createElement("div",{className:i("labels")},f.map((e,t)=>{var r;return a.createElement("div",{key:null!==(r=e.key)&&void 0!==r?r:t,className:(0,o.q)(i("labelWrapper"),"flex justify-end items-center","h-8",t===f.length-1?"mb-0":"mb-1.5")},a.createElement("p",{className:(0,o.q)(i("labelText"),"whitespace-nowrap leading-none truncate text-tremor-default","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis")},c(e.value)))})))}d.displayName="BarList";let c=a.forwardRef(d)},2651:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n=r(93463),a=r(11938),l=r(70774),o=r(73602),s=r(91691),i=r(25119),d=r(37628),c=r(32417),u=r(4877),m=r(57943),g=r(12789),h=r(54558);let b=(e,t)=>new h.t(e).setA(t).toRgbString(),x=(e,t)=>new h.t(e).lighten(t).toHexString(),f=e=>{let t=(0,m.R_)(e,{theme:"dark"});return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[6],6:t[5],7:t[4],8:t[6],9:t[5],10:t[4]}},p=(e,t)=>{let r=e||"#000",n=t||"#fff";return{colorBgBase:r,colorTextBase:n,colorText:b(n,.85),colorTextSecondary:b(n,.65),colorTextTertiary:b(n,.45),colorTextQuaternary:b(n,.25),colorFill:b(n,.18),colorFillSecondary:b(n,.12),colorFillTertiary:b(n,.08),colorFillQuaternary:b(n,.04),colorBgSolid:b(n,.95),colorBgSolidHover:b(n,1),colorBgSolidActive:b(n,.9),colorBgElevated:x(r,12),colorBgContainer:x(r,8),colorBgLayout:x(r,0),colorBgSpotlight:x(r,26),colorBgBlur:b(n,.04),colorBorder:x(r,26),colorBorderSecondary:x(r,19)}};var v={defaultSeed:i.u_.token,useToken:function(){let[e,t,r]=(0,s.ZP)();return{theme:e,token:t,hashId:r}},defaultAlgorithm:d.Z,darkAlgorithm:(e,t)=>{let r=Object.keys(l.M).map(t=>{let r=(0,m.R_)(e[t],{theme:"dark"});return Array.from({length:10},()=>1).reduce((e,n,a)=>(e["".concat(t,"-").concat(a+1)]=r[a],e["".concat(t).concat(a+1)]=r[a],e),{})}).reduce((e,t)=>e=Object.assign(Object.assign({},e),t),{}),n=null!=t?t:(0,d.Z)(e),a=(0,g.Z)(e,{generateColorPalettes:f,generateNeutralColorPalettes:p});return Object.assign(Object.assign(Object.assign(Object.assign({},n),r),a),{colorPrimaryBg:a.colorPrimaryBorder,colorPrimaryBgHover:a.colorPrimaryBorderHover})},compactAlgorithm:(e,t)=>{let r=null!=t?t:(0,d.Z)(e),n=r.fontSizeSM,a=r.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},r),function(e){let{sizeUnit:t,sizeStep:r}=e,n=r-2;return{sizeXXL:t*(n+10),sizeXL:t*(n+6),sizeLG:t*(n+2),sizeMD:t*(n+2),sizeMS:t*(n+1),size:t*n,sizeSM:t*n,sizeXS:t*(n-1),sizeXXS:t*(n-1)}}(null!=t?t:e)),(0,u.Z)(n)),{controlHeight:a}),(0,c.Z)(Object.assign(Object.assign({},r),{controlHeight:a})))},getDesignToken:e=>{let t=(null==e?void 0:e.algorithm)?(0,n.jG)(e.algorithm):a.Z,r=Object.assign(Object.assign({},l.Z),null==e?void 0:e.token);return(0,n.t2)(r,{override:null==e?void 0:e.token},t,o.Z)},defaultConfig:i.u_,_internalContext:i.Mj}},19130:function(e,t,r){"use strict";r.d(t,{RM:function(){return a.Z},SC:function(){return i.Z},iA:function(){return n.Z},pj:function(){return l.Z},ss:function(){return o.Z},xs:function(){return s.Z}});var n=r(21626),a=r(97214),l=r(28241),o=r(58834),s=r(69552),i=r(71876)},42954:function(e,t,r){"use strict";r.r(t);var n=r(57437),a=r(18143),l=r(39760),o=r(2265);t.default=()=>{let{accessToken:e,token:t,userRole:r,userId:s,premiumUser:i}=(0,l.Z)(),[d,c]=(0,o.useState)([]);return(0,n.jsx)(a.Z,{accessToken:e,token:t,userRole:r,userID:s,keys:d,premiumUser:i})}},57589:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(57437),a=r(39760),l=r(44633),o=r(86462),s=r(40278),i=r(78489),d=r(99981),c=r(10968),u=r(2265),m=r(59872);let g=e=>{let{key:t,info:r}=e;return{token:t,...r}};var h=r(19250),b=r(50665),x=r(12322),f=e=>{let{topKeys:t,teams:r,showTags:f=!1,topKeysLimit:p,setTopKeysLimit:v}=e,{accessToken:w,userRole:y,userId:k,premiumUser:j}=(0,a.Z)(),[N,C]=(0,u.useState)(!1),[E,S]=(0,u.useState)(null),[Z,M]=(0,u.useState)(void 0),[_,T]=(0,u.useState)("table"),[L,R]=(0,u.useState)(new Set),q=e=>{R(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},z=async e=>{if(w)try{let t=await (0,h.keyInfoV1Call)(w,e.api_key),r=g(t);M(r),S(e.api_key),C(!0)}catch(e){console.error("Error fetching key info:",e)}},O=()=>{C(!1),S(null),M(void 0)};u.useEffect(()=>{let e=e=>{"Escape"===e.key&&N&&O()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[N]);let V=[{header:"Key ID",accessorKey:"api_key",cell:e=>(0,n.jsx)("div",{className:"overflow-hidden",children:(0,n.jsx)(d.Z,{title:e.getValue(),children:(0,n.jsx)(i.Z,{size:"xs",variant:"light",className:"font-mono text-blue-500 bg-blue-50 hover:bg-blue-100 text-xs font-normal px-2 py-0.5 text-left overflow-hidden truncate max-w-[200px]",onClick:()=>z(e.row.original),children:e.getValue()?"".concat(e.getValue().slice(0,7),"..."):"-"})})})},{header:"Key Alias",accessorKey:"key_alias",cell:e=>e.getValue()||"-"}],D={header:"Spend (USD)",accessorKey:"spend",cell:e=>{let t=e.getValue();return t>0&&t<.01?"<$0.01":"$".concat((0,m.pw)(t,2))}},P=f?[...V,{header:"Tags",accessorKey:"tags",cell:e=>{let t=e.getValue(),r=e.row.original.api_key,a=L.has(r);if(!t||0===t.length)return"-";let s=t.sort((e,t)=>t.usage-e.usage),i=a?s:s.slice(0,2),c=t.length>2;return(0,n.jsx)("div",{className:"overflow-hidden",children:(0,n.jsxs)("div",{className:"flex flex-wrap items-center gap-1",children:[i.map((e,t)=>(0,n.jsx)(d.Z,{title:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-gray-300",children:"Tag Name:"})," ",e.tag]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-gray-300",children:"Spend:"})," ",e.usage>0&&e.usage<.01?"<$0.01":"$".concat((0,m.pw)(e.usage,2))]})]}),children:(0,n.jsxs)("span",{className:"px-2 py-1 bg-gray-100 rounded-full text-xs",children:[e.tag.slice(0,7),"..."]})},t)),c&&(0,n.jsx)("button",{onClick:()=>q(r),className:"ml-1 p-1 hover:bg-gray-200 rounded-full transition-colors",title:a?"Show fewer tags":"Show all tags",children:a?(0,n.jsx)(l.Z,{className:"h-3 w-3 text-gray-500"}):(0,n.jsx)(o.Z,{className:"h-3 w-3 text-gray-500"})})]})})}},D]:[...V,D],A=t.map(e=>({...e,display_key_alias:e.key_alias&&e.key_alias.length>10?"".concat(e.key_alias.slice(0,10),"..."):e.key_alias||"-"}));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,n.jsx)(c.Z,{options:[{label:"5",value:5},{label:"10",value:10},{label:"25",value:25},{label:"50",value:50}],value:p,onChange:e=>v(e)}),(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsx)("button",{onClick:()=>T("table"),className:"px-3 py-1 text-sm rounded-md ".concat("table"===_?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"),children:"Table View"}),(0,n.jsx)("button",{onClick:()=>T("chart"),className:"px-3 py-1 text-sm rounded-md ".concat("chart"===_?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"),children:"Chart View"})]})]}),"chart"===_?(0,n.jsx)("div",{className:"relative max-h-[600px] overflow-y-auto",children:(0,n.jsx)(s.Z,{className:"mt-4 cursor-pointer hover:opacity-90",style:{height:52*Math.min(A.length,p)},data:A,index:"display_key_alias",categories:["spend"],colors:["cyan"],yAxisWidth:120,tickGap:5,layout:"vertical",showLegend:!1,valueFormatter:e=>"$".concat((0,m.pw)(e,2)),onValueChange:e=>z(e),showTooltip:!0,customTooltip:e=>{var t,r;let a=null===(r=e.payload)||void 0===r?void 0:null===(t=r[0])||void 0===t?void 0:t.payload;return(0,n.jsx)("div",{className:"relative z-50 p-3 bg-black/90 shadow-lg rounded-lg text-white max-w-xs",children:(0,n.jsxs)("div",{className:"space-y-1.5",children:[(0,n.jsxs)("div",{className:"text-sm",children:[(0,n.jsx)("span",{className:"text-gray-300",children:"Key Alias: "}),(0,n.jsx)("span",{className:"font-mono text-gray-100 break-all",children:null==a?void 0:a.key_alias})]}),(0,n.jsxs)("div",{className:"text-sm",children:[(0,n.jsx)("span",{className:"text-gray-300",children:"Key ID: "}),(0,n.jsx)("span",{className:"font-mono text-gray-100 break-all",children:null==a?void 0:a.api_key})]}),(0,n.jsxs)("div",{className:"text-sm",children:[(0,n.jsx)("span",{className:"text-gray-300",children:"Spend: "}),(0,n.jsxs)("span",{className:"text-white font-medium",children:["$",(0,m.pw)(null==a?void 0:a.spend,2)]})]})]})})}})}):(0,n.jsx)("div",{className:"border rounded-lg overflow-hidden max-h-[600px] overflow-y-auto",children:(0,n.jsx)(x.w,{columns:P,data:t,renderSubComponent:()=>(0,n.jsx)(n.Fragment,{}),getRowCanExpand:()=>!1,isLoading:!1})}),N&&E&&Z&&(console.log("Rendering modal with:",{isModalOpen:N,selectedKey:E,keyData:Z}),(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e=>{e.target===e.currentTarget&&O()},children:(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-xl relative w-11/12 max-w-6xl max-h-[90vh] overflow-y-auto min-h-[750px]",children:[(0,n.jsx)("button",{onClick:O,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 focus:outline-none","aria-label":"Close",children:(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),(0,n.jsx)("div",{className:"p-6 h-full",children:(0,n.jsx)(b.Z,{keyId:E,onClose:O,keyData:Z,teams:r})})]})}))]})}},39789:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(57437),a=r(2265),l=r(88237),o=r(84264),s=e=>{let{value:t,onValueChange:r,label:s="Select Time Range",className:i="",showTimeRange:d=!0}=e,[c,u]=(0,a.useState)(!1),m=(0,a.useRef)(null),g=(0,a.useCallback)(e=>{u(!0),setTimeout(()=>u(!1),1500),r(e),requestIdleCallback(()=>{if(e.from){let t;let n={...e},a=new Date(e.from);t=new Date(e.to?e.to:e.from),a.toDateString(),t.toDateString(),a.setHours(0,0,0,0),t.setHours(23,59,59,999),n.from=a,n.to=t,r(n)}},{timeout:100})},[r]),h=(0,a.useCallback)((e,t)=>{if(!e||!t)return"";let r=e=>e.toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZoneName:"short"});if(e.toDateString()!==t.toDateString())return"".concat(r(e)," - ").concat(r(t));{let r=e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),n=e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),a=t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZoneName:"short"});return"".concat(r,": ").concat(n," - ").concat(a)}},[]);return(0,n.jsxs)("div",{className:i,children:[s&&(0,n.jsx)(o.Z,{className:"mb-2",children:s}),(0,n.jsxs)("div",{className:"relative w-fit",children:[(0,n.jsx)("div",{ref:m,children:(0,n.jsx)(l.Z,{enableSelect:!0,value:t,onValueChange:g,placeholder:"Select date range",enableClear:!1,style:{zIndex:100}})}),c&&(0,n.jsx)("div",{className:"absolute top-1/2 animate-pulse",style:{left:"calc(100% + 8px)",transform:"translateY(-50%)",zIndex:110},children:(0,n.jsxs)("div",{className:"flex items-center gap-1 text-green-600 text-sm font-medium bg-white px-2 py-1 rounded-full border border-green-200 shadow-sm whitespace-nowrap",children:[(0,n.jsx)("div",{className:"w-3 h-3 bg-green-500 text-white rounded-full flex items-center justify-center text-xs",children:"âœ“"}),(0,n.jsx)("span",{className:"text-xs",children:"Selected"})]})})]}),d&&t.from&&t.to&&(0,n.jsx)(o.Z,{className:"mt-2 text-xs text-gray-500",children:h(t.from,t.to)})]})}},12322:function(e,t,r){"use strict";r.d(t,{w:function(){return i}});var n=r(57437),a=r(2265),l=r(71594),o=r(24525),s=r(19130);function i(e){let{data:t=[],columns:r,onRowClick:i,renderSubComponent:d,getRowCanExpand:c,isLoading:u=!1,loadingMessage:m="\uD83D\uDE85 Loading logs...",noDataMessage:g="No logs found"}=e,h=!!d&&!!c,b=(0,l.b7)({data:t,columns:r,...h&&{getRowCanExpand:c},getRowId:(e,t)=>{var r;return null!==(r=null==e?void 0:e.request_id)&&void 0!==r?r:String(t)},getCoreRowModel:(0,o.sC)(),...h&&{getExpandedRowModel:(0,o.rV)()}});return(0,n.jsx)("div",{className:"rounded-lg custom-border overflow-x-auto w-full max-w-full box-border",children:(0,n.jsxs)(s.iA,{className:"[&_td]:py-0.5 [&_th]:py-1 table-fixed w-full box-border",style:{minWidth:"400px"},children:[(0,n.jsx)(s.ss,{children:b.getHeaderGroups().map(e=>(0,n.jsx)(s.SC,{children:e.headers.map(e=>(0,n.jsx)(s.xs,{className:"py-1 h-8",children:e.isPlaceholder?null:(0,l.ie)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,n.jsx)(s.RM,{children:u?(0,n.jsx)(s.SC,{children:(0,n.jsx)(s.pj,{colSpan:r.length,className:"h-8 text-center",children:(0,n.jsx)("div",{className:"text-center text-gray-500",children:(0,n.jsx)("p",{children:m})})})}):b.getRowModel().rows.length>0?b.getRowModel().rows.map(e=>(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(s.SC,{className:"h-8 ".concat(h?"":"cursor-pointer hover:bg-gray-50"),onClick:()=>!h&&(null==i?void 0:i(e.original)),children:e.getVisibleCells().map(e=>(0,n.jsx)(s.pj,{className:"py-0.5 max-h-8 overflow-hidden text-ellipsis whitespace-nowrap",children:(0,l.ie)(e.column.columnDef.cell,e.getContext())},e.id))}),h&&e.getIsExpanded()&&d&&(0,n.jsx)(s.SC,{children:(0,n.jsx)(s.pj,{colSpan:e.getVisibleCells().length,className:"p-0",children:(0,n.jsx)("div",{className:"w-full max-w-full overflow-hidden box-border",children:d({row:e})})})})]},e.id)):(0,n.jsx)(s.SC,{children:(0,n.jsx)(s.pj,{colSpan:r.length,className:"h-8 text-center",children:(0,n.jsx)("div",{className:"text-center text-gray-500",children:(0,n.jsx)("p",{children:g})})})})})]})})}},47375:function(e,t,r){"use strict";var n=r(57437),a=r(2265),l=r(19250),o=r(59872),s=r(39760);t.Z=e=>{let{userSpend:t,userMaxBudget:r,selectedTeam:i}=e,{accessToken:d,userRole:c,userId:u}=(0,s.Z)(),[m,g]=(0,a.useState)(null!==t?t:0),[h,b]=(0,a.useState)(i?Number((0,o.pw)(i.max_budget,4)):null);(0,a.useEffect)(()=>{if(i){if("Default Team"===i.team_alias)b(r);else{let e=!1;if(i.team_memberships)for(let t of i.team_memberships)t.user_id===u&&"max_budget"in t.litellm_budget_table&&null!==t.litellm_budget_table.max_budget&&(b(t.litellm_budget_table.max_budget),e=!0);e||b(i.max_budget)}}else b(r)},[i,r]);let[x,f]=(0,a.useState)([]);(0,a.useEffect)(()=>{let e=async()=>{if(!d||!u||!c)return};(async()=>{try{if(null===u||null===c)return;if(null!==d){let e=(await (0,l.modelAvailableCall)(d,u,c)).data.map(e=>e.id);console.log("available_model_names:",e),f(e)}}catch(e){console.error("Error fetching user models:",e)}})(),e()},[c,d,u]),(0,a.useEffect)(()=>{null!==t&&g(t)},[t]);let p=[];i&&i.models&&(p=i.models),p&&p.includes("all-proxy-models")?(console.log("user models:",x),p=x):p&&p.includes("all-team-models")?p=i.models:p&&0===p.length&&(p=x);let v=null!==h?"$".concat((0,o.pw)(Number(h),4)," limit"):"No limit",w=void 0!==m?(0,o.pw)(m,4):null;return console.log("spend in view user spend: ".concat(m)),(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsxs)("div",{className:"flex justify-between gap-x-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-tremor-default text-tremor-content dark:text-dark-tremor-content",children:"Total Spend"}),(0,n.jsxs)("p",{className:"text-2xl text-tremor-content-strong dark:text-dark-tremor-content-strong font-semibold",children:["$",w]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-tremor-default text-tremor-content dark:text-dark-tremor-content",children:"Max Budget"}),(0,n.jsx)("p",{className:"text-2xl text-tremor-content-strong dark:text-dark-tremor-content-strong font-semibold",children:v})]})]})})}},85238:function(e,t,r){"use strict";let n;r.d(t,{u:function(){return Z}});var a=r(2265),l=r(59456),o=r(93980),s=r(25289),i=r(73389),d=r(43507),c=r(180),u=r(67561),m=r(98218),g=r(28294),h=r(95504),b=r(72468),x=r(38929);function f(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||(null!=(t=e.as)?t:j)!==a.Fragment||1===a.Children.count(e.children)}let p=(0,a.createContext)(null);p.displayName="TransitionContext";var v=((n=v||{}).Visible="visible",n.Hidden="hidden",n);let w=(0,a.createContext)(null);function y(e){return"children"in e?y(e.children):e.current.filter(e=>{let{el:t}=e;return null!==t.current}).filter(e=>{let{state:t}=e;return"visible"===t}).length>0}function k(e,t){let r=(0,d.E)(e),n=(0,a.useRef)([]),i=(0,s.t)(),c=(0,l.G)(),u=(0,o.z)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.l4.Hidden,a=n.current.findIndex(t=>{let{el:r}=t;return r===e});-1!==a&&((0,b.E)(t,{[x.l4.Unmount](){n.current.splice(a,1)},[x.l4.Hidden](){n.current[a].state="hidden"}}),c.microTask(()=>{var e;!y(n)&&i.current&&(null==(e=r.current)||e.call(r))}))}),m=(0,o.z)(e=>{let t=n.current.find(t=>{let{el:r}=t;return r===e});return t?"visible"!==t.state&&(t.state="visible"):n.current.push({el:e,state:"visible"}),()=>u(e,x.l4.Unmount)}),g=(0,a.useRef)([]),h=(0,a.useRef)(Promise.resolve()),f=(0,a.useRef)({enter:[],leave:[]}),p=(0,o.z)((e,r,n)=>{g.current.splice(0),t&&(t.chains.current[r]=t.chains.current[r].filter(t=>{let[r]=t;return r!==e})),null==t||t.chains.current[r].push([e,new Promise(e=>{g.current.push(e)})]),null==t||t.chains.current[r].push([e,new Promise(e=>{Promise.all(f.current[r].map(e=>{let[t,r]=e;return r})).then(()=>e())})]),"enter"===r?h.current=h.current.then(()=>null==t?void 0:t.wait.current).then(()=>n(r)):n(r)}),v=(0,o.z)((e,t,r)=>{Promise.all(f.current[t].splice(0).map(e=>{let[t,r]=e;return r})).then(()=>{var e;null==(e=g.current.shift())||e()}).then(()=>r(t))});return(0,a.useMemo)(()=>({children:n,register:m,unregister:u,onStart:p,onStop:v,wait:h,chains:f}),[m,u,n,p,v,f,h])}w.displayName="NestingContext";let j=a.Fragment,N=x.VN.RenderStrategy,C=(0,x.yV)(function(e,t){let{show:r,appear:n=!1,unmount:l=!0,...s}=e,d=(0,a.useRef)(null),m=f(e),h=(0,u.T)(...m?[d,t]:null===t?[]:[t]);(0,c.H)();let b=(0,g.oJ)();if(void 0===r&&null!==b&&(r=(b&g.ZM.Open)===g.ZM.Open),void 0===r)throw Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[v,j]=(0,a.useState)(r?"visible":"hidden"),C=k(()=>{r||j("hidden")}),[S,Z]=(0,a.useState)(!0),M=(0,a.useRef)([r]);(0,i.e)(()=>{!1!==S&&M.current[M.current.length-1]!==r&&(M.current.push(r),Z(!1))},[M,r]);let _=(0,a.useMemo)(()=>({show:r,appear:n,initial:S}),[r,n,S]);(0,i.e)(()=>{r?j("visible"):y(C)||null===d.current||j("hidden")},[r,C]);let T={unmount:l},L=(0,o.z)(()=>{var t;S&&Z(!1),null==(t=e.beforeEnter)||t.call(e)}),R=(0,o.z)(()=>{var t;S&&Z(!1),null==(t=e.beforeLeave)||t.call(e)}),q=(0,x.L6)();return a.createElement(w.Provider,{value:C},a.createElement(p.Provider,{value:_},q({ourProps:{...T,as:a.Fragment,children:a.createElement(E,{ref:h,...T,...s,beforeEnter:L,beforeLeave:R})},theirProps:{},defaultTag:a.Fragment,features:N,visible:"visible"===v,name:"Transition"})))}),E=(0,x.yV)(function(e,t){var r,n;let{transition:l=!0,beforeEnter:s,afterEnter:d,beforeLeave:v,afterLeave:C,enter:E,enterFrom:S,enterTo:Z,entered:M,leave:_,leaveFrom:T,leaveTo:L,...R}=e,[q,z]=(0,a.useState)(null),O=(0,a.useRef)(null),V=f(e),D=(0,u.T)(...V?[O,t,z]:null===t?[]:[t]),P=null==(r=R.unmount)||r?x.l4.Unmount:x.l4.Hidden,{show:A,appear:F,initial:B}=function(){let e=(0,a.useContext)(p);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[K,H]=(0,a.useState)(A?"visible":"hidden"),I=function(){let e=(0,a.useContext)(w);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:X,unregister:U}=I;(0,i.e)(()=>X(O),[X,O]),(0,i.e)(()=>{if(P===x.l4.Hidden&&O.current){if(A&&"visible"!==K){H("visible");return}return(0,b.E)(K,{hidden:()=>U(O),visible:()=>X(O)})}},[K,O,X,U,A,P]);let Y=(0,c.H)();(0,i.e)(()=>{if(V&&Y&&"visible"===K&&null===O.current)throw Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[O,K,Y,V]);let $=B&&!F,G=F&&A&&B,W=(0,a.useRef)(!1),J=k(()=>{W.current||(H("hidden"),U(O))},I),Q=(0,o.z)(e=>{W.current=!0,J.onStart(O,e?"enter":"leave",e=>{"enter"===e?null==s||s():"leave"===e&&(null==v||v())})}),ee=(0,o.z)(e=>{let t=e?"enter":"leave";W.current=!1,J.onStop(O,t,e=>{"enter"===e?null==d||d():"leave"===e&&(null==C||C())}),"leave"!==t||y(J)||(H("hidden"),U(O))});(0,a.useEffect)(()=>{V&&l||(Q(A),ee(A))},[A,V,l]);let et=!(!l||!V||!Y||$),[,er]=(0,m.Y)(et,q,A,{start:Q,end:ee}),en=(0,x.oA)({ref:D,className:(null==(n=(0,h.A)(R.className,G&&E,G&&S,er.enter&&E,er.enter&&er.closed&&S,er.enter&&!er.closed&&Z,er.leave&&_,er.leave&&!er.closed&&T,er.leave&&er.closed&&L,!er.transition&&A&&M))?void 0:n.trim())||void 0,...(0,m.X)(er)}),ea=0;"visible"===K&&(ea|=g.ZM.Open),"hidden"===K&&(ea|=g.ZM.Closed),er.enter&&(ea|=g.ZM.Opening),er.leave&&(ea|=g.ZM.Closing);let el=(0,x.L6)();return a.createElement(w.Provider,{value:J},a.createElement(g.up,{value:ea},el({ourProps:en,theirProps:R,defaultTag:j,features:N,visible:"visible"===K,name:"Transition.Child"})))}),S=(0,x.yV)(function(e,t){let r=null!==(0,a.useContext)(p),n=null!==(0,g.oJ)();return a.createElement(a.Fragment,null,!r&&n?a.createElement(C,{ref:t,...e}):a.createElement(E,{ref:t,...e}))}),Z=Object.assign(C,{Child:S,Root:C})},61994:function(e,t,r){"use strict";function n(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=function e(t){var r,n,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t){if(Array.isArray(t)){var l=t.length;for(r=0;r<l;r++)t[r]&&(n=e(t[r]))&&(a&&(a+=" "),a+=n)}else for(n in t)t[n]&&(a&&(a+=" "),a+=n)}return a}(e))&&(n&&(n+=" "),n+=t);return n}r.d(t,{W:function(){return n}}),t.Z=n}},function(e){e.O(0,[1047,9028,8745,1713,4865,7840,337,2652,2926,3367,5869,353,3709,7971,536,6894,7474,9258,3178,5319,9190,6609,2353,7967,1108,5733,5238,8049,5144,7914,1098,665,8143,2971,2117,1744],function(){return e(e.s=38502)}),_N_E=e.O()}]);