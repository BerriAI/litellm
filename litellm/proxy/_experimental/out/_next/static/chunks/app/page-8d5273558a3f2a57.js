(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{60571:function(e,t,s){Promise.resolve().then(s.bind(s,69337))},23192:function(e,t,s){"use strict";s.d(t,{Z:function(){return p}});var r=s(57437);s(2265);var l=s(67101),a=s(12485),n=s(18135),i=s(35242),o=s(29706),c=s(77991),d=s(84264),u=s(25653),m=s(96362),x=e=>{let{href:t,className:s}=e;return(0,r.jsxs)("a",{href:t,target:"_blank",rel:"noopener noreferrer",title:"Open documentation in a new tab",className:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}("inline-flex items-center gap-2 rounded-xl border border-zinc-200 bg-white/80 px-3.5 py-2 text-sm font-medium text-zinc-700 shadow-sm","hover:bg-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 active:translate-y-[0.5px]",s),children:[(0,r.jsx)("span",{children:"API Reference Docs"}),(0,r.jsx)(m.Z,{"aria-hidden":!0,className:"h-4 w-4 opacity-80"}),(0,r.jsx)("span",{className:"sr-only",children:"(opens in a new tab)"})]})},p=e=>{let{proxySettings:t}=e,s="<your_proxy_base_url>",m=null==t?void 0:t.LITELLM_UI_API_DOC_BASE_URL;return m&&m.trim()?s=m:(null==t?void 0:t.PROXY_BASE_URL)&&(s=t.PROXY_BASE_URL),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(l.Z,{className:"gap-2 p-8 h-[80vh] w-full mt-2",children:(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("p",{className:"text-2xl text-tremor-content-strong dark:text-dark-tremor-content-strong font-semibold",children:"OpenAI Compatible Proxy: API Reference"}),(0,r.jsx)(x,{className:"ml-3 shrink-0",href:"https://docs.litellm.ai/docs/proxy/user_keys"})]}),(0,r.jsxs)(d.Z,{className:"mt-2 mb-2",children:["LiteLLM is OpenAI Compatible. This means your API Key works with the OpenAI SDK. Just replace the base_url to point to your litellm proxy. Example Below"," "]}),(0,r.jsxs)(n.Z,{children:[(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(a.Z,{children:"OpenAI Python SDK"}),(0,r.jsx)(a.Z,{children:"LlamaIndex"}),(0,r.jsx)(a.Z,{children:"Langchain Py"})]}),(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(o.Z,{children:(0,r.jsx)(u.Z,{language:"python",code:'import openai\nclient = openai.OpenAI(\n    api_key="your_api_key",\n    base_url="'.concat(s,'" # LiteLLM Proxy is OpenAI compatible, Read More: https://docs.litellm.ai/docs/proxy/user_keys\n)\n\nresponse = client.chat.completions.create(\n    model="gpt-3.5-turbo", # model to send to the proxy\n    messages = [\n        {\n            "role": "user",\n            "content": "this is a test request, write a short poem"\n        }\n    ]\n)\n\nprint(response)')})}),(0,r.jsx)(o.Z,{children:(0,r.jsx)(u.Z,{language:"python",code:'import os, dotenv\n\nfrom llama_index.llms import AzureOpenAI\nfrom llama_index.embeddings import AzureOpenAIEmbedding\nfrom llama_index import VectorStoreIndex, SimpleDirectoryReader, ServiceContext\n\nllm = AzureOpenAI(\n    engine="azure-gpt-3.5",               # model_name on litellm proxy\n    temperature=0.0,\n    azure_endpoint="'.concat(s,'", # litellm proxy endpoint\n    api_key="sk-1234",                    # litellm proxy API Key\n    api_version="2023-07-01-preview",\n)\n\nembed_model = AzureOpenAIEmbedding(\n    deployment_name="azure-embedding-model",\n    azure_endpoint="').concat(s,'",\n    api_key="sk-1234",\n    api_version="2023-07-01-preview",\n)\n\ndocuments = SimpleDirectoryReader("llama_index_data").load_data()\nservice_context = ServiceContext.from_defaults(llm=llm, embed_model=embed_model)\nindex = VectorStoreIndex.from_documents(documents, service_context=service_context)\n\nquery_engine = index.as_query_engine()\nresponse = query_engine.query("What did the author do growing up?")\nprint(response)')})}),(0,r.jsx)(o.Z,{children:(0,r.jsx)(u.Z,{language:"python",code:'from langchain.chat_models import ChatOpenAI\nfrom langchain.prompts.chat import (\n    ChatPromptTemplate,\n    HumanMessagePromptTemplate,\n    SystemMessagePromptTemplate,\n)\nfrom langchain.schema import HumanMessage, SystemMessage\n\nchat = ChatOpenAI(\n    openai_api_base="'.concat(s,'",\n    model = "gpt-3.5-turbo",\n    temperature=0.1\n)\n\nmessages = [\n    SystemMessage(\n        content="You are a helpful assistant that im using to make a test request to."\n    ),\n    HumanMessage(\n        content="test from litellm. tell me why it\'s amazing in 1 sentence"\n    ),\n]\nresponse = chat(messages)\n\nprint(response)')})})]})]})]})})})}},25653:function(e,t,s){"use strict";var r=s(57437),l=s(2265),a=s(30401),n=s(5136),i=s(17906),o=s(1479);t.Z=e=>{let{code:t,language:s}=e,[c,d]=(0,l.useState)(!1);return(0,r.jsxs)("div",{className:"relative rounded-lg border border-gray-200 overflow-hidden",children:[(0,r.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(t),d(!0),setTimeout(()=>d(!1),2e3)},className:"absolute top-3 right-3 p-2 rounded-md bg-gray-100 hover:bg-gray-200 text-gray-600 z-10","aria-label":"Copy code",children:c?(0,r.jsx)(a.Z,{size:16}):(0,r.jsx)(n.Z,{size:16})}),(0,r.jsx)(i.Z,{language:s,style:o.Z,customStyle:{margin:0,padding:"1.5rem",borderRadius:"0.5rem",fontSize:"0.9rem",backgroundColor:"#fafafa"},showLineNumbers:!0,children:t})]})}},69337:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return t$}});var r=s(57437),l=s(2265),a=s(99376),n=s(14474),i=s(21623),o=s(29827),c=s(67325),d=s(69734),u=s(21739),m=s(81598),x=s(77155),p=s(22004),h=s(90773),g=s(89111),f=s(64289),j=s(7166),y=s(49104),v=s(33801),b=s(92249),_=s(87526),Z=s(67164),k=s(23192),N=s(81518),w=s(18143),S=s(66600),C=s(19250),A=s(630),T=s(16312),I=s(22116),P=s(10032),D=s(42264),z=s(5545),L=s(44851),E=s(4260),R=s(63709),B=s(45246),F=s(96473);let O={basic:{key:"basic",title:"Basic Information",defaultExpanded:!0,fields:[{name:"name",label:"Display Name",type:"text",required:!0,placeholder:"e.g., Customer Support Agent"},{name:"description",label:"Description",type:"textarea",required:!0,placeholder:"Describe what this agent does...",rows:3},{name:"url",label:"URL",type:"url",required:!0,placeholder:"http://localhost:9999/",tooltip:"Base URL where the agent is hosted"},{name:"version",label:"Version",type:"text",placeholder:"1.0.0",defaultValue:"1.0.0"},{name:"protocolVersion",label:"Protocol Version",type:"text",placeholder:"1.0",defaultValue:"1.0"}]},skills:{key:"skills",title:"Skills",fields:[{name:"skills",label:"Skills",type:"list",defaultValue:[]}]},capabilities:{key:"capabilities",title:"Capabilities",fields:[{name:"streaming",label:"Streaming",type:"switch",defaultValue:!1},{name:"pushNotifications",label:"Push Notifications",type:"switch"},{name:"stateTransitionHistory",label:"State Transition History",type:"switch"}]},optional:{key:"optional",title:"Optional Settings",fields:[{name:"iconUrl",label:"Icon URL",type:"url",placeholder:"https://example.com/icon.png"},{name:"documentationUrl",label:"Documentation URL",type:"url",placeholder:"https://docs.example.com"},{name:"supportsAuthenticatedExtendedCard",label:"Supports Authenticated Extended Card",type:"switch"}]},litellm:{key:"litellm",title:"LiteLLM Parameters",fields:[{name:"model",label:"Model (Optional)",type:"text"},{name:"make_public",label:"Make Public",type:"switch"}]}},q=()=>{let e={defaultInputModes:["text"],defaultOutputModes:["text"]};return Object.values(O).forEach(t=>{t.fields.forEach(t=>{void 0!==t.defaultValue&&(e[t.name]=t.defaultValue)})}),e},U=(e,t)=>{var s,r;let l={agent_name:e.agent_name,agent_card_params:{protocolVersion:e.protocolVersion||"1.0",name:e.name,description:e.description,url:e.url,version:e.version||"1.0.0",defaultInputModes:(null==t?void 0:null===(s=t.agent_card_params)||void 0===s?void 0:s.defaultInputModes)||["text"],defaultOutputModes:(null==t?void 0:null===(r=t.agent_card_params)||void 0===r?void 0:r.defaultOutputModes)||["text"],capabilities:{streaming:!0===e.streaming,...void 0!==e.pushNotifications&&{pushNotifications:e.pushNotifications},...void 0!==e.stateTransitionHistory&&{stateTransitionHistory:e.stateTransitionHistory}},skills:e.skills||[],...e.iconUrl&&{iconUrl:e.iconUrl},...e.documentationUrl&&{documentationUrl:e.documentationUrl},...void 0!==e.supportsAuthenticatedExtendedCard&&{supportsAuthenticatedExtendedCard:e.supportsAuthenticatedExtendedCard}}};return(e.model||void 0!==e.make_public)&&(l.litellm_params={...e.model&&{model:e.model},...void 0!==e.make_public&&{make_public:e.make_public}}),l},M=e=>{var t,s,r,l,a,n,i,o,c,d,u,m,x,p,h,g,f,j;let y=(null===(s=e.agent_card_params)||void 0===s?void 0:null===(t=s.skills)||void 0===t?void 0:t.map(e=>({...e,tags:e.tags,examples:e.examples||[]})))||[];return{agent_name:e.agent_name,name:null===(r=e.agent_card_params)||void 0===r?void 0:r.name,description:null===(l=e.agent_card_params)||void 0===l?void 0:l.description,url:null===(a=e.agent_card_params)||void 0===a?void 0:a.url,version:null===(n=e.agent_card_params)||void 0===n?void 0:n.version,protocolVersion:null===(i=e.agent_card_params)||void 0===i?void 0:i.protocolVersion,streaming:null===(c=e.agent_card_params)||void 0===c?void 0:null===(o=c.capabilities)||void 0===o?void 0:o.streaming,pushNotifications:null===(u=e.agent_card_params)||void 0===u?void 0:null===(d=u.capabilities)||void 0===d?void 0:d.pushNotifications,stateTransitionHistory:null===(x=e.agent_card_params)||void 0===x?void 0:null===(m=x.capabilities)||void 0===m?void 0:m.stateTransitionHistory,skills:y,iconUrl:null===(p=e.agent_card_params)||void 0===p?void 0:p.iconUrl,documentationUrl:null===(h=e.agent_card_params)||void 0===h?void 0:h.documentationUrl,supportsAuthenticatedExtendedCard:null===(g=e.agent_card_params)||void 0===g?void 0:g.supportsAuthenticatedExtendedCard,model:null===(f=e.litellm_params)||void 0===f?void 0:f.model,make_public:null===(j=e.litellm_params)||void 0===j?void 0:j.make_public}},{Panel:V}=L.default;var H=e=>{let{showAgentName:t=!0}=e;return(0,r.jsxs)(r.Fragment,{children:[t&&(0,r.jsx)(P.Z.Item,{label:"Agent Name",name:"agent_name",rules:[{required:!0,message:"Please enter a unique agent name"}],tooltip:"Unique identifier for the agent",children:(0,r.jsx)(E.default,{placeholder:"e.g., customer-support-agent"})}),(0,r.jsxs)(L.default,{defaultActiveKey:["basic"],style:{marginBottom:16},children:[(0,r.jsx)(V,{header:"".concat(O.basic.title," (Required)"),children:O.basic.fields.map(e=>(0,r.jsx)(P.Z.Item,{label:e.label,name:e.name,rules:e.required?[{required:!0,message:"Please enter ".concat(e.label.toLowerCase())}]:void 0,tooltip:e.tooltip,children:"textarea"===e.type?(0,r.jsx)(E.default.TextArea,{rows:e.rows,placeholder:e.placeholder}):(0,r.jsx)(E.default,{placeholder:e.placeholder})},e.name))},O.basic.key),(0,r.jsx)(V,{header:"".concat(O.skills.title," (Required)"),children:(0,r.jsx)(P.Z.List,{name:"skills",children:(e,t)=>{let{add:s,remove:l}=t;return(0,r.jsxs)(r.Fragment,{children:[e.map(e=>(0,r.jsxs)("div",{style:{marginBottom:16,padding:16,border:"1px solid #d9d9d9",borderRadius:4},children:[(0,r.jsx)(P.Z.Item,{...e,label:"Skill ID",name:[e.name,"id"],rules:[{required:!0,message:"Required"}],children:(0,r.jsx)(E.default,{placeholder:"e.g., hello_world"})}),(0,r.jsx)(P.Z.Item,{...e,label:"Skill Name",name:[e.name,"name"],rules:[{required:!0,message:"Required"}],children:(0,r.jsx)(E.default,{placeholder:"e.g., Returns hello world"})}),(0,r.jsx)(P.Z.Item,{...e,label:"Description",name:[e.name,"description"],rules:[{required:!0,message:"Required"}],children:(0,r.jsx)(E.default.TextArea,{rows:2,placeholder:"What this skill does"})}),(0,r.jsx)(P.Z.Item,{...e,label:"Tags (comma-separated)",name:[e.name,"tags"],rules:[{required:!0,message:"Required"}],getValueFromEvent:e=>e.target.value.split(",").map(e=>e.trim()),getValueProps:e=>({value:Array.isArray(e)?e.join(", "):e}),children:(0,r.jsx)(E.default,{placeholder:"e.g., hello world, greeting"})}),(0,r.jsx)(P.Z.Item,{...e,label:"Examples (comma-separated)",name:[e.name,"examples"],getValueFromEvent:e=>e.target.value.split(",").map(e=>e.trim()).filter(e=>e),getValueProps:e=>({value:Array.isArray(e)?e.join(", "):""}),children:(0,r.jsx)(E.default,{placeholder:"e.g., hi, hello world"})}),(0,r.jsx)(z.ZP,{type:"link",danger:!0,onClick:()=>l(e.name),icon:(0,r.jsx)(B.Z,{}),children:"Remove Skill"})]},e.key)),(0,r.jsx)(z.ZP,{type:"dashed",onClick:()=>s(),icon:(0,r.jsx)(F.Z,{}),style:{width:"100%"},children:"Add Skill"})]})}})},O.skills.key),(0,r.jsx)(V,{header:O.capabilities.title,children:O.capabilities.fields.map(e=>(0,r.jsx)(P.Z.Item,{label:e.label,name:e.name,valuePropName:"checked",children:(0,r.jsx)(R.Z,{})},e.name))},O.capabilities.key),(0,r.jsx)(V,{header:O.optional.title,children:O.optional.fields.map(e=>(0,r.jsx)(P.Z.Item,{label:e.label,name:e.name,valuePropName:"switch"===e.type?"checked":void 0,children:"switch"===e.type?(0,r.jsx)(R.Z,{}):(0,r.jsx)(E.default,{placeholder:e.placeholder})},e.name))},O.optional.key),(0,r.jsx)(V,{header:O.litellm.title,children:O.litellm.fields.map(e=>(0,r.jsx)(P.Z.Item,{label:e.label,name:e.name,valuePropName:"switch"===e.type?"checked":void 0,children:"switch"===e.type?(0,r.jsx)(R.Z,{}):(0,r.jsx)(E.default,{placeholder:e.placeholder})},e.name))},O.litellm.key)]})]})},K=e=>{let{visible:t,onClose:s,accessToken:a,onSuccess:n}=e,[i]=P.Z.useForm(),[o,c]=(0,l.useState)(!1),d=async e=>{if(!a){D.ZP.error("No access token available");return}c(!0);try{let t=U(e);await (0,C.createAgentCall)(a,t),D.ZP.success("Agent created successfully"),i.resetFields(),n(),s()}catch(e){console.error("Error creating agent:",e),D.ZP.error("Failed to create agent")}finally{c(!1)}},u=()=>{i.resetFields(),s()};return(0,r.jsx)(I.Z,{title:"Add New Agent",open:t,onCancel:u,footer:null,width:800,children:(0,r.jsxs)(P.Z,{form:i,layout:"vertical",onFinish:d,initialValues:q(),children:[(0,r.jsx)(H,{showAgentName:!0}),(0,r.jsx)(P.Z.Item,{children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px"},children:[(0,r.jsx)(z.ZP,{onClick:u,children:"Cancel"}),(0,r.jsx)(z.ZP,{htmlType:"submit",loading:o,children:"Create Agent"})]})})]})})},Y=s(2967),W=s(74998),J=s(99981),G=e=>{let{agentsList:t,isLoading:s,onDeleteClick:l,accessToken:a,onAgentUpdated:n,isAdmin:i,onAgentClick:o}=e;return s?(0,r.jsx)("div",{children:"Loading agents..."}):t&&0!==t.length?(0,r.jsxs)(Y.iA,{children:[(0,r.jsx)(Y.ss,{children:(0,r.jsxs)(Y.SC,{children:[(0,r.jsx)(Y.xs,{children:"Agent Name"}),(0,r.jsx)(Y.xs,{children:"Description"}),(0,r.jsx)(Y.xs,{children:"Created At"}),i&&(0,r.jsx)(Y.xs,{children:"Actions"})]})}),(0,r.jsx)(Y.RM,{children:t.map(e=>{var t;return(0,r.jsxs)(Y.SC,{children:[(0,r.jsx)(Y.pj,{children:(0,r.jsx)(J.Z,{title:e.agent_name||"",children:(0,r.jsx)(Y.zx,{size:"xs",variant:"light",className:"font-mono text-blue-500 bg-blue-50 hover:bg-blue-100 text-xs font-normal px-2 py-0.5 text-left overflow-hidden truncate max-w-[200px]",onClick:()=>o(e.agent_id),children:e.agent_name||""})})}),(0,r.jsx)(Y.pj,{children:(null===(t=e.agent_card_params)||void 0===t?void 0:t.description)||"No description"}),(0,r.jsx)(Y.pj,{children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"}),i&&(0,r.jsx)(Y.pj,{children:(0,r.jsx)("div",{className:"flex space-x-2",children:(0,r.jsx)(J.Z,{title:"Delete agent",children:(0,r.jsx)(Y.JO,{icon:W.Z,size:"sm",className:"cursor-pointer text-red-500 hover:text-red-700",onClick:t=>{t.stopPropagation(),l(e.agent_id,e.agent_name)},"aria-label":"Delete agent"})})})})]},e.agent_id)})})]}):(0,r.jsx)("div",{children:"No agents found. Create one to get started."})},X=s(20347),$=s(78489),Q=s(12514),ee=s(12485),et=s(18135),es=s(35242),er=s(29706),el=s(77991),ea=s(84264),en=s(96761),ei=s(10353),eo=s(76188),ec=s(77331),ed=e=>{var t,s,a,n,i,o,c,d,u,m,x,p,h,g,f,j,y,v;let{agentId:b,onClose:_,accessToken:Z,isAdmin:k}=e,[N,w]=(0,l.useState)(null),[S,A]=(0,l.useState)(!0),[T,I]=(0,l.useState)(!1),[L,R]=(0,l.useState)(!1),[B]=P.Z.useForm();(0,l.useEffect)(()=>{F()},[b,Z]);let F=async()=>{if(Z){A(!0);try{let e=await (0,C.getAgentInfo)(Z,b);w(e),B.setFieldsValue(M(e))}catch(e){console.error("Error fetching agent info:",e),D.ZP.error("Failed to load agent information")}finally{A(!1)}}},O=async e=>{if(Z&&N){R(!0);try{let t=U(e,N);await (0,C.patchAgentCall)(Z,b,t),D.ZP.success("Agent updated successfully"),I(!1),F()}catch(e){console.error("Error updating agent:",e),D.ZP.error("Failed to update agent")}finally{R(!1)}}};if(S)return(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)(ei.Z,{size:"large"})})});if(!N)return(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("div",{className:"text-center",children:"Agent not found"}),(0,r.jsx)($.Z,{onClick:_,className:"mt-4",children:"Back to Agents List"})]});let q=e=>e?new Date(e).toLocaleString():"-";return(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)($.Z,{icon:ec.Z,variant:"light",onClick:_,className:"mb-4",children:"Back to Agents"}),(0,r.jsx)(en.Z,{children:N.agent_name||"Unnamed Agent"}),(0,r.jsx)(ea.Z,{className:"text-gray-500 font-mono",children:N.agent_id})]}),(0,r.jsxs)(et.Z,{children:[(0,r.jsxs)(es.Z,{className:"mb-4",children:[(0,r.jsx)(ee.Z,{children:"Overview"},"overview"),k?(0,r.jsx)(ee.Z,{children:"Settings"},"settings"):(0,r.jsx)(r.Fragment,{})]}),(0,r.jsxs)(el.Z,{children:[(0,r.jsxs)(er.Z,{children:[(0,r.jsxs)(eo.Z,{bordered:!0,column:1,children:[(0,r.jsx)(eo.Z.Item,{label:"Agent ID",children:N.agent_id}),(0,r.jsx)(eo.Z.Item,{label:"Agent Name",children:N.agent_name}),(0,r.jsx)(eo.Z.Item,{label:"Display Name",children:(null===(t=N.agent_card_params)||void 0===t?void 0:t.name)||"-"}),(0,r.jsx)(eo.Z.Item,{label:"Description",children:(null===(s=N.agent_card_params)||void 0===s?void 0:s.description)||"-"}),(0,r.jsx)(eo.Z.Item,{label:"URL",children:(null===(a=N.agent_card_params)||void 0===a?void 0:a.url)||"-"}),(0,r.jsx)(eo.Z.Item,{label:"Version",children:(null===(n=N.agent_card_params)||void 0===n?void 0:n.version)||"-"}),(0,r.jsx)(eo.Z.Item,{label:"Protocol Version",children:(null===(i=N.agent_card_params)||void 0===i?void 0:i.protocolVersion)||"-"}),(0,r.jsx)(eo.Z.Item,{label:"Streaming",children:(null===(c=N.agent_card_params)||void 0===c?void 0:null===(o=c.capabilities)||void 0===o?void 0:o.streaming)?"Yes":"No"}),(null===(u=N.agent_card_params)||void 0===u?void 0:null===(d=u.capabilities)||void 0===d?void 0:d.pushNotifications)&&(0,r.jsx)(eo.Z.Item,{label:"Push Notifications",children:"Yes"}),(null===(x=N.agent_card_params)||void 0===x?void 0:null===(m=x.capabilities)||void 0===m?void 0:m.stateTransitionHistory)&&(0,r.jsx)(eo.Z.Item,{label:"State Transition History",children:"Yes"}),(0,r.jsxs)(eo.Z.Item,{label:"Skills",children:[(null===(h=N.agent_card_params)||void 0===h?void 0:null===(p=h.skills)||void 0===p?void 0:p.length)||0," configured"]}),(null===(g=N.litellm_params)||void 0===g?void 0:g.model)&&(0,r.jsx)(eo.Z.Item,{label:"Model",children:N.litellm_params.model}),(null===(f=N.litellm_params)||void 0===f?void 0:f.make_public)!==void 0&&(0,r.jsx)(eo.Z.Item,{label:"Make Public",children:N.litellm_params.make_public?"Yes":"No"}),(null===(j=N.agent_card_params)||void 0===j?void 0:j.iconUrl)&&(0,r.jsx)(eo.Z.Item,{label:"Icon URL",children:N.agent_card_params.iconUrl}),(null===(y=N.agent_card_params)||void 0===y?void 0:y.documentationUrl)&&(0,r.jsx)(eo.Z.Item,{label:"Documentation URL",children:N.agent_card_params.documentationUrl}),(0,r.jsx)(eo.Z.Item,{label:"Created At",children:q(N.created_at)}),(0,r.jsx)(eo.Z.Item,{label:"Updated At",children:q(N.updated_at)})]}),(null===(v=N.agent_card_params)||void 0===v?void 0:v.skills)&&N.agent_card_params.skills.length>0&&(0,r.jsxs)("div",{style:{marginTop:24},children:[(0,r.jsx)(en.Z,{children:"Skills"}),(0,r.jsx)(eo.Z,{bordered:!0,column:1,style:{marginTop:16},children:N.agent_card_params.skills.map((e,t)=>(0,r.jsx)(eo.Z.Item,{label:e.name||"Skill ".concat(t+1),children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"ID:"})," ",e.id]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Description:"})," ",e.description]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Tags:"})," ",Array.isArray(e.tags)?e.tags.join(", "):e.tags]}),e.examples&&e.examples.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Examples:"})," ",Array.isArray(e.examples)?e.examples.join(", "):e.examples]})]})},t))})]})]}),k&&(0,r.jsx)(er.Z,{children:(0,r.jsxs)(Q.Z,{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)(en.Z,{children:"Agent Settings"}),!T&&(0,r.jsx)($.Z,{onClick:()=>I(!0),children:"Edit Settings"})]}),T?(0,r.jsxs)(P.Z,{form:B,layout:"vertical",onFinish:O,children:[(0,r.jsx)(P.Z.Item,{label:"Agent ID",children:(0,r.jsx)(E.default,{value:N.agent_id,disabled:!0})}),(0,r.jsx)(H,{showAgentName:!0}),(0,r.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,r.jsx)(z.ZP,{onClick:()=>{I(!1),F()},children:"Cancel"}),(0,r.jsx)($.Z,{loading:L,children:"Save Changes"})]})]}):(0,r.jsx)(ea.Z,{children:'Click "Edit Settings" to modify agent configuration.'})]})})]})]})]})},eu=s(9114),em=e=>{let{accessToken:t,userRole:s}=e,[a,n]=(0,l.useState)([]),[i,o]=(0,l.useState)(!1),[c,d]=(0,l.useState)(!1),[u,m]=(0,l.useState)(!1),[x,p]=(0,l.useState)(null),[h,g]=(0,l.useState)(null),f=!!s&&(0,X.tY)(s),j=async()=>{if(t){d(!0);try{let e=await (0,C.getAgentsList)(t);console.log("agents: ".concat(JSON.stringify(e))),n(e.agents)}catch(e){console.error("Error fetching agents:",e)}finally{d(!1)}}};(0,l.useEffect)(()=>{j()},[t]);let y=async()=>{if(x&&t){m(!0);try{await (0,C.deleteAgentCall)(t,x.id),eu.Z.success('Agent "'.concat(x.name,'" deleted successfully')),j()}catch(e){console.error("Error deleting agent:",e),eu.Z.fromBackend("Failed to delete agent")}finally{m(!1),p(null)}}};return(0,r.jsxs)("div",{className:"w-full mx-auto flex-auto overflow-y-auto m-8 p-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("div",{className:"flex-col gap-2",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Agents"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"List of A2A-spec agents that are available to be used in your organization. Go to AI Hub, to make agents public."})]}),(0,r.jsx)(T.z,{onClick:()=>{h&&g(null),o(!0)},disabled:!t,children:"+ Add New Agent"})]}),h?(0,r.jsx)(ed,{agentId:h,onClose:()=>g(null),accessToken:t,isAdmin:f}):(0,r.jsx)(G,{agentsList:a,isLoading:c,onDeleteClick:(e,t)=>{p({id:e,name:t})},accessToken:t,onAgentUpdated:j,isAdmin:f,onAgentClick:e=>g(e)}),(0,r.jsx)(K,{visible:i,onClose:()=>{o(!1)},accessToken:t,onSuccess:()=>{j()}}),x&&(0,r.jsxs)(I.Z,{title:"Delete Agent",open:null!==x,onOk:y,onCancel:()=>{p(null)},confirmLoading:u,okText:"Delete",okButtonProps:{danger:!0},children:[(0,r.jsxs)("p",{children:["Are you sure you want to delete agent: ",x.name,"?"]}),(0,r.jsx)("p",{children:"This action cannot be undone."})]})]})},ex=s(78093),ep=s(6674),eh=s(30874),eg=s(39210),ef=s(87641),ej=s(42273),ey=s(98524),ev=s(5183),eb=s(71668),e_=s(42673);let eZ=e=>{let t=Object.keys(e_.fK).find(t=>e_.fK[t]===e);if(t){let e=e_.Cl[t],s=e_.cd[e];return{displayName:e,logo:s,enumKey:t}}return{displayName:e,logo:"",enumKey:null}},ek=e=>e_.fK[e]||null,eN=(e,t)=>{let s=e.target,r=s.parentElement;if(r){let e=document.createElement("div");e.className="w-5 h-5 rounded-full bg-gray-200 flex items-center justify-center text-xs",e.textContent=t.charAt(0),r.replaceChild(e,s)}};var ew=s(47323),eS=s(49566),eC=s(82422),eA=s(3837),eT=s(53410),eI=s(21626),eP=s(97214),eD=s(28241),ez=s(58834),eL=s(69552),eE=s(71876);function eR(e){let{data:t,columns:s,isLoading:l=!1,loadingMessage:a="Loading...",emptyMessage:n="No data",getRowKey:i}=e;return(0,r.jsxs)(eI.Z,{children:[(0,r.jsx)(ez.Z,{children:(0,r.jsx)(eE.Z,{children:s.map((e,t)=>(0,r.jsx)(eL.Z,{style:{width:e.width},children:e.header},t))})}),(0,r.jsx)(eP.Z,{children:l?(0,r.jsx)(eE.Z,{children:(0,r.jsx)(eD.Z,{colSpan:s.length,className:"text-center",children:(0,r.jsx)(ea.Z,{className:"text-gray-500",children:a})})}):t.length>0?t.map((e,t)=>(0,r.jsx)(eE.Z,{children:s.map((t,s)=>{var l;return(0,r.jsx)(eD.Z,{children:t.cell?t.cell(e):String(null!==(l=e[t.accessor])&&void 0!==l?l:"")},s)})},i?i(e,t):t)):(0,r.jsx)(eE.Z,{children:(0,r.jsx)(eD.Z,{colSpan:s.length,className:"text-center",children:(0,r.jsx)(ea.Z,{className:"text-gray-500",children:n})})})})]})}var eB=e=>{let{discountConfig:t,onDiscountChange:s,onRemoveProvider:a}=e,[n,i]=(0,l.useState)(null),[o,c]=(0,l.useState)(""),d=(e,t)=>{i(e),c((100*t).toString())},u=e=>{let t=parseFloat(o);!isNaN(t)&&t>=0&&t<=100&&s(e,(t/100).toString()),i(null),c("")},m=()=>{i(null),c("")},x=(e,t)=>{"Enter"===e.key?u(t):"Escape"===e.key&&m()},p=Object.entries(t).map(e=>{let[t,s]=e;return{provider:t,discount:s}}).sort((e,t)=>{let s=eZ(e.provider).displayName,r=eZ(t.provider).displayName;return s.localeCompare(r)});return(0,r.jsx)(eR,{data:p,columns:[{header:"Provider",cell:e=>{let{displayName:t,logo:s}=eZ(e.provider);return(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[s&&(0,r.jsx)("img",{src:s,alt:"".concat(t," logo"),className:"w-5 h-5",onError:e=>eN(e,t)}),(0,r.jsx)("span",{className:"font-medium",children:t})]})}},{header:"Discount Percentage",cell:e=>(0,r.jsx)("div",{className:"flex items-center gap-2",children:n===e.provider?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eS.Z,{value:o,onValueChange:c,onKeyDown:t=>x(t,e.provider),placeholder:"5",className:"w-20",autoFocus:!0}),(0,r.jsx)("span",{className:"text-gray-600",children:"%"}),(0,r.jsx)(ew.Z,{icon:eC.Z,size:"sm",onClick:()=>u(e.provider),className:"cursor-pointer text-green-600 hover:text-green-700"}),(0,r.jsx)(ew.Z,{icon:eA.Z,size:"sm",onClick:m,className:"cursor-pointer text-gray-600 hover:text-gray-700"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(ea.Z,{className:"font-medium",children:[(100*e.discount).toFixed(1),"%"]}),(0,r.jsx)(ew.Z,{icon:eT.Z,size:"sm",onClick:()=>d(e.provider,e.discount),className:"cursor-pointer text-blue-600 hover:text-blue-700"})]})}),width:"250px"},{header:"Actions",cell:e=>{let{displayName:t}=eZ(e.provider);return(0,r.jsx)(ew.Z,{icon:W.Z,size:"sm",onClick:()=>a(e.provider,t),className:"cursor-pointer hover:text-red-600"})},width:"80px"}],getRowKey:e=>e.provider,emptyMessage:"No provider discounts configured"})},eF=s(64504),eO=s(37592),eq=s(15424),eU=s(33145),eM=e=>{let{discountConfig:t,selectedProvider:s,newDiscount:l,onProviderChange:a,onDiscountChange:n,onAddProvider:i}=e;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(P.Z.Item,{label:(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-700 flex items-center",children:["Provider",(0,r.jsx)(J.Z,{title:"Select the LLM provider you want to configure a discount for",children:(0,r.jsx)(eq.Z,{className:"ml-2 text-blue-400 hover:text-blue-600 cursor-help"})})]}),rules:[{required:!0,message:"Please select a provider"}],children:(0,r.jsx)(eO.default,{showSearch:!0,placeholder:"Select provider",value:s,onChange:a,style:{width:"100%"},size:"large",optionFilterProp:"children",filterOption:(e,t)=>{var s;return String(null!==(s=null==t?void 0:t.label)&&void 0!==s?s:"").toLowerCase().includes(e.toLowerCase())},children:Object.entries(e_.Cl).map(e=>{let[s,l]=e,a=e_.fK[s];return a&&t[a]?null:(0,r.jsx)(eO.default.Option,{value:s,label:l,children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(eU.default,{src:e_.cd[l],alt:"".concat(s," logo"),width:20,height:20,className:"w-5 h-5",onError:e=>eN(e,l)}),(0,r.jsx)("span",{children:l})]})},s)})})}),(0,r.jsx)(P.Z.Item,{label:(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-700 flex items-center",children:["Discount Percentage",(0,r.jsx)(J.Z,{title:"Enter a percentage value (e.g., 5 for 5% discount)",children:(0,r.jsx)(eq.Z,{className:"ml-2 text-blue-400 hover:text-blue-600 cursor-help"})})]}),rules:[{required:!0,message:"Please enter a discount percentage"}],children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(eF.o,{placeholder:"5",value:l,onValueChange:n,className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500 flex-1"}),(0,r.jsx)("span",{className:"text-gray-600",children:"%"})]})}),(0,r.jsx)("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-100",children:(0,r.jsx)(eF.z,{variant:"primary",onClick:i,disabled:!s||!l,children:"Add Provider Discount"})})]})},eV=s(29271),eH=s(40875),eK=s(96362);let eY=e=>{let{items:t,children:s="Docs",className:a=""}=e,[n,i]=(0,l.useState)(!1),o=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let e=e=>{o.current&&!o.current.contains(e.target)&&i(!1)};return n&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[n]),(0,r.jsxs)("div",{className:"relative inline-block ".concat(a),ref:o,children:[(0,r.jsxs)("button",{type:"button",onClick:()=>i(!n),className:"inline-flex items-center gap-1 text-gray-500 hover:text-gray-700 text-xs transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 rounded px-2 py-1","aria-expanded":n,"aria-haspopup":"true",children:[(0,r.jsx)("span",{children:s}),(0,r.jsx)(eH.Z,{className:"h-3 w-3 transition-transform ".concat(n?"rotate-180":""),"aria-hidden":"true"})]}),n&&(0,r.jsx)("div",{className:"absolute right-0 mt-1 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:t.map((e,t)=>(0,r.jsxs)("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>i(!1),children:[(0,r.jsx)("span",{children:e.label}),(0,r.jsx)(eK.Z,{className:"h-3.5 w-3.5 text-gray-400 flex-shrink-0 ml-2","aria-hidden":"true"})]},t))})]})};var eW=s(56522),eJ=s(25653),eG=()=>{let[e,t]=(0,l.useState)(""),[s,a]=(0,l.useState)(""),n=(0,l.useMemo)(()=>{let t=parseFloat(e),r=parseFloat(s);if(isNaN(t)||isNaN(r)||0===t||0===r)return null;let l=t+r;return{originalCost:l.toFixed(10),finalCost:t.toFixed(10),discountAmount:r.toFixed(10),discountPercentage:(r/l*100).toFixed(2)}},[e,s]);return(0,r.jsxs)("div",{className:"space-y-4 pt-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(eW.x,{className:"font-medium text-gray-900 text-sm mb-1",children:"Cost Calculation"}),(0,r.jsxs)(eW.x,{className:"text-xs text-gray-600",children:["Discounts are applied to provider costs: ",(0,r.jsx)("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-xs",children:"final_cost = base_cost \xd7 (1 - discount%/100)"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(eW.x,{className:"font-medium text-gray-900 text-sm mb-1",children:"Example"}),(0,r.jsx)(eW.x,{className:"text-xs text-gray-600",children:"A 5% discount on a $10.00 request results in: $10.00 \xd7 (1 - 0.05) = $9.50"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(eW.x,{className:"font-medium text-gray-900 text-sm mb-1",children:"Valid Range"}),(0,r.jsx)(eW.x,{className:"text-xs text-gray-600",children:"Discount percentages must be between 0% and 100%"})]}),(0,r.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,r.jsx)(eW.x,{className:"font-medium text-gray-900 text-sm mb-2",children:"Validating Discounts"}),(0,r.jsx)(eW.x,{className:"text-xs text-gray-600 mb-3",children:"Make a test request and check the response headers to verify discounts are applied:"}),(0,r.jsx)(eJ.Z,{language:"bash",code:'curl -X POST -i http://your-proxy:4000/chat/completions \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer sk-1234" \\\n  -d \'{\n    "model": "gemini/gemini-2.5-pro",\n    "messages": [{"role": "user", "content": "Hello"}]\n  }\''}),(0,r.jsx)(eW.x,{className:"text-xs text-gray-600 mt-3 mb-2",children:"Look for these headers in the response:"}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs font-mono text-gray-800 whitespace-nowrap",children:"x-litellm-response-cost"}),(0,r.jsx)(eW.x,{className:"text-xs text-gray-600",children:"Final cost after discount"})]}),(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs font-mono text-gray-800 whitespace-nowrap",children:"x-litellm-response-cost-original"}),(0,r.jsx)(eW.x,{className:"text-xs text-gray-600",children:"Original cost before discount"})]}),(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs font-mono text-gray-800 whitespace-nowrap",children:"x-litellm-response-cost-discount-amount"}),(0,r.jsx)(eW.x,{className:"text-xs text-gray-600",children:"Amount discounted"})]})]})]}),(0,r.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,r.jsx)(eW.x,{className:"font-medium text-gray-900 text-sm mb-3",children:"Discount Calculator"}),(0,r.jsx)(eW.x,{className:"text-xs text-gray-600 mb-3",children:"Enter values from your response headers to verify the discount:"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Response Cost (x-litellm-response-cost)"}),(0,r.jsx)(eW.o,{placeholder:"0.0171938125",value:e,onValueChange:t,className:"text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Discount Amount (x-litellm-response-cost-discount-amount)"}),(0,r.jsx)(eW.o,{placeholder:"0.0009049375",value:s,onValueChange:a,className:"text-sm"})]})]}),n&&(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,r.jsx)(eW.x,{className:"text-sm font-medium text-blue-900 mb-2",children:"Calculated Results"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(eW.x,{className:"text-xs text-blue-800",children:"Original Cost:"}),(0,r.jsxs)("code",{className:"text-xs font-mono text-blue-900",children:["$",n.originalCost]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(eW.x,{className:"text-xs text-blue-800",children:"Final Cost:"}),(0,r.jsxs)("code",{className:"text-xs font-mono text-blue-900",children:["$",n.finalCost]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(eW.x,{className:"text-xs text-blue-800",children:"Discount Amount:"}),(0,r.jsxs)("code",{className:"text-xs font-mono text-blue-900",children:["$",n.discountAmount]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-blue-300",children:[(0,r.jsx)(eW.x,{className:"text-xs font-semibold text-blue-900",children:"Discount Applied:"}),(0,r.jsxs)(eW.x,{className:"text-sm font-bold text-blue-900",children:[n.discountPercentage,"%"]})]})]})]})]})]})};let eX=[{label:"Custom pricing for models",href:"https://docs.litellm.ai/docs/proxy/custom_pricing"},{label:"Spend tracking",href:"https://docs.litellm.ai/docs/proxy/cost_tracking"}];var e$=e=>{let{userID:t,userRole:s,accessToken:a}=e,[n,i]=(0,l.useState)({}),[o,c]=(0,l.useState)(void 0),[d,u]=(0,l.useState)(""),[m,x]=(0,l.useState)(!0),[p,h]=(0,l.useState)(!1),[g]=P.Z.useForm(),[f,j]=I.Z.useModal(),y=(0,l.useCallback)(async()=>{x(!0);try{let e=(0,C.getProxyBaseUrl)(),t=await fetch(e?"".concat(e,"/config/cost_discount_config"):"/config/cost_discount_config",{method:"GET",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});if(t.ok){let e=await t.json();i(e.values||{})}else console.error("Failed to fetch discount config")}catch(e){console.error("Error fetching discount config:",e),eu.Z.fromBackend("Failed to fetch discount configuration")}finally{x(!1)}},[a]);(0,l.useEffect)(()=>{a&&y()},[a,y]);let v=async e=>{try{let s=(0,C.getProxyBaseUrl)(),r=await fetch(s?"".concat(s,"/config/cost_discount_config"):"/config/cost_discount_config",{method:"PATCH",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify(e)});if(r.ok)eu.Z.success("Discount configuration updated successfully"),await y();else{var t;let e=await r.json(),s=(null===(t=e.detail)||void 0===t?void 0:t.error)||e.detail||"Failed to update settings";eu.Z.fromBackend(s)}}catch(e){console.error("Error updating discount config:",e),eu.Z.fromBackend("Failed to update discount configuration")}},b=async()=>{if(!o||!d){eu.Z.fromBackend("Please select a provider and enter discount percentage");return}let e=parseFloat(d);if(isNaN(e)||e<0||e>100){eu.Z.fromBackend("Discount must be between 0% and 100%");return}let t=ek(o);if(!t){eu.Z.fromBackend("Invalid provider selected");return}if(n[t]){eu.Z.fromBackend("Discount for ".concat(e_.Cl[o]," already exists. Edit it in the table above."));return}let s={...n,[t]:e/100};i(s),await v(s),c(void 0),u(""),h(!1)},_=async(e,t)=>{f.confirm({title:"Remove Provider Discount",icon:(0,r.jsx)(eV.Z,{}),content:"Are you sure you want to remove the discount for ".concat(t,"?"),okText:"Remove",okType:"danger",cancelText:"Cancel",onOk:async()=>{let t={...n};delete t[e],i(t),await v(t)}})},Z=async(e,t)=>{let s=parseFloat(t);if(!isNaN(s)&&s>=0&&s<=1){let t={...n,[e]:s};i(t),await v(t)}};return a?(0,r.jsxs)("div",{className:"w-full p-8",children:[j,(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(eb.Dx,{children:"Cost Tracking Settings"}),(0,r.jsx)(eY,{items:eX})]}),(0,r.jsx)(eb.xv,{className:"text-gray-500 mt-1",children:"Configure cost discounts for different LLM providers. Changes are saved automatically."})]}),(0,r.jsx)(eb.zx,{onClick:()=>h(!0),className:"mt-4 md:mt-0",children:"+ Add Provider Discount"})]}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow w-full max-w-full",children:(0,r.jsxs)(eb.v0,{children:[(0,r.jsxs)(eb.td,{className:"px-6 pt-4",children:[(0,r.jsx)(eb.OK,{children:"Provider Discounts"}),(0,r.jsx)(eb.OK,{children:"Test It"})]}),(0,r.jsxs)(eb.nP,{children:[(0,r.jsx)(eb.x4,{children:m?(0,r.jsx)("div",{className:"py-12 text-center",children:(0,r.jsx)(eb.xv,{className:"text-gray-500",children:"Loading configuration..."})}):Object.keys(n).length>0?(0,r.jsx)("div",{className:"p-6",children:(0,r.jsx)(eB,{discountConfig:n,onDiscountChange:Z,onRemoveProvider:_})}):(0,r.jsxs)("div",{className:"py-16 px-6 text-center",children:[(0,r.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)(eb.xv,{className:"text-gray-700 font-medium mb-2",children:"No provider discounts configured"}),(0,r.jsx)(eb.xv,{className:"text-gray-500 text-sm",children:'Click "Add Provider Discount" to get started'})]})}),(0,r.jsx)(eb.x4,{children:(0,r.jsx)("div",{className:"px-6 pb-4",children:(0,r.jsx)(eG,{})})})]})]})}),(0,r.jsx)(I.Z,{title:(0,r.jsx)("div",{className:"flex items-center space-x-3 pb-4 border-b border-gray-100",children:(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Provider Discount"})}),open:p,width:1e3,onCancel:()=>{h(!1),g.resetFields(),c(void 0),u("")},footer:null,className:"top-8",styles:{body:{padding:"24px"},header:{padding:"24px 24px 0 24px",border:"none"}},children:(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)(eb.xv,{className:"text-sm text-gray-600 mb-6",children:"Select a provider and set its discount percentage. Enter a value between 0% and 100% (e.g., 5 for a 5% discount)."}),(0,r.jsx)(P.Z,{form:g,onFinish:e=>{b()},layout:"vertical",className:"space-y-6",children:(0,r.jsx)(eM,{discountConfig:n,selectedProvider:o,newDiscount:d,onProviderChange:c,onDiscountChange:u,onAddProvider:b})})]})})]}):null},eQ=s(91323),e0=s(10012),e1=s(31857),e2=s(92403),e6=s(28595),e4=s(68208),e5=s(9775),e8=s(41361),e3=s(37527),e9=s(15883),e7=s(99458),te=s(12660),tt=s(88009),ts=s(48231),tr=s(57400),tl=s(58630),ta=s(29436),tn=s(44625),ti=s(41169),to=s(69993),tc=s(38434),td=s(71891),tu=s(55322),tm=s(11429),tx=s(13817),tp=s(18310),th=s(60985),tg=s(79262);let{Sider:tf}=tx.default;var tj=e=>{let{accessToken:t,setPage:s,userRole:l,defaultSelectedKey:a,collapsed:n=!1}=e,i=[{key:"api-keys",page:"api-keys",label:"Virtual Keys",icon:(0,r.jsx)(e2.Z,{style:{fontSize:"18px"}})},{key:"llm-playground",page:"llm-playground",label:"Playground",icon:(0,r.jsx)(e6.Z,{style:{fontSize:"18px"}}),roles:X.LQ},{key:"models",page:"models",label:"Models + Endpoints",icon:(0,r.jsx)(e4.Z,{style:{fontSize:"18px"}}),roles:X.LQ},{key:"new_usage",page:"new_usage",label:"Usage",icon:(0,r.jsx)(e5.Z,{style:{fontSize:"18px"}}),roles:[...X.ZL,...X.lo]},{key:"teams",page:"teams",label:"Teams",icon:(0,r.jsx)(e8.Z,{style:{fontSize:"18px"}})},{key:"organizations",page:"organizations",label:"Organizations",icon:(0,r.jsx)(e3.Z,{style:{fontSize:"18px"}}),roles:X.ZL},{key:"users",page:"users",label:"Internal Users",icon:(0,r.jsx)(e9.Z,{style:{fontSize:"18px"}}),roles:X.ZL},{key:"budgets",page:"budgets",label:"Budgets",icon:(0,r.jsx)(e7.Z,{style:{fontSize:"18px"}}),roles:X.ZL},{key:"api_ref",page:"api_ref",label:"API Reference",icon:(0,r.jsx)(te.Z,{style:{fontSize:"18px"}})},{key:"model-hub-table",page:"model-hub-table",label:"AI Hub",icon:(0,r.jsx)(tt.Z,{style:{fontSize:"18px"}})},{key:"logs",page:"logs",label:"Logs",icon:(0,r.jsx)(ts.Z,{style:{fontSize:"18px"}})},{key:"guardrails",page:"guardrails",label:"Guardrails",icon:(0,r.jsx)(tr.Z,{style:{fontSize:"18px"}}),roles:X.ZL},{key:"mcp-servers",page:"mcp-servers",label:"MCP Servers",icon:(0,r.jsx)(tl.Z,{style:{fontSize:"18px"}})},{key:"tools",page:"tools",label:"Tools",icon:(0,r.jsx)(tl.Z,{style:{fontSize:"18px"}}),children:[{key:"search-tools",page:"search-tools",label:"Search Tools",icon:(0,r.jsx)(ta.Z,{style:{fontSize:"18px"}})},{key:"vector-stores",page:"vector-stores",label:"Vector Stores",icon:(0,r.jsx)(tn.Z,{style:{fontSize:"18px"}}),roles:X.ZL}]},{key:"experimental",page:"experimental",label:"Experimental",icon:(0,r.jsx)(ti.Z,{style:{fontSize:"18px"}}),children:[{key:"caching",page:"caching",label:"Caching",icon:(0,r.jsx)(tn.Z,{style:{fontSize:"18px"}}),roles:X.ZL},{key:"agents",page:"agents",label:"Agents",icon:(0,r.jsx)(to.Z,{style:{fontSize:"18px"}}),roles:X.LQ},{key:"prompts",page:"prompts",label:"Prompts",icon:(0,r.jsx)(tc.Z,{style:{fontSize:"18px"}}),roles:X.ZL},{key:"transform-request",page:"transform-request",label:"API Playground",icon:(0,r.jsx)(te.Z,{style:{fontSize:"18px"}}),roles:[...X.ZL,...X.lo]},{key:"tag-management",page:"tag-management",label:"Tag Management",icon:(0,r.jsx)(td.Z,{style:{fontSize:"18px"}}),roles:X.ZL},{key:"4",page:"usage",label:"Old Usage",icon:(0,r.jsx)(e5.Z,{style:{fontSize:"18px"}})}]},{key:"settings",page:"settings",label:"Settings",icon:(0,r.jsx)(tu.Z,{style:{fontSize:"18px"}}),roles:X.ZL,children:[{key:"router-settings",page:"router-settings",label:"Router Settings",icon:(0,r.jsx)(tu.Z,{style:{fontSize:"18px"}}),roles:X.ZL},{key:"logging-and-alerts",page:"logging-and-alerts",label:"Logging & Alerts",icon:(0,r.jsx)(tu.Z,{style:{fontSize:"18px"}}),roles:X.ZL},{key:"admin-panel",page:"admin-panel",label:"Admin Settings",icon:(0,r.jsx)(tu.Z,{style:{fontSize:"18px"}}),roles:X.ZL},{key:"cost-tracking",page:"cost-tracking",label:"Cost Tracking",icon:(0,r.jsx)(e5.Z,{style:{fontSize:"18px"}}),roles:X.ZL},{key:"ui-theme",page:"ui-theme",label:"UI Theme",icon:(0,r.jsx)(tm.Z,{style:{fontSize:"18px"}}),roles:X.ZL}]}],o=(e=>{let t=i.find(t=>t.page===e);if(t)return t.key;for(let t of i)if(t.children){let s=t.children.find(t=>t.page===e);if(s)return s.key}return"1"})(a),c=i.filter(e=>{let t=!e.roles||e.roles.includes(l);return console.log("Menu item ".concat(e.label,": roles=").concat(e.roles,", userRole=").concat(l,", hasAccess=").concat(t)),!!t&&(e.children&&(e.children=e.children.filter(e=>!e.roles||e.roles.includes(l))),!0)});return(0,r.jsx)(tx.default,{children:(0,r.jsxs)(tf,{theme:"light",width:220,collapsed:n,collapsedWidth:80,collapsible:!0,trigger:null,style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative"},children:[(0,r.jsx)(tp.ZP,{theme:{components:{Menu:{iconSize:18,fontSize:14}}},children:(0,r.jsx)(th.Z,{mode:"inline",selectedKeys:[o],defaultOpenKeys:n?[]:["llm-tools"],inlineCollapsed:n,className:"custom-sidebar-menu",style:{borderRight:0,backgroundColor:"transparent",fontSize:"14px"},items:c.map(e=>{var t;return{key:e.key,icon:e.icon,label:e.label,children:null===(t=e.children)||void 0===t?void 0:t.map(e=>({key:e.key,icon:e.icon,label:e.label,onClick:()=>{let t=new URLSearchParams(window.location.search);t.set("page",e.page),window.history.pushState(null,"","?".concat(t.toString())),s(e.page)}})),onClick:e.children?void 0:()=>{let t=new URLSearchParams(window.location.search);t.set("page",e.page),window.history.pushState(null,"","?".concat(t.toString())),s(e.page)}}})})}),(0,X.tY)(l)&&!n&&(0,r.jsx)(tg.Z,{accessToken:t,width:220})]})})},ty=s(92019),tv=s(39760),tb=e=>{let{setPage:t,defaultSelectedKey:s,sidebarCollapsed:l}=e,{refactoredUIFlag:a}=(0,e1.Z)(),{accessToken:n,userRole:i}=(0,tv.Z)();return a?(0,r.jsx)(ty.Z,{accessToken:n,defaultSelectedKey:s,userRole:i}):(0,r.jsx)(tj,{accessToken:n,setPage:t,userRole:i,defaultSelectedKey:s,collapsed:l})},t_=s(11713),tZ=s(49804),tk=s(67101),tN=s(12322),tw=s(58927);let tS=(e,t,s,l)=>[{accessorKey:"search_tool_id",header:"Search Tool ID",cell:t=>{var s;let{row:l}=t;return(0,r.jsxs)("button",{onClick:()=>e(l.original.search_tool_id),className:"font-mono text-blue-500 bg-blue-50 hover:bg-blue-100 text-xs font-normal px-2 py-0.5 text-left w-full truncate whitespace-nowrap cursor-pointer max-w-[15ch]",children:[null===(s=l.original.search_tool_id)||void 0===s?void 0:s.slice(0,7),"..."]})}},{accessorKey:"search_tool_name",header:"Name",cell:e=>{let{getValue:t}=e;return(0,r.jsx)("span",{className:"font-medium",children:t()})}},{id:"provider",header:"Provider",cell:e=>{let{row:t}=e,s=t.original.litellm_params.search_provider,a=l.find(e=>e.provider_name===s),n=(null==a?void 0:a.ui_friendly_name)||s;return(0,r.jsx)("span",{className:"text-sm",children:n})}},{header:"Created At",accessorKey:"created_at",sortingFn:"datetime",cell:e=>{let{row:t}=e,s=t.original;return(0,r.jsx)("span",{className:"text-xs",children:s.created_at?new Date(s.created_at).toLocaleDateString():"-"})}},{header:"Updated At",accessorKey:"updated_at",sortingFn:"datetime",cell:e=>{let{row:t}=e,s=t.original;return(0,r.jsx)("span",{className:"text-xs",children:s.updated_at?new Date(s.updated_at).toLocaleDateString():"-"})}},{id:"actions",header:"Actions",cell:e=>{let{row:l}=e;return(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(tw.J,{icon:eT.Z,size:"sm",onClick:()=>t(l.original.search_tool_id),className:"cursor-pointer"}),(0,r.jsx)(tw.J,{icon:W.Z,size:"sm",onClick:()=>s(l.original.search_tool_id),className:"cursor-pointer"})]})}}];var tC=s(59872),tA=s(30401),tT=s(78867),tI=s(57840),tP=s(61935);let{Text:tD}=tI.default,tz=e=>{var t,s,a,n;let{searchToolName:i,accessToken:o,className:c=""}=e,[d,u]=(0,l.useState)(""),[m,x]=(0,l.useState)(!1),[p,h]=(0,l.useState)([]),[g,f]=(0,l.useState)({}),[j,y]=(0,l.useState)(!1),v=async()=>{if(!d.trim()){D.ZP.warning("Please enter a search query");return}x(!0);let e=performance.now();try{let t=await (0,C.searchToolQueryCall)(o,i,d),s=performance.now(),r={query:d,response:t,timestamp:Date.now(),latency:Math.round(s-e)};h(e=>[r,...e])}catch(e){console.error("Error querying search tool:",e),eu.Z.fromBackend("Failed to query search tool")}finally{x(!1)}},b=e=>new Date(e).toLocaleString(),_=(e,t)=>{let s="".concat(e,"-").concat(t);f(e=>({...e,[s]:!e[s]}))},Z=(0,r.jsx)(tP.Z,{style:{fontSize:24},spin:!0}),k=p.length>0?p[0]:null;return(0,r.jsxs)(Q.Z,{className:"mt-6",children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)(en.Z,{children:"Test Search Tool"})}),(0,r.jsxs)("div",{className:"flex flex-col",style:{minHeight:"600px"},children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("div",{className:"flex items-stretch gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center flex-1 bg-white rounded-lg px-4 transition-all duration-200",style:{border:j?"2px solid #3b82f6":"2px solid #e5e7eb",boxShadow:j?"0 0 0 3px rgba(59, 130, 246, 0.1)":"0 1px 2px 0 rgba(0, 0, 0, 0.05)",height:"48px"},children:[(0,r.jsx)(ta.Z,{className:"text-gray-400 mr-3",style:{fontSize:"18px"}}),(0,r.jsx)(E.default,{value:d,onChange:e=>u(e.target.value),onFocus:()=>y(!0),onBlur:()=>y(!1),onPressEnter:e=>{e.shiftKey||(e.preventDefault(),v())},placeholder:"Enter your search query...",disabled:m,bordered:!1,style:{fontSize:"15px",padding:0,height:"100%",boxShadow:"none"}})]}),(0,r.jsx)(z.ZP,{type:"primary",onClick:v,disabled:m||!d.trim(),icon:(0,r.jsx)(ta.Z,{}),loading:m,style:{height:"48px",paddingLeft:"24px",paddingRight:"24px",borderRadius:"8px",fontWeight:500,fontSize:"15px",backgroundColor:m||!d.trim()?void 0:"#1890ff",borderColor:m||!d.trim()?void 0:"#1890ff",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"},children:"Search"})]})}),(0,r.jsx)("div",{className:"flex-1",children:k||m?(0,r.jsxs)("div",{children:[m&&(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center py-16",children:[(0,r.jsx)(ei.Z,{indicator:Z}),(0,r.jsx)(tD,{className:"mt-4 text-gray-600 font-medium",children:"Searching..."})]}),k&&!m&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",style:{boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"},children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)(tD,{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Search Query"}),(0,r.jsx)("div",{className:"text-base font-semibold text-gray-900 mt-1.5",children:k.query})]}),(0,r.jsxs)("div",{className:"text-right ml-4",children:[(0,r.jsx)(tD,{className:"text-xs text-gray-500",children:b(k.timestamp)}),(0,r.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,r.jsxs)("div",{className:"text-sm font-semibold text-blue-600",children:[(null===(s=k.response)||void 0===s?void 0:null===(t=s.results)||void 0===t?void 0:t.length)||0," ",(null===(n=k.response)||void 0===n?void 0:null===(a=n.results)||void 0===a?void 0:a.length)===1?"result":"results"]}),void 0!==k.latency&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-gray-400",children:""}),(0,r.jsxs)("div",{className:"text-sm font-semibold text-green-600",children:[k.latency,"ms"]})]})]})]})]})}),k.response&&k.response.results&&k.response.results.length>0?(0,r.jsx)("div",{className:"space-y-3",children:k.response.results.map((e,t)=>{let s=g["0-".concat(t)]||!1;return(0,r.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden transition-all duration-200",style:{boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"},onMouseEnter:e=>{e.currentTarget.style.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",e.currentTarget.style.borderColor="#e0e7ff"},onMouseLeave:e=>{e.currentTarget.style.boxShadow="0 1px 2px 0 rgba(0, 0, 0, 0.05)",e.currentTarget.style.borderColor="#e5e7eb"},children:(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-2",children:[(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-lg font-semibold text-blue-600 hover:text-blue-700 flex-1 leading-snug",style:{textDecoration:"none"},onMouseEnter:e=>e.currentTarget.style.textDecoration="underline",onMouseLeave:e=>e.currentTarget.style.textDecoration="none",children:e.title}),(0,r.jsx)(z.ZP,{type:"text",size:"small",className:"flex-shrink-0",icon:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),onClick:()=>window.open(e.url,"_blank"),style:{color:"#6b7280"}})]}),(0,r.jsx)("div",{className:"text-sm text-green-700 mb-3 truncate font-medium",children:e.url}),(0,r.jsx)("div",{className:"text-sm text-gray-700 leading-relaxed",children:s?e.snippet:"".concat(e.snippet.substring(0,200)).concat(e.snippet.length>200?"...":"")}),e.snippet.length>200&&(0,r.jsx)(z.ZP,{type:"link",size:"small",className:"mt-3 p-0 h-auto",onClick:()=>_(0,t),style:{fontSize:"13px",fontWeight:500,color:"#3b82f6"},children:s?"Show less":"Show more"})]})},t)})}):(0,r.jsxs)("div",{className:"text-center py-12 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 mx-auto mb-4",children:(0,r.jsx)(ta.Z,{style:{fontSize:"24px",color:"#9ca3af"}})}),(0,r.jsx)(tD,{className:"text-gray-600 font-medium",children:"No results found"}),(0,r.jsx)(tD,{className:"text-sm text-gray-500 mt-1",children:"Try a different search query"})]})]}),p.length>1&&(0,r.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)(tD,{className:"text-sm font-semibold text-gray-700",children:"Previous Searches"}),(0,r.jsx)(z.ZP,{onClick:()=>{h([]),f({}),eu.Z.success("Search history cleared")},size:"small",type:"link",style:{fontSize:"13px",fontWeight:500},children:"Clear All"})]}),(0,r.jsx)("div",{className:"space-y-2",children:p.slice(1,6).map((e,t)=>{var s,l,a,n;return(0,r.jsxs)("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg cursor-pointer transition-all duration-200 hover:bg-gray-100 hover:border-gray-300",onClick:()=>{u(e.query)},children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-800 truncate",children:e.query}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-1.5 flex items-center gap-2",children:[(0,r.jsxs)("span",{className:"font-medium text-blue-600",children:[(null===(l=e.response)||void 0===l?void 0:null===(s=l.results)||void 0===s?void 0:s.length)||0," ",(null===(n=e.response)||void 0===n?void 0:null===(a=n.results)||void 0===a?void 0:a.length)===1?"result":"results"]}),void 0!==e.latency&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:""}),(0,r.jsxs)("span",{className:"font-medium text-green-600",children:[e.latency,"ms"]})]}),(0,r.jsx)("span",{children:""}),(0,r.jsx)("span",{children:b(e.timestamp)})]})]},t+1)})})]})]}):(0,r.jsxs)("div",{className:"h-full flex flex-col items-center justify-center p-8",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-24 h-24 rounded-full bg-gray-100 mb-6",children:(0,r.jsx)(ta.Z,{style:{fontSize:"48px",color:"#9ca3af"}})}),(0,r.jsx)(tD,{className:"text-lg text-gray-600 font-medium",children:"Test your search tool"}),(0,r.jsx)(tD,{className:"text-sm text-gray-500 mt-2",children:"Enter a query above to see search results"})]})})]})]})},tL=e=>{var t;let{searchTool:s,onBack:a,isEditing:n,accessToken:i,availableProviders:o}=e,[c,d]=(0,l.useState)({}),u=async(e,t)=>{await (0,tC.vQ)(e)&&(d(e=>({...e,[t]:!0})),setTimeout(()=>{d(e=>({...e,[t]:!1}))},2e3))};return(0,r.jsxs)("div",{className:"p-4 max-w-full",children:[(0,r.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,r.jsxs)("div",{children:[(0,r.jsx)($.Z,{icon:ec.Z,variant:"light",className:"mb-4",onClick:a,children:"Back to All Search Tools"}),(0,r.jsxs)("div",{className:"flex items-center cursor-pointer",children:[(0,r.jsx)(en.Z,{children:s.search_tool_name}),(0,r.jsx)(z.ZP,{type:"text",size:"small",icon:c["search-tool-name"]?(0,r.jsx)(tA.Z,{size:12}):(0,r.jsx)(tT.Z,{size:12}),onClick:()=>u(s.search_tool_name,"search-tool-name"),className:"left-2 z-10 transition-all duration-200 ".concat(c["search-tool-name"]?"text-green-600 bg-green-50 border-green-200":"text-gray-500 hover:text-gray-700 hover:bg-gray-100")})]}),(0,r.jsxs)("div",{className:"flex items-center cursor-pointer",children:[(0,r.jsx)(ea.Z,{className:"text-gray-500 font-mono",children:s.search_tool_id}),(0,r.jsx)(z.ZP,{type:"text",size:"small",icon:c["search-tool-id"]?(0,r.jsx)(tA.Z,{size:12}):(0,r.jsx)(tT.Z,{size:12}),onClick:()=>u(s.search_tool_id,"search-tool-id"),className:"left-2 z-10 transition-all duration-200 ".concat(c["search-tool-id"]?"text-green-600 bg-green-50 border-green-200":"text-gray-500 hover:text-gray-700 hover:bg-gray-100")})]})]})}),(0,r.jsxs)(tk.Z,{numItems:1,numItemsSm:2,numItemsLg:3,className:"gap-6",children:[(0,r.jsxs)(Q.Z,{children:[(0,r.jsx)(ea.Z,{children:"Provider"}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)(en.Z,{children:(e=>{let t=o.find(t=>t.provider_name===e);return(null==t?void 0:t.ui_friendly_name)||e})(s.litellm_params.search_provider)})})]}),(0,r.jsxs)(Q.Z,{children:[(0,r.jsx)(ea.Z,{children:"API Key"}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)(ea.Z,{children:s.litellm_params.api_key?"****":"Not set"})})]}),(0,r.jsxs)(Q.Z,{children:[(0,r.jsx)(ea.Z,{children:"Created At"}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)(ea.Z,{children:s.created_at?new Date(s.created_at).toLocaleString():"Unknown"})})]})]}),(null===(t=s.search_tool_info)||void 0===t?void 0:t.description)&&(0,r.jsxs)(Q.Z,{className:"mt-6",children:[(0,r.jsx)(ea.Z,{children:"Description"}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)(ea.Z,{children:s.search_tool_info.description})})]}),(0,r.jsx)("div",{className:"mt-6",children:i&&(0,r.jsx)(tz,{searchToolName:s.search_tool_name,accessToken:i})})]})};var tE=s(29),tR=s.n(tE),tB=s(23496),tF=s(35291);let{Text:tO}=tI.default;var tq=e=>{let{litellmParams:t,accessToken:s,onTestComplete:a}=e,[n,i]=(0,l.useState)(!0),[o,c]=(0,l.useState)(null),[d,u]=(0,l.useState)(!1);(0,l.useEffect)(()=>{(async()=>{i(!0);try{let e=await (0,C.testSearchToolConnection)(s,t);c(e),"success"===e.status&&eu.Z.success("Connection test successful!")}catch(e){c({status:"error",message:e instanceof Error?e.message:"Unknown error occurred",error_type:"NetworkError"})}finally{i(!1),a&&a()}})()},[s,t,a]);let m=(null==o?void 0:o.message)?(e=>{if(!e)return"Unknown error";let t=e.split("stack trace:")[0].trim().replace(/^litellm\.(.*?)Error:\s*/,"").replace(/^AuthenticationError:\s*/,"");if(t.includes("<html>")||t.includes("<!DOCTYPE")){let e=t.match(/<title>(.*?)<\/title>/);return e?e[1]:t.includes("401")||t.includes("Authorization Required")?"Authentication failed: Invalid API key or credentials":"Authentication error - please check your API key"}return t.length>200?t.substring(0,200)+"...":t})(o.message):"Unknown error";return n?(0,r.jsx)("div",{style:{padding:"24px",borderRadius:"8px",backgroundColor:"#fff"},children:(0,r.jsxs)("div",{style:{textAlign:"center",padding:"32px 20px"},className:"jsx-dc9a0e2d897fe63b",children:[(0,r.jsx)("div",{style:{marginBottom:"16px"},className:"jsx-dc9a0e2d897fe63b loading-spinner",children:(0,r.jsx)("div",{style:{border:"3px solid #f3f3f3",borderTop:"3px solid #1890ff",borderRadius:"50%",width:"30px",height:"30px",animation:"spin 1s linear infinite",margin:"0 auto"},className:"jsx-dc9a0e2d897fe63b"})}),(0,r.jsxs)(tO,{style:{fontSize:"16px"},children:["Testing connection to ",t.search_provider||"search provider","..."]}),(0,r.jsx)(tR(),{id:"dc9a0e2d897fe63b",children:"@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]})}):o?(0,r.jsxs)("div",{style:{padding:"24px",borderRadius:"8px",backgroundColor:"#fff"},children:["success"===o.status?(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"32px 20px"},children:[(0,r.jsx)("div",{style:{color:"#52c41a",fontSize:"24px",display:"flex",alignItems:"center"},children:(0,r.jsx)("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"check-circle",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,r.jsx)("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"})})}),(0,r.jsxs)("div",{style:{marginLeft:"12px"},children:[(0,r.jsxs)(tO,{type:"success",style:{fontSize:"18px",fontWeight:500,display:"block"},children:["Connection to ",t.search_provider," successful!"]}),o.test_query&&(0,r.jsxs)(tO,{style:{fontSize:"14px",color:"#666",marginTop:"8px",display:"block"},children:["Test query: ",(0,r.jsx)("code",{style:{backgroundColor:"#f0f0f0",padding:"2px 6px",borderRadius:"4px"},children:o.test_query})]}),void 0!==o.results_count&&(0,r.jsxs)(tO,{style:{fontSize:"14px",color:"#666",display:"block"},children:["Results retrieved: ",o.results_count]})]})]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px"},children:[(0,r.jsx)(tF.Z,{style:{color:"#ff4d4f",fontSize:"24px",marginRight:"12px"}}),(0,r.jsxs)(tO,{type:"danger",style:{fontSize:"18px",fontWeight:500},children:["Connection to ",t.search_provider||"search provider"," failed"]})]}),(0,r.jsxs)("div",{style:{backgroundColor:"#fff2f0",border:"1px solid #ffccc7",borderRadius:"8px",padding:"16px",marginBottom:"20px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.03)"},children:[(0,r.jsxs)(tO,{strong:!0,style:{display:"block",marginBottom:"8px"},children:["Error:"," "]}),(0,r.jsx)(tO,{type:"danger",style:{fontSize:"14px",lineHeight:"1.5"},children:m}),o.error_type&&(0,r.jsx)("div",{style:{marginTop:"8px"},children:(0,r.jsxs)(tO,{style:{fontSize:"13px",color:"#666"},children:["Error type:"," ",(0,r.jsx)("code",{style:{backgroundColor:"#ffebee",padding:"2px 6px",borderRadius:"4px",color:"#d32f2f"},children:o.error_type})]})}),o.message&&(0,r.jsx)("div",{style:{marginTop:"12px"},children:(0,r.jsx)(z.ZP,{type:"link",onClick:()=>u(!d),style:{paddingLeft:0,height:"auto"},children:d?"Hide Details":"Show Details"})})]}),d&&(0,r.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,r.jsx)(tO,{strong:!0,style:{display:"block",marginBottom:"8px",fontSize:"15px"},children:"Full Error Details"}),(0,r.jsx)("pre",{style:{backgroundColor:"#f5f5f5",padding:"16px",borderRadius:"8px",fontSize:"13px",maxHeight:"200px",overflow:"auto",border:"1px solid #e8e8e8",lineHeight:"1.5",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:o.message})]}),(0,r.jsxs)("div",{style:{backgroundColor:"#fffbf0",border:"1px solid #ffe58f",borderLeft:"4px solid #faad14",borderRadius:"8px",padding:"16px"},children:[(0,r.jsx)(tO,{strong:!0,style:{display:"block",marginBottom:"8px",color:"#d48806"},children:"Troubleshooting tips:"}),(0,r.jsxs)("ul",{style:{margin:"8px 0",paddingLeft:"20px",color:"#ad6800"},children:[(0,r.jsx)("li",{style:{marginBottom:"6px"},children:"Verify your API key is correct and active"}),(0,r.jsx)("li",{style:{marginBottom:"6px"},children:"Check if the search provider service is operational"}),(0,r.jsx)("li",{style:{marginBottom:"6px"},children:"Ensure you have sufficient credits/quota with the provider"}),(0,r.jsx)("li",{style:{marginBottom:"6px"},children:"Review the provider's documentation for any additional requirements"})]})]})]})}),(0,r.jsx)(tB.Z,{style:{margin:"24px 0 16px"}}),(0,r.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,r.jsx)(z.ZP,{type:"link",href:"https://docs.litellm.ai/docs/search",target:"_blank",icon:(0,r.jsx)(eq.Z,{}),children:"View Search Documentation"})})]}):null};let{TextArea:tU}=E.default,tM=e=>"".concat("../ui/assets/logos/").concat(e,".png"),tV=e=>{let{providerName:t,displayName:s}=e;return(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(eU.default,{src:tM(t),alt:"",width:20,height:20,style:{marginRight:"8px",objectFit:"contain"},onError:e=>{e.currentTarget.style.display="none"}}),(0,r.jsx)("span",{children:s})]})};var tH=e=>{let{userRole:t,accessToken:s,onCreateSuccess:a,isModalVisible:n,setModalVisible:i}=e,[o]=P.Z.useForm(),[c,d]=(0,l.useState)(!1),[u,m]=(0,l.useState)({}),[x,p]=(0,l.useState)(!1),[h,g]=(0,l.useState)(!1),[f,j]=(0,l.useState)(""),{data:y,isLoading:v}=(0,t_.a)({queryKey:["searchProviders"],queryFn:()=>{if(!s)throw Error("Access Token required");return(0,C.fetchAvailableSearchProviders)(s)},enabled:!!s&&n}),b=(null==y?void 0:y.providers)||[],_=async e=>{d(!0);try{let t={search_tool_name:e.search_tool_name,litellm_params:{search_provider:e.search_provider,api_key:e.api_key,api_base:e.api_base,timeout:e.timeout?parseFloat(e.timeout):void 0,max_retries:e.max_retries?parseInt(e.max_retries):void 0},search_tool_info:e.description?{description:e.description}:void 0};if(console.log("Creating search tool with payload:",t),null!=s){let e=await (0,C.createSearchTool)(s,t);eu.Z.success("Search tool created successfully"),o.resetFields(),m({}),i(!1),a(e)}}catch(e){eu.Z.error("Error creating search tool: "+e)}finally{d(!1)}},Z=async()=>{try{await o.validateFields(["search_provider","api_key"]),g(!0),j("test-".concat(Date.now())),p(!0)}catch(e){eu.Z.error("Please fill in Search Provider and API Key before testing")}};return(l.useEffect(()=>{n||m({})},[n]),(0,X.tY)(t))?(0,r.jsxs)(I.Z,{title:(0,r.jsxs)("div",{className:"flex items-center space-x-3 pb-4 border-b border-gray-100",children:[(0,r.jsx)("span",{className:"text-2xl",children:"\uD83D\uDD0D"}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Add New Search Tool"})]}),open:n,width:800,onCancel:()=>{o.resetFields(),m({}),i(!1)},footer:null,className:"top-8",styles:{body:{padding:"24px"},header:{padding:"24px 24px 0 24px",border:"none"}},children:[(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsxs)(P.Z,{form:o,onFinish:_,onValuesChange:(e,t)=>m(t),layout:"vertical",className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,r.jsx)(P.Z.Item,{label:(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-700 flex items-center",children:["Search Tool Name",(0,r.jsx)(J.Z,{title:"A unique name to identify this search tool configuration (e.g., 'perplexity-search', 'tavily-news-search').",children:(0,r.jsx)(eq.Z,{className:"ml-2 text-blue-400 hover:text-blue-600 cursor-help"})})]}),name:"search_tool_name",rules:[{required:!0,message:"Please enter a search tool name"},{pattern:/^[a-zA-Z0-9_-]+$/,message:"Name can only contain letters, numbers, hyphens, and underscores"}],children:(0,r.jsx)(eF.o,{placeholder:"e.g., perplexity-search, my-tavily-tool",className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500"})}),(0,r.jsx)(P.Z.Item,{label:(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-700 flex items-center",children:["Search Provider",(0,r.jsx)(J.Z,{title:"Select the search provider you want to use. Each provider has different capabilities and pricing.",children:(0,r.jsx)(eq.Z,{className:"ml-2 text-blue-400 hover:text-blue-600 cursor-help"})})]}),name:"search_provider",rules:[{required:!0,message:"Please select a search provider"}],children:(0,r.jsx)(eO.default,{placeholder:"Select a search provider",className:"rounded-lg",size:"large",loading:v,showSearch:!0,optionFilterProp:"children",optionLabelProp:"label",children:b.map(e=>(0,r.jsx)(eO.default.Option,{value:e.provider_name,label:(0,r.jsx)(tV,{providerName:e.provider_name,displayName:e.ui_friendly_name}),children:(0,r.jsx)(tV,{providerName:e.provider_name,displayName:e.ui_friendly_name})},e.provider_name))})}),(0,r.jsx)(P.Z.Item,{label:(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-700 flex items-center",children:["API Key",(0,r.jsx)(J.Z,{title:"The API key for authenticating with the search provider. This will be securely stored.",children:(0,r.jsx)(eq.Z,{className:"ml-2 text-blue-400 hover:text-blue-600 cursor-help"})})]}),name:"api_key",rules:[{required:!1,message:"Please enter an API key"}],children:(0,r.jsx)(eF.o,{type:"password",placeholder:"Enter your API key",className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500"})}),(0,r.jsx)(P.Z.Item,{label:(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Description (Optional)"}),name:"description",children:(0,r.jsx)(tU,{rows:3,placeholder:"Brief description of this search tool's purpose",className:"rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500"})})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center pt-6 border-t border-gray-100",children:[(0,r.jsx)(J.Z,{title:"Get help on our github",children:(0,r.jsx)(tI.default.Link,{href:"https://github.com/BerriAI/litellm/issues",target:"_blank",children:"Need Help?"})}),(0,r.jsxs)("div",{className:"space-x-2",children:[(0,r.jsx)(eF.z,{onClick:Z,loading:h,children:"Test Connection"}),(0,r.jsx)(eF.z,{loading:c,type:"submit",children:"Add Search Tool"})]})]})]})}),(0,r.jsx)(I.Z,{title:"Connection Test Results",open:x,onCancel:()=>{p(!1),g(!1)},footer:[(0,r.jsx)(eF.z,{onClick:()=>{p(!1),g(!1)},children:"Close"},"close")],width:700,children:x&&s&&(0,r.jsx)(tq,{litellmParams:{search_provider:u.search_provider,api_key:u.api_key,api_base:u.api_base},accessToken:s,onTestComplete:()=>g(!1)},f)})]}):null};let tK=e=>{let{isModalOpen:t,title:s,confirmDelete:l,cancelDelete:a}=e;return t?(0,r.jsx)(I.Z,{open:t,onOk:l,okType:"danger",onCancel:a,children:(0,r.jsxs)(tk.Z,{numItems:1,className:"gap-2 w-full",children:[(0,r.jsx)(en.Z,{children:s}),(0,r.jsx)(tZ.Z,{numColSpan:1,children:(0,r.jsx)("p",{children:"Are you sure you want to delete this search tool?"})})]})}):null};var tY=e=>{let{accessToken:t,userRole:s,userID:a}=e,{data:n,isLoading:i,refetch:o}=(0,t_.a)({queryKey:["searchTools"],queryFn:()=>{if(!t)throw Error("Access Token required");return(0,C.fetchSearchTools)(t).then(e=>e.search_tools||[])},enabled:!!t}),{data:c,isLoading:d}=(0,t_.a)({queryKey:["searchProviders"],queryFn:()=>{if(!t)throw Error("Access Token required");return(0,C.fetchAvailableSearchProviders)(t)},enabled:!!t}),u=(null==c?void 0:c.providers)||[],[m,x]=(0,l.useState)(null),[p,h]=(0,l.useState)(!1),[g,f]=(0,l.useState)(null),[j,y]=(0,l.useState)(!1),[v,b]=(0,l.useState)(!1),[_,Z]=(0,l.useState)(!1),[k]=P.Z.useForm(),N=l.useMemo(()=>tS(e=>{f(e),y(!1)},e=>{let t=null==n?void 0:n.find(t=>t.search_tool_id===e);if(t){var s;k.setFieldsValue({search_tool_name:t.search_tool_name,search_provider:t.litellm_params.search_provider,api_key:t.litellm_params.api_key,api_base:t.litellm_params.api_base,timeout:t.litellm_params.timeout,max_retries:t.litellm_params.max_retries,description:null===(s=t.search_tool_info)||void 0===s?void 0:s.description}),f(e),Z(!0)}},w,u),[u,n,k]);function w(e){x(e),h(!0)}let S=async()=>{if(null!=m&&null!=t){try{await (0,C.deleteSearchTool)(t,m),eu.Z.success("Deleted search tool successfully"),o()}catch(e){console.error("Error deleting the search tool:",e),eu.Z.error("Failed to delete search tool")}h(!1),x(null)}},A=async()=>{if(t&&g)try{let e=await k.validateFields(),s={search_tool_name:e.search_tool_name,litellm_params:{search_provider:e.search_provider,api_key:e.api_key,api_base:e.api_base,timeout:e.timeout?parseFloat(e.timeout):void 0,max_retries:e.max_retries?parseInt(e.max_retries):void 0},search_tool_info:e.description?{description:e.description}:void 0};await (0,C.updateSearchTool)(t,g,s),eu.Z.success("Search tool updated successfully"),Z(!1),k.resetFields(),f(null),o()}catch(e){console.error("Failed to update search tool:",e),eu.Z.error("Failed to update search tool")}};return t&&s&&a?(0,r.jsxs)("div",{className:"w-full h-full p-6",children:[(0,r.jsx)(tK,{isModalOpen:p,title:"Delete Search Tool",confirmDelete:S,cancelDelete:()=>{h(!1),x(null)}}),(0,r.jsx)(tH,{userRole:s,accessToken:t,onCreateSuccess:e=>{b(!1),o()},isModalVisible:v,setModalVisible:b}),(0,r.jsx)(I.Z,{title:"Edit Search Tool",open:_,onOk:A,onCancel:()=>{Z(!1),k.resetFields(),f(null)},width:600,children:(0,r.jsxs)(P.Z,{form:k,layout:"vertical",children:[(0,r.jsx)(P.Z.Item,{name:"search_tool_name",label:"Search Tool Name",rules:[{required:!0,message:"Please enter a search tool name"}],children:(0,r.jsx)(E.default,{placeholder:"e.g., my-perplexity-search"})}),(0,r.jsx)(P.Z.Item,{name:"search_provider",label:"Search Provider",rules:[{required:!0,message:"Please select a search provider"}],children:(0,r.jsx)(eO.default,{placeholder:"Select a search provider",loading:d,children:u.map(e=>(0,r.jsx)(eO.default.Option,{value:e.provider_name,children:e.ui_friendly_name},e.provider_name))})}),(0,r.jsx)(P.Z.Item,{name:"api_key",label:"API Key",extra:"API key for the search provider",children:(0,r.jsx)(E.default.Password,{placeholder:"Enter API key"})}),(0,r.jsx)(P.Z.Item,{name:"description",label:"Description",children:(0,r.jsx)(E.default.TextArea,{rows:3,placeholder:"Description of this search tool"})})]})}),(0,r.jsx)(en.Z,{children:"Search Tools"}),(0,r.jsx)(ea.Z,{className:"text-tremor-content mt-2",children:"Configure and manage your search providers"}),(0,X.tY)(s)&&(0,r.jsx)($.Z,{className:"mt-4 mb-4",onClick:()=>b(!0),children:"+ Add New Search Tool"}),(0,r.jsx)(()=>g?(0,r.jsx)(tL,{searchTool:(null==n?void 0:n.find(e=>e.search_tool_id===g))||{search_tool_id:"",search_tool_name:"",litellm_params:{search_provider:""}},onBack:()=>{y(!1),f(null),o()},isEditing:j,accessToken:t,availableProviders:u}):(0,r.jsx)("div",{className:"w-full h-full",children:(0,r.jsx)("div",{className:"w-full px-6 mt-6",children:(0,r.jsx)(tN.w,{data:n||[],columns:N,renderSubComponent:()=>(0,r.jsx)("div",{}),getRowCanExpand:()=>!1,isLoading:i,noDataMessage:"No search tools configured"})})}),{})]}):(console.log("Missing required authentication parameters",{accessToken:t,userRole:s,userID:a}),(0,r.jsx)("div",{className:"p-6 text-center text-gray-500",children:"Missing required authentication parameters."}))};function tW(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";document.cookie="".concat(e,"=; Max-Age=0; Path=").concat(t)}function tJ(e){try{let t=(0,n.o)(e);if(t&&"number"==typeof t.exp)return 1e3*t.exp<=Date.now();return!1}catch(e){return!0}}let tG=new i.S;function tX(){return(0,r.jsxs)("div",{className:(0,e0.cx)("h-screen","flex items-center justify-center gap-4"),children:[(0,r.jsx)("div",{className:"text-lg font-medium py-2 pr-4 border-r border-r-gray-200",children:"\uD83D\uDE85 LiteLLM"}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)(eQ.S,{className:"size-4"}),(0,r.jsx)("span",{className:"text-gray-600 text-sm",children:"Loading..."})]})]})}function t$(){let[e,t]=(0,l.useState)(""),[s,i]=(0,l.useState)(!1),[T,I]=(0,l.useState)(!1),[P,D]=(0,l.useState)(null),[z,L]=(0,l.useState)(null),[E,R]=(0,l.useState)([]),[B,F]=(0,l.useState)([]),[O,q]=(0,l.useState)([]),[U,M]=(0,l.useState)({PROXY_BASE_URL:"",PROXY_LOGOUT_URL:""}),[V,H]=(0,l.useState)(!0),K=(0,a.useSearchParams)(),[Y,W]=(0,l.useState)({data:[]}),[J,G]=(0,l.useState)(null),[$,Q]=(0,l.useState)(!1),[ee,et]=(0,l.useState)(!0),[es,er]=(0,l.useState)(null),{refactoredUIFlag:el}=(0,e1.Z)(),ea=K.get("invitation_id"),[en,ei]=(0,l.useState)(()=>K.get("page")||"api-keys"),[eo,ec]=(0,l.useState)(null),[ed,eu]=(0,l.useState)(!1),eb=e=>{R(t=>t?[...t,e]:[e]),Q(()=>!$)},e_=!1===ee&&null===J&&null===ea;return((0,l.useEffect)(()=>{let e=!1;return(async()=>{try{await (0,C.getUiConfig)()}catch(e){}if(e)return;let t=function(e){let t=document.cookie.split("; ").find(t=>t.startsWith(e+"="));if(!t)return null;let s=t.slice(e.length+1);try{return decodeURIComponent(s)}catch(e){return s}}("token"),s=t&&!tJ(t)?t:null;t&&!s&&tW("token","/"),e||(G(s),et(!1))})(),()=>{e=!0}},[]),(0,l.useEffect)(()=>{if(e_){let e=(C.proxyBaseUrl||"")+"/sso/key/generate";window.location.replace(e)}},[e_]),(0,l.useEffect)(()=>{if(!J)return;if(tJ(J)){tW("token","/"),G(null);return}let e=null;try{e=(0,n.o)(J)}catch(e){tW("token","/"),G(null);return}if(e){if(ec(e.key),I(e.disabled_non_admin_personal_key_creation),e.user_role){let s=function(e){if(!e)return"Undefined Role";switch(e.toLowerCase()){case"app_owner":case"demo_app_owner":return"App Owner";case"app_admin":case"proxy_admin":return"Admin";case"proxy_admin_viewer":return"Admin Viewer";case"org_admin":return"Org Admin";case"internal_user":return"Internal User";case"internal_user_viewer":case"internal_viewer":return"Internal Viewer";case"app_user":return"App User";default:return"Unknown Role"}}(e.user_role);t(s),"Admin Viewer"==s&&ei("usage")}e.user_email&&D(e.user_email),e.login_method&&H("username_password"==e.login_method),e.premium_user&&i(e.premium_user),e.auth_header_name&&(0,C.setGlobalLitellmHeaderName)(e.auth_header_name),e.user_id&&er(e.user_id)}},[J]),(0,l.useEffect)(()=>{eo&&es&&e&&(0,eh.Nr)(es,e,eo,q),eo&&es&&e&&(0,eg.Z)(eo,es,e,null,L),eo&&(0,p.g)(eo,F)},[eo,es,e]),ee||e_)?(0,r.jsx)(tX,{}):(0,r.jsx)(l.Suspense,{fallback:(0,r.jsx)(tX,{}),children:(0,r.jsx)(o.aH,{client:tG,children:(0,r.jsx)(d.f,{accessToken:eo,children:ea?(0,r.jsx)(u.Z,{userID:es,userRole:e,premiumUser:s,teams:z,keys:E,setUserRole:t,userEmail:P,setUserEmail:D,setTeams:L,setKeys:R,organizations:B,addKey:eb,createClicked:$}):(0,r.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,r.jsx)(c.Z,{userID:es,userRole:e,premiumUser:s,userEmail:P,setProxySettings:M,proxySettings:U,accessToken:eo,isPublicPage:!1,sidebarCollapsed:ed,onToggleSidebar:()=>{eu(!ed)}}),(0,r.jsxs)("div",{className:"flex flex-1 overflow-auto",children:[(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)(tb,{setPage:e=>{let t=new URLSearchParams(K);t.set("page",e),window.history.pushState(null,"","?".concat(t.toString())),ei(e)},defaultSelectedKey:en,sidebarCollapsed:ed})}),"api-keys"==en?(0,r.jsx)(u.Z,{userID:es,userRole:e,premiumUser:s,teams:z,keys:E,setUserRole:t,userEmail:P,setUserEmail:D,setTeams:L,setKeys:R,organizations:B,addKey:eb,createClicked:$}):"models"==en?(0,r.jsx)(m.Z,{userID:es,userRole:e,token:J,keys:E,accessToken:eo,modelData:Y,setModelData:W,premiumUser:s,teams:z}):"llm-playground"==en?(0,r.jsx)(N.default,{}):"users"==en?(0,r.jsx)(x.Z,{userID:es,userRole:e,token:J,keys:E,teams:z,accessToken:eo,setKeys:R}):"teams"==en?(0,r.jsx)("div",{children:"Teams page temporarily disabled during build"}):"organizations"==en?(0,r.jsx)(p.Z,{organizations:B,setOrganizations:F,userModels:O,accessToken:eo,userRole:e,premiumUser:s}):"admin-panel"==en?(0,r.jsx)(h.Z,{setTeams:L,searchParams:K,accessToken:eo,userID:es,showSSOBanner:V,premiumUser:s,proxySettings:U}):"api_ref"==en?(0,r.jsx)(k.Z,{proxySettings:U}):"logging-and-alerts"==en?(0,r.jsx)(g.Z,{userID:es,userRole:e,accessToken:eo,premiumUser:s}):"budgets"==en?(0,r.jsx)(y.Z,{accessToken:eo}):"guardrails"==en?(0,r.jsx)(A.Z,{accessToken:eo,userRole:e}):"agents"==en?(0,r.jsx)(em,{accessToken:eo,userRole:e}):"prompts"==en?(0,r.jsx)(ex.Z,{accessToken:eo,userRole:e}):"transform-request"==en?(0,r.jsx)(ep.Z,{accessToken:eo}):"router-settings"==en?(0,r.jsx)(f.Z,{userID:es,userRole:e,accessToken:eo,modelData:Y}):"ui-theme"==en?(0,r.jsx)(ev.Z,{userID:es,userRole:e,accessToken:eo}):"cost-tracking"==en?(0,r.jsx)(e$,{userID:es,userRole:e,accessToken:eo}):"model-hub-table"==en?(0,X.tY)(e)?(0,r.jsx)(b.Z,{accessToken:eo,publicPage:!1,premiumUser:s,userRole:e}):(0,r.jsx)(_.Z,{accessToken:eo,isEmbedded:!0}):"caching"==en?(0,r.jsx)(S.Z,{userID:es,userRole:e,token:J,accessToken:eo,premiumUser:s}):"pass-through-settings"==en?(0,r.jsx)(j.Z,{userID:es,userRole:e,accessToken:eo,modelData:Y,premiumUser:s}):"logs"==en?(0,r.jsx)(v.Z,{userID:es,userRole:e,token:J,accessToken:eo,allTeams:null!=z?z:[],premiumUser:s}):"mcp-servers"==en?(0,r.jsx)(ef.d,{accessToken:eo,userRole:e,userID:es}):"search-tools"==en?(0,r.jsx)(tY,{accessToken:eo,userRole:e,userID:es}):"tag-management"==en?(0,r.jsx)(ej.Z,{accessToken:eo,userRole:e,userID:es}):"vector-stores"==en?(0,r.jsx)(ey.Z,{accessToken:eo,userRole:e,userID:es}):"new_usage"==en?(0,r.jsx)(Z.Z,{userID:es,userRole:e,accessToken:eo,teams:null!=z?z:[],premiumUser:s}):(0,r.jsx)(w.Z,{userID:es,userRole:e,token:J,accessToken:eo,keys:E,premiumUser:s})]})]})})})})}},49104:function(e,t,s){"use strict";s.d(t,{Z:function(){return R}});var r=s(57437),l=s(53410),a=s(74998),n=s(78489),i=s(12514),o=s(47323),c=s(12485),d=s(18135),u=s(35242),m=s(29706),x=s(77991),p=s(21626),h=s(97214),g=s(28241),f=s(58834),j=s(69552),y=s(71876),v=s(84264),b=s(2265),_=s(17906),Z=s(21609),k=s(9114),N=s(19250),w=s(87452),S=s(88829),C=s(72208),A=s(49566),T=s(10032),I=s(22116),P=s(19015),D=s(37592),z=s(5545),L=e=>{let{isModalVisible:t,accessToken:s,setIsModalVisible:l,setBudgetList:a}=e,[n]=T.Z.useForm(),i=async e=>{if(null!=s&&void 0!=s)try{k.Z.info("Making API Call");let t=await (0,N.budgetCreateCall)(s,e);console.log("key create Response:",t),a(e=>e?[...e,t]:[t]),k.Z.success("Budget Created"),n.resetFields()}catch(e){console.error("Error creating the key:",e),k.Z.fromBackend("Error creating the key: ".concat(e))}};return(0,r.jsx)(I.Z,{title:"Create Budget",visible:t,width:800,footer:null,onOk:()=>{l(!1),n.resetFields()},onCancel:()=>{l(!1),n.resetFields()},children:(0,r.jsxs)(T.Z,{form:n,onFinish:i,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",children:[(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T.Z.Item,{label:"Budget ID",name:"budget_id",rules:[{required:!0,message:"Please input a human-friendly name for the budget"}],help:"A human-friendly name for the budget",children:(0,r.jsx)(A.Z,{placeholder:""})}),(0,r.jsx)(T.Z.Item,{label:"Max Tokens per minute",name:"tpm_limit",help:"Default is model limit.",children:(0,r.jsx)(P.Z,{step:1,precision:2,width:200})}),(0,r.jsx)(T.Z.Item,{label:"Max Requests per minute",name:"rpm_limit",help:"Default is model limit.",children:(0,r.jsx)(P.Z,{step:1,precision:2,width:200})}),(0,r.jsxs)(w.Z,{className:"mt-20 mb-8",children:[(0,r.jsx)(C.Z,{children:(0,r.jsx)("b",{children:"Optional Settings"})}),(0,r.jsxs)(S.Z,{children:[(0,r.jsx)(T.Z.Item,{label:"Max Budget (USD)",name:"max_budget",children:(0,r.jsx)(P.Z,{step:.01,precision:2,width:200})}),(0,r.jsx)(T.Z.Item,{className:"mt-8",label:"Reset Budget",name:"budget_duration",children:(0,r.jsxs)(D.default,{defaultValue:null,placeholder:"n/a",children:[(0,r.jsx)(D.default.Option,{value:"24h",children:"daily"}),(0,r.jsx)(D.default.Option,{value:"7d",children:"weekly"}),(0,r.jsx)(D.default.Option,{value:"30d",children:"monthly"})]})})]})]})]}),(0,r.jsx)("div",{style:{textAlign:"right",marginTop:"10px"},children:(0,r.jsx)(z.ZP,{htmlType:"submit",children:"Create Budget"})})]})})},E=e=>{let{isModalVisible:t,accessToken:s,setIsModalVisible:l,setBudgetList:a,existingBudget:n,handleUpdateCall:i}=e;console.log("existingBudget",n);let[o]=T.Z.useForm();(0,b.useEffect)(()=>{o.setFieldsValue(n)},[n,o]);let c=async e=>{if(null!=s&&void 0!=s)try{k.Z.info("Making API Call"),l(!0);let t=await (0,N.budgetUpdateCall)(s,e);a(e=>e?[...e,t]:[t]),k.Z.success("Budget Updated"),o.resetFields(),i()}catch(e){console.error("Error creating the key:",e),k.Z.fromBackend("Error creating the key: ".concat(e))}};return(0,r.jsx)(I.Z,{title:"Edit Budget",visible:t,width:800,footer:null,onOk:()=>{l(!1),o.resetFields()},onCancel:()=>{l(!1),o.resetFields()},children:(0,r.jsxs)(T.Z,{form:o,onFinish:c,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",initialValues:n,children:[(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T.Z.Item,{label:"Budget ID",name:"budget_id",rules:[{required:!0,message:"Please input a human-friendly name for the budget"}],help:"A human-friendly name for the budget",children:(0,r.jsx)(A.Z,{placeholder:""})}),(0,r.jsx)(T.Z.Item,{label:"Max Tokens per minute",name:"tpm_limit",help:"Default is model limit.",children:(0,r.jsx)(P.Z,{step:1,precision:2,width:200})}),(0,r.jsx)(T.Z.Item,{label:"Max Requests per minute",name:"rpm_limit",help:"Default is model limit.",children:(0,r.jsx)(P.Z,{step:1,precision:2,width:200})}),(0,r.jsxs)(w.Z,{className:"mt-20 mb-8",children:[(0,r.jsx)(C.Z,{children:(0,r.jsx)("b",{children:"Optional Settings"})}),(0,r.jsxs)(S.Z,{children:[(0,r.jsx)(T.Z.Item,{label:"Max Budget (USD)",name:"max_budget",children:(0,r.jsx)(P.Z,{step:.01,precision:2,width:200})}),(0,r.jsx)(T.Z.Item,{className:"mt-8",label:"Reset Budget",name:"budget_duration",children:(0,r.jsxs)(D.default,{defaultValue:null,placeholder:"n/a",children:[(0,r.jsx)(D.default.Option,{value:"24h",children:"daily"}),(0,r.jsx)(D.default.Option,{value:"7d",children:"weekly"}),(0,r.jsx)(D.default.Option,{value:"30d",children:"monthly"})]})})]})]})]}),(0,r.jsx)("div",{style:{textAlign:"right",marginTop:"10px"},children:(0,r.jsx)(z.ZP,{htmlType:"submit",children:"Save"})})]})})},R=e=>{let{accessToken:t}=e,[s,w]=(0,b.useState)(!1),[S,C]=(0,b.useState)(!1),[A,T]=(0,b.useState)(null),[I,P]=(0,b.useState)([]),[D,z]=(0,b.useState)(!1),[R,B]=(0,b.useState)(!1);(0,b.useEffect)(()=>{t&&(0,N.getBudgetList)(t).then(e=>{P(e)})},[t]);let F=async e=>{null!=t&&(T(e),C(!0))},O=e=>{T(e),B(!0)},q=async()=>{if(A&&null!=t){z(!0);try{await (0,N.budgetDeleteCall)(t,A.budget_id),k.Z.success("Budget deleted."),await U()}catch(e){console.error("Error deleting budget:",e),"function"==typeof k.Z.fromBackend?k.Z.fromBackend("Failed to delete budget"):k.Z.info("Failed to delete budget")}finally{z(!1),B(!1),T(null)}}},U=async()=>{null!=t&&(0,N.getBudgetList)(t).then(e=>{P(e)})};return(0,r.jsxs)("div",{className:"w-full mx-auto flex-auto overflow-y-auto m-8 p-2",children:[(0,r.jsx)(n.Z,{size:"sm",variant:"primary",className:"mb-2",onClick:()=>w(!0),children:"+ Create Budget"}),(0,r.jsx)(L,{accessToken:t,isModalVisible:s,setIsModalVisible:w,setBudgetList:P}),A&&(0,r.jsx)(E,{accessToken:t,isModalVisible:S,setIsModalVisible:C,setBudgetList:P,existingBudget:A,handleUpdateCall:U}),(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(v.Z,{children:"Create a budget to assign to customers."}),(0,r.jsxs)(p.Z,{children:[(0,r.jsx)(f.Z,{children:(0,r.jsxs)(y.Z,{children:[(0,r.jsx)(j.Z,{children:"Budget ID"}),(0,r.jsx)(j.Z,{children:"Max Budget"}),(0,r.jsx)(j.Z,{children:"TPM"}),(0,r.jsx)(j.Z,{children:"RPM"})]})}),(0,r.jsx)(h.Z,{children:I.slice().sort((e,t)=>new Date(t.updated_at).getTime()-new Date(e.updated_at).getTime()).map((e,t)=>(0,r.jsxs)(y.Z,{children:[(0,r.jsx)(g.Z,{children:e.budget_id}),(0,r.jsx)(g.Z,{children:e.max_budget?e.max_budget:"n/a"}),(0,r.jsx)(g.Z,{children:e.tpm_limit?e.tpm_limit:"n/a"}),(0,r.jsx)(g.Z,{children:e.rpm_limit?e.rpm_limit:"n/a"}),(0,r.jsx)(o.Z,{icon:l.Z,size:"sm",className:"cursor-pointer",onClick:()=>F(e)}),(0,r.jsx)(o.Z,{icon:a.Z,size:"sm",className:"cursor-pointer hover:text-red-500",onClick:()=>O(e)})]},t))})]})]}),(0,r.jsx)(Z.Z,{isOpen:R,title:"Delete Budget?",message:"Are you sure you want to delete this budget? This action cannot be undone.",resourceInformationTitle:"Budget Information",resourceInformation:[{label:"Budget ID",value:null==A?void 0:A.budget_id,code:!0},{label:"Max Budget",value:null==A?void 0:A.max_budget},{label:"TPM",value:null==A?void 0:A.tpm_limit},{label:"RPM",value:null==A?void 0:A.rpm_limit}],onCancel:()=>{B(!1)},onOk:q,confirmLoading:D}),(0,r.jsxs)("div",{className:"mt-5",children:[(0,r.jsx)(v.Z,{className:"text-base",children:"How to use budget id"}),(0,r.jsxs)(d.Z,{children:[(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(c.Z,{children:"Assign Budget to Customer"}),(0,r.jsx)(c.Z,{children:"Test it (Curl)"}),(0,r.jsx)(c.Z,{children:"Test it (OpenAI SDK)"})]}),(0,r.jsxs)(x.Z,{children:[(0,r.jsx)(m.Z,{children:(0,r.jsx)(_.Z,{language:"bash",children:"\ncurl -X POST --location '<your_proxy_base_url>/end_user/new' \n-H 'Authorization: Bearer <your-master-key>' \n-H 'Content-Type: application/json' \n-d '{\"user_id\": \"my-customer-id', \"budget_id\": \"<BUDGET_ID>\"}' # \uD83D\uDC48 KEY CHANGE\n\n            "})}),(0,r.jsx)(m.Z,{children:(0,r.jsx)(_.Z,{language:"bash",children:'\ncurl -X POST --location \'<your_proxy_base_url>/chat/completions\' \n-H \'Authorization: Bearer <your-master-key>\' \n-H \'Content-Type: application/json\' \n-d \'{\n  "model": "gpt-3.5-turbo\', \n  "messages":[{"role": "user", "content": "Hey, how\'s it going?"}],\n  "user": "my-customer-id"\n}\' # \uD83D\uDC48 KEY CHANGE\n\n            '})}),(0,r.jsx)(m.Z,{children:(0,r.jsx)(_.Z,{language:"python",children:'from openai import OpenAI\nclient = OpenAI(\n  base_url="<your_proxy_base_url>",\n  api_key="<your_proxy_key>"\n)\n\ncompletion = client.chat.completions.create(\n  model="gpt-3.5-turbo",\n  messages=[\n    {"role": "system", "content": "You are a helpful assistant."},\n    {"role": "user", "content": "Hello!"}\n  ],\n  user="my-customer-id"\n)\n\nprint(completion.choices[0].message)'})})]})]})]})]})}},6674:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var r=s(57437),l=s(2265),a=s(5545),n=s(23639),i=s(96761),o=s(19250),c=s(9114),d=e=>{let{accessToken:t}=e,[s,d]=(0,l.useState)('{\n  "model": "openai/gpt-4o",\n  "messages": [\n    {\n      "role": "system",\n      "content": "You are a helpful assistant."\n    },\n    {\n      "role": "user",\n      "content": "Explain quantum computing in simple terms"\n    }\n  ],\n  "temperature": 0.7,\n  "max_tokens": 500,\n  "stream": true\n}'),[u,m]=(0,l.useState)(""),[x,p]=(0,l.useState)(!1),h=(e,t,s)=>{let r=JSON.stringify(t,null,2).split("\n").map(e=>"  ".concat(e)).join("\n"),l=Object.entries(s).map(e=>{let[t,s]=e;return"-H '".concat(t,": ").concat(s,"'")}).join(" \\\n  ");return"curl -X POST \\\n  ".concat(e," \\\n  ").concat(l?"".concat(l," \\\n  "):"","-H 'Content-Type: application/json' \\\n  -d '{\n").concat(r,"\n  }'")},g=async()=>{p(!0);try{let e;try{e=JSON.parse(s)}catch(e){c.Z.fromBackend("Invalid JSON in request body"),p(!1);return}let r={call_type:"completion",request_body:e};if(!t){c.Z.fromBackend("No access token found"),p(!1);return}let l=await (0,o.transformRequestCall)(t,r);if(l.raw_request_api_base&&l.raw_request_body){let e=h(l.raw_request_api_base,l.raw_request_body,l.raw_request_headers||{});m(e),c.Z.success("Request transformed successfully")}else{let e="string"==typeof l?l:JSON.stringify(l);m(e),c.Z.info("Transformed request received in unexpected format")}}catch(e){console.error("Error transforming request:",e),c.Z.fromBackend("Failed to transform request")}finally{p(!1)}};return(0,r.jsxs)("div",{className:"w-full m-2",style:{overflow:"hidden"},children:[(0,r.jsx)(i.Z,{children:"Playground"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"See how LiteLLM transforms your request for the specified provider."}),(0,r.jsxs)("div",{style:{display:"flex",gap:"16px",width:"100%",minWidth:0,overflow:"hidden"},className:"mt-4",children:[(0,r.jsxs)("div",{style:{flex:"1 1 50%",display:"flex",flexDirection:"column",border:"1px solid #e8e8e8",borderRadius:"8px",padding:"24px",overflow:"hidden",maxHeight:"600px",minWidth:0},children:[(0,r.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,r.jsx)("h2",{style:{fontSize:"24px",fontWeight:"bold",margin:"0 0 4px 0"},children:"Original Request"}),(0,r.jsx)("p",{style:{color:"#666",margin:0},children:"The request you would send to LiteLLM /chat/completions endpoint."})]}),(0,r.jsx)("textarea",{style:{flex:"1 1 auto",width:"100%",minHeight:"240px",padding:"16px",border:"1px solid #e8e8e8",borderRadius:"6px",fontFamily:"monospace",fontSize:"14px",resize:"none",marginBottom:"24px",overflow:"auto"},value:s,onChange:e=>d(e.target.value),onKeyDown:e=>{(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&(e.preventDefault(),g())},placeholder:"Press Cmd/Ctrl + Enter to transform"}),(0,r.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"auto"},children:(0,r.jsxs)(a.ZP,{type:"primary",style:{backgroundColor:"#000",display:"flex",alignItems:"center",gap:"8px"},onClick:g,loading:x,children:[(0,r.jsx)("span",{children:"Transform"}),(0,r.jsx)("span",{children:""})]})})]}),(0,r.jsxs)("div",{style:{flex:"1 1 50%",display:"flex",flexDirection:"column",border:"1px solid #e8e8e8",borderRadius:"8px",padding:"24px",overflow:"hidden",maxHeight:"800px",minWidth:0},children:[(0,r.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,r.jsx)("h2",{style:{fontSize:"24px",fontWeight:"bold",margin:"0 0 4px 0"},children:"Transformed Request"}),(0,r.jsx)("p",{style:{color:"#666",margin:0},children:"How LiteLLM transforms your request for the specified provider."}),(0,r.jsx)("br",{}),(0,r.jsx)("p",{style:{color:"#666",margin:0},className:"text-xs",children:"Note: Sensitive headers are not shown."})]}),(0,r.jsxs)("div",{style:{position:"relative",backgroundColor:"#f5f5f5",borderRadius:"6px",flex:"1 1 auto",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,r.jsx)("pre",{style:{padding:"16px",fontFamily:"monospace",fontSize:"14px",margin:0,overflow:"auto",flex:"1 1 auto"},children:u||'curl -X POST \\\n  https://api.openai.com/v1/chat/completions \\\n  -H \'Authorization: Bearer sk-xxx\' \\\n  -H \'Content-Type: application/json\' \\\n  -d \'{\n  "model": "gpt-4",\n  "messages": [\n    {\n      "role": "system",\n      "content": "You are a helpful assistant."\n    }\n  ],\n  "temperature": 0.7\n  }\''}),(0,r.jsx)(a.ZP,{type:"text",icon:(0,r.jsx)(n.Z,{}),style:{position:"absolute",right:"8px",top:"8px"},size:"small",onClick:()=>{navigator.clipboard.writeText(u||""),c.Z.success("Copied to clipboard")}})]})]})]}),(0,r.jsx)("div",{className:"mt-4 text-right w-full",children:(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Found an error? File an issue"," ",(0,r.jsx)("a",{href:"https://github.com/BerriAI/litellm/issues",target:"_blank",rel:"noopener noreferrer",children:"here"}),"."]})})]})}},5183:function(e,t,s){"use strict";var r=s(57437),l=s(2265),a=s(19046),n=s(69734),i=s(19250),o=s(9114);t.Z=e=>{let{userID:t,userRole:s,accessToken:c}=e,{logoUrl:d,setLogoUrl:u}=(0,n.F)(),[m,x]=(0,l.useState)(""),[p,h]=(0,l.useState)(!1);(0,l.useEffect)(()=>{c&&g()},[c]);let g=async()=>{try{let t=(0,i.getProxyBaseUrl)(),s=await fetch(t?"".concat(t,"/get/ui_theme_settings"):"/get/ui_theme_settings",{method:"GET",headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json"}});if(s.ok){var e;let t=await s.json(),r=(null===(e=t.values)||void 0===e?void 0:e.logo_url)||"";x(r),u(r||null)}}catch(e){console.error("Error fetching theme settings:",e)}},f=async()=>{h(!0);try{let e=(0,i.getProxyBaseUrl)();if((await fetch(e?"".concat(e,"/update/ui_theme_settings"):"/update/ui_theme_settings",{method:"PATCH",headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json"},body:JSON.stringify({logo_url:m||null})})).ok)o.Z.success("Logo settings updated successfully!"),u(m||null);else throw Error("Failed to update settings")}catch(e){console.error("Error updating logo settings:",e),o.Z.fromBackend("Failed to update logo settings")}finally{h(!1)}},j=async()=>{x(""),u(null),h(!0);try{let e=(0,i.getProxyBaseUrl)();if((await fetch(e?"".concat(e,"/update/ui_theme_settings"):"/update/ui_theme_settings",{method:"PATCH",headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json"},body:JSON.stringify({logo_url:null})})).ok)o.Z.success("Logo reset to default!");else throw Error("Failed to reset logo")}catch(e){console.error("Error resetting logo:",e),o.Z.fromBackend("Failed to reset logo")}finally{h(!1)}};return c?(0,r.jsxs)("div",{className:"w-full mx-auto max-w-4xl px-6 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)(a.Dx,{className:"text-2xl font-bold mb-2",children:"Logo Customization"}),(0,r.jsx)(a.xv,{className:"text-gray-600",children:"Customize your LiteLLM admin dashboard with a custom logo."})]}),(0,r.jsx)(a.Zb,{className:"shadow-sm p-6",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(a.xv,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Custom Logo URL"}),(0,r.jsx)(a.oi,{placeholder:"https://example.com/logo.png",value:m,onValueChange:e=>{x(e),u(e||null)},className:"w-full"}),(0,r.jsx)(a.xv,{className:"text-xs text-gray-500 mt-1",children:"Enter a URL for your custom logo or leave empty to use the default LiteLLM logo"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(a.xv,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Current Logo"}),(0,r.jsx)("div",{className:"bg-gray-50 rounded-lg p-6 flex items-center justify-center min-h-[120px]",children:m?(0,r.jsx)("img",{src:m,alt:"Custom logo",className:"max-w-full max-h-24 object-contain",onError:e=>{var t;let s=e.target;s.style.display="none";let r=document.createElement("div");r.className="text-gray-500 text-sm",r.textContent="Failed to load image",null===(t=s.parentElement)||void 0===t||t.appendChild(r)}}):(0,r.jsx)(a.xv,{className:"text-gray-500 text-sm",children:"Default LiteLLM logo will be used"})})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,r.jsx)(a.zx,{onClick:f,loading:p,disabled:p,color:"indigo",children:"Save Changes"}),(0,r.jsx)(a.zx,{onClick:j,loading:p,disabled:p,variant:"secondary",color:"gray",children:"Reset to Default"})]})]})})]}):null}}},function(e){e.O(0,[1047,3665,6990,9028,9409,4865,8135,1442,2926,2409,1529,3709,1394,1994,2525,3705,8565,353,5319,9678,525,6609,5869,7996,7906,9611,9165,9009,816,7271,8235,5170,5690,766,8568,1674,2744,3250,7488,544,9716,6769,8049,9877,2202,874,4292,7526,5572,2249,2012,2004,1598,7641,7164,3801,630,8093,7155,8524,1739,6600,773,9111,8143,1518,4289,2273,2019,2971,2117,1744],function(){return e(e.s=60571)}),_N_E=e.O()}]);