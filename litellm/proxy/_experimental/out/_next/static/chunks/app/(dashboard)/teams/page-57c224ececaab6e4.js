(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9483],{45744:function(e,s,l){Promise.resolve().then(l.bind(l,67578))},40728:function(e,s,l){"use strict";l.d(s,{C:function(){return a.Z},x:function(){return t.Z}});var a=l(41649),t=l(84264)},88913:function(e,s,l){"use strict";l.d(s,{Dx:function(){return c.Z},Zb:function(){return t.Z},iz:function(){return r.Z},oi:function(){return n.Z},xv:function(){return i.Z},zx:function(){return a.Z}});var a=l(20831),t=l(12514),r=l(67982),i=l(84264),n=l(49566),c=l(96761)},25512:function(e,s,l){"use strict";l.d(s,{P:function(){return a.Z},Q:function(){return t.Z}});var a=l(27281),t=l(57365)},67578:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return ej}});var a=l(57437),t=l(2265),r=l(19250),i=l(39210),n=l(13634),c=l(33293),o=l(88904),d=l(20347),m=l(20831),x=l(12514),u=l(49804),h=l(67101),g=l(29706),p=l(84264),j=l(918),f=l(59872),b=l(47323),v=l(12485),y=l(18135),_=l(35242),N=l(77991),w=l(23628),Z=e=>{let{lastRefreshed:s,onRefresh:l,userRole:t,children:r}=e;return(0,a.jsxs)(y.Z,{className:"gap-2 h-[75vh] w-full",children:[(0,a.jsxs)(_.Z,{className:"flex justify-between mt-2 w-full items-center",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(v.Z,{children:"Your Teams"}),(0,a.jsx)(v.Z,{children:"Available Teams"}),(0,d.tY)(t||"")&&(0,a.jsx)(v.Z,{children:"Default Team Settings"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[s&&(0,a.jsxs)(p.Z,{children:["Last Refreshed: ",s]}),(0,a.jsx)(b.Z,{icon:w.Z,variant:"shadow",size:"xs",className:"self-center",onClick:l})]})]}),(0,a.jsx)(N.Z,{children:r})]})},C=l(25512),S=e=>{let{filters:s,organizations:l,showFilters:t,onToggleFilters:r,onChange:i,onReset:n}=e;return(0,a.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,a.jsxs)("div",{className:"relative w-64",children:[(0,a.jsx)("input",{type:"text",placeholder:"Search by Team Name...",className:"w-full px-3 py-2 pl-8 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:s.team_alias,onChange:e=>i("team_alias",e.target.value)}),(0,a.jsx)("svg",{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),(0,a.jsxs)("button",{className:"px-3 py-2 text-sm border rounded-md hover:bg-gray-50 flex items-center gap-2 ".concat(t?"bg-gray-100":""),onClick:()=>r(!t),children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filters",(s.team_id||s.team_alias||s.organization_id)&&(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-500"})]}),(0,a.jsxs)("button",{className:"px-3 py-2 text-sm border rounded-md hover:bg-gray-50 flex items-center gap-2",onClick:n,children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reset Filters"]})]}),t&&(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mt-3",children:[(0,a.jsxs)("div",{className:"relative w-64",children:[(0,a.jsx)("input",{type:"text",placeholder:"Enter Team ID",className:"w-full px-3 py-2 pl-8 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:s.team_id,onChange:e=>i("team_id",e.target.value)}),(0,a.jsx)("svg",{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),(0,a.jsx)("div",{className:"w-64",children:(0,a.jsx)(C.P,{value:s.organization_id||"",onValueChange:e=>i("organization_id",e),placeholder:"Select Organization",children:null==l?void 0:l.map(e=>(0,a.jsx)(C.Q,{value:e.organization_id||"",children:e.organization_alias||e.organization_id},e.organization_id))})})]})]})},k=l(39760),T=e=>{let{currentOrg:s,setTeams:l}=e,[a,r]=(0,t.useState)(""),{accessToken:n,userId:c,userRole:o}=(0,k.Z)(),d=(0,t.useCallback)(()=>{r(new Date().toLocaleString())},[]);return(0,t.useEffect)(()=>{n&&(0,i.Z)(n,c,o,s,l).then(),d()},[n,s,a,d,l,c,o]),{lastRefreshed:a,setLastRefreshed:r,onRefreshClick:d}},M=l(21626),z=l(97214),A=l(28241),E=l(58834),D=l(69552),F=l(71876),L=l(89970),P=l(53410),O=l(74998),I=l(41649),V=l(86462),R=l(47686),B=l(46468),W=e=>{let{team:s}=e,[l,r]=(0,t.useState)(!1);return(0,a.jsx)(A.Z,{style:{maxWidth:"8-x",whiteSpace:"pre-wrap",overflow:"hidden"},className:s.models.length>3?"px-0":"",children:(0,a.jsx)("div",{className:"flex flex-col",children:Array.isArray(s.models)?(0,a.jsx)("div",{className:"flex flex-col",children:0===s.models.length?(0,a.jsx)(I.Z,{size:"xs",className:"mb-1",color:"red",children:(0,a.jsx)(p.Z,{children:"All Proxy Models"})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex items-start",children:[s.models.length>3&&(0,a.jsx)("div",{children:(0,a.jsx)(b.Z,{icon:l?V.Z:R.Z,className:"cursor-pointer",size:"xs",onClick:()=>{r(e=>!e)}})}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[s.models.slice(0,3).map((e,s)=>"all-proxy-models"===e?(0,a.jsx)(I.Z,{size:"xs",color:"red",children:(0,a.jsx)(p.Z,{children:"All Proxy Models"})},s):(0,a.jsx)(I.Z,{size:"xs",color:"blue",children:(0,a.jsx)(p.Z,{children:e.length>30?"".concat((0,B.W0)(e).slice(0,30),"..."):(0,B.W0)(e)})},s)),s.models.length>3&&!l&&(0,a.jsx)(I.Z,{size:"xs",color:"gray",className:"cursor-pointer",children:(0,a.jsxs)(p.Z,{children:["+",s.models.length-3," ",s.models.length-3==1?"more model":"more models"]})}),l&&(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:s.models.slice(3).map((e,s)=>"all-proxy-models"===e?(0,a.jsx)(I.Z,{size:"xs",color:"red",children:(0,a.jsx)(p.Z,{children:"All Proxy Models"})},s+3):(0,a.jsx)(I.Z,{size:"xs",color:"blue",children:(0,a.jsx)(p.Z,{children:e.length>30?"".concat((0,B.W0)(e).slice(0,30),"..."):(0,B.W0)(e)})},s+3))})]})]})})}):null})})},U=l(88906),G=l(92369),J=e=>{let s="inline-flex items-center px-2.5 py-0.5 rounded-md text-xs font-medium border";return"admin"===e?(0,a.jsxs)("span",{className:s,style:{backgroundColor:"#EEF2FF",color:"#3730A3",borderColor:"#C7D2FE"},children:[(0,a.jsx)(U.Z,{className:"h-3 w-3 mr-1"}),"Admin"]}):(0,a.jsxs)("span",{className:s,style:{backgroundColor:"#F3F4F6",color:"#4B5563",borderColor:"#E5E7EB"},children:[(0,a.jsx)(G.Z,{className:"h-3 w-3 mr-1"}),"Member"]})};let Q=(e,s)=>{var l,a;if(!s)return null;let t=null===(l=e.members_with_roles)||void 0===l?void 0:l.find(e=>e.user_id===s);return null!==(a=null==t?void 0:t.role)&&void 0!==a?a:null};var q=e=>{let{team:s,userId:l}=e,t=J(Q(s,l));return(0,a.jsx)(A.Z,{children:t})},K=e=>{let{teams:s,currentOrg:l,setSelectedTeamId:t,perTeamInfo:r,userRole:i,userId:n,setEditTeam:c,onDeleteTeam:o}=e;return(0,a.jsxs)(M.Z,{children:[(0,a.jsx)(E.Z,{children:(0,a.jsxs)(F.Z,{children:[(0,a.jsx)(D.Z,{children:"Team Name"}),(0,a.jsx)(D.Z,{children:"Team ID"}),(0,a.jsx)(D.Z,{children:"Created"}),(0,a.jsx)(D.Z,{children:"Spend (USD)"}),(0,a.jsx)(D.Z,{children:"Budget (USD)"}),(0,a.jsx)(D.Z,{children:"Models"}),(0,a.jsx)(D.Z,{children:"Organization"}),(0,a.jsx)(D.Z,{children:"Your Role"}),(0,a.jsx)(D.Z,{children:"Info"})]})}),(0,a.jsx)(z.Z,{children:s&&s.length>0?s.filter(e=>!l||e.organization_id===l.organization_id).sort((e,s)=>new Date(s.created_at).getTime()-new Date(e.created_at).getTime()).map(e=>(0,a.jsxs)(F.Z,{children:[(0,a.jsx)(A.Z,{style:{maxWidth:"4px",whiteSpace:"pre-wrap",overflow:"hidden"},children:e.team_alias}),(0,a.jsx)(A.Z,{children:(0,a.jsx)("div",{className:"overflow-hidden",children:(0,a.jsx)(L.Z,{title:e.team_id,children:(0,a.jsxs)(m.Z,{size:"xs",variant:"light",className:"font-mono text-blue-500 bg-blue-50 hover:bg-blue-100 text-xs font-normal px-2 py-0.5 text-left overflow-hidden truncate max-w-[200px]",onClick:()=>{t(e.team_id)},children:[e.team_id.slice(0,7),"..."]})})})}),(0,a.jsx)(A.Z,{style:{maxWidth:"4px",whiteSpace:"pre-wrap",overflow:"hidden"},children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"}),(0,a.jsx)(A.Z,{style:{maxWidth:"4px",whiteSpace:"pre-wrap",overflow:"hidden"},children:(0,f.pw)(e.spend,4)}),(0,a.jsx)(A.Z,{style:{maxWidth:"4px",whiteSpace:"pre-wrap",overflow:"hidden"},children:null!==e.max_budget&&void 0!==e.max_budget?e.max_budget:"No limit"}),(0,a.jsx)(W,{team:e}),(0,a.jsx)(A.Z,{children:e.organization_id}),(0,a.jsx)(q,{team:e,userId:n}),(0,a.jsxs)(A.Z,{children:[(0,a.jsxs)(p.Z,{children:[r&&e.team_id&&r[e.team_id]&&r[e.team_id].keys&&r[e.team_id].keys.length," ","Keys"]}),(0,a.jsxs)(p.Z,{children:[r&&e.team_id&&r[e.team_id]&&r[e.team_id].team_info&&r[e.team_id].team_info.members_with_roles&&r[e.team_id].team_info.members_with_roles.length," ","Members"]})]}),(0,a.jsx)(A.Z,{children:"Admin"==i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.Z,{icon:P.Z,size:"sm",onClick:()=>{t(e.team_id),c(!0)}}),(0,a.jsx)(b.Z,{onClick:()=>o(e.team_id),icon:O.Z,size:"sm"})]}):null})]},e.team_id)):null})]})},X=l(32489),Y=l(76865),H=e=>{var s;let{teams:l,teamToDelete:r,onCancel:i,onConfirm:n}=e,[c,o]=(0,t.useState)(""),d=null==l?void 0:l.find(e=>e.team_id===r),m=(null==d?void 0:d.team_alias)||"",x=(null==d?void 0:null===(s=d.keys)||void 0===s?void 0:s.length)||0,u=c===m;return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl min-h-[380px] py-6 overflow-hidden transform transition-all flex flex-col justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete Team"}),(0,a.jsx)("button",{onClick:()=>{i(),o("")},className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:(0,a.jsx)(X.Z,{size:20})})]}),(0,a.jsxs)("div",{className:"px-6 py-4",children:[x>0&&(0,a.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-red-50 border border-red-100 rounded-md mb-5",children:[(0,a.jsx)("div",{className:"text-red-500 mt-0.5",children:(0,a.jsx)(Y.Z,{size:20})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-base font-medium text-red-600",children:["Warning: This team has ",x," associated key",x>1?"s":"","."]}),(0,a.jsx)("p",{className:"text-base text-red-600 mt-2",children:"Deleting the team will also delete all associated keys. This action is irreversible."})]})]}),(0,a.jsx)("p",{className:"text-base text-gray-600 mb-5",children:"Are you sure you want to force delete this team and all its keys?"}),(0,a.jsxs)("div",{className:"mb-5",children:[(0,a.jsxs)("label",{className:"block text-base font-medium text-gray-700 mb-2",children:["Type ",(0,a.jsx)("span",{className:"underline",children:m})," to confirm deletion:"]}),(0,a.jsx)("input",{type:"text",value:c,onChange:e=>o(e.target.value),placeholder:"Enter team name exactly",className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-base",autoFocus:!0})]})]})]}),(0,a.jsxs)("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-4",children:[(0,a.jsx)("button",{onClick:()=>{i(),o("")},className:"px-5 py-3 bg-white border border-gray-300 rounded-md text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),(0,a.jsx)("button",{onClick:n,disabled:!u,className:"px-5 py-3 rounded-md text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ".concat(u?"bg-red-600 hover:bg-red-700":"bg-red-300 cursor-not-allowed"),children:"Force Delete"})]})]})})},$=l(82680),ee=l(52787),es=l(64482),el=l(73002),ea=l(26210),et=l(15424),er=l(24199),ei=l(97415),en=l(95920),ec=l(2597),eo=l(51750),ed=l(9114),em=l(68473);let ex=(e,s)=>{let l=[];return e&&e.models.length>0?(console.log("organization.models: ".concat(e.models)),l=e.models):l=s,(0,B.Ob)(l,s)};var eu=e=>{let{isTeamModalVisible:s,handleOk:l,handleCancel:i,currentOrg:c,organizations:o,teams:d,setTeams:m,modelAliases:x,setModelAliases:u,loggingSettings:h,setLoggingSettings:g,setIsTeamModalVisible:p}=e,{userId:j,userRole:f,accessToken:b,premiumUser:v}=(0,k.Z)(),[y]=n.Z.useForm(),[_,N]=(0,t.useState)([]),[w,Z]=(0,t.useState)(null),[C,S]=(0,t.useState)([]),[T,M]=(0,t.useState)([]),[z,A]=(0,t.useState)([]),[E,D]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{try{if(null===j||null===f||null===b)return;let e=await (0,B.K2)(j,f,b);e&&N(e)}catch(e){console.error("Error fetching user models:",e)}})()},[b,j,f,d]),(0,t.useEffect)(()=>{console.log("currentOrgForCreateTeam: ".concat(w));let e=ex(w,_);console.log("models: ".concat(e)),S(e),y.setFieldValue("models",[])},[w,_,y]);let F=async()=>{try{if(null==b)return;let e=await (0,r.fetchMCPAccessGroups)(b);A(e)}catch(e){console.error("Failed to fetch MCP access groups:",e)}};(0,t.useEffect)(()=>{F()},[b,F]),(0,t.useEffect)(()=>{(async()=>{try{if(null==b)return;let e=(await (0,r.getGuardrailsList)(b)).guardrails.map(e=>e.guardrail_name);M(e)}catch(e){console.error("Failed to fetch guardrails:",e)}})()},[b]);let P=async e=>{try{if(console.log("formValues: ".concat(JSON.stringify(e))),null!=b){var s,l,a;let t=null==e?void 0:e.team_alias,i=null!==(a=null==d?void 0:d.map(e=>e.team_alias))&&void 0!==a?a:[],n=(null==e?void 0:e.organization_id)||(null==c?void 0:c.organization_id);if(""===n||"string"!=typeof n?e.organization_id=null:e.organization_id=n.trim(),i.includes(t))throw Error("Team alias ".concat(t," already exists, please pick another alias"));if(ed.Z.info("Creating Team"),h.length>0){let s={};if(e.metadata)try{s=JSON.parse(e.metadata)}catch(e){console.warn("Invalid JSON in metadata field, starting with empty object")}s={...s,logging:h.filter(e=>e.callback_name)},e.metadata=JSON.stringify(s)}if(e.allowed_vector_store_ids&&e.allowed_vector_store_ids.length>0||e.allowed_mcp_servers_and_groups&&((null===(s=e.allowed_mcp_servers_and_groups.servers)||void 0===s?void 0:s.length)>0||(null===(l=e.allowed_mcp_servers_and_groups.accessGroups)||void 0===l?void 0:l.length)>0||e.allowed_mcp_servers_and_groups.toolPermissions)){if(e.object_permission={},e.allowed_vector_store_ids&&e.allowed_vector_store_ids.length>0&&(e.object_permission.vector_stores=e.allowed_vector_store_ids,delete e.allowed_vector_store_ids),e.allowed_mcp_servers_and_groups){let{servers:s,accessGroups:l}=e.allowed_mcp_servers_and_groups;s&&s.length>0&&(e.object_permission.mcp_servers=s),l&&l.length>0&&(e.object_permission.mcp_access_groups=l),delete e.allowed_mcp_servers_and_groups}e.mcp_tool_permissions&&Object.keys(e.mcp_tool_permissions).length>0&&(e.object_permission||(e.object_permission={}),e.object_permission.mcp_tool_permissions=e.mcp_tool_permissions,delete e.mcp_tool_permissions)}e.allowed_mcp_access_groups&&e.allowed_mcp_access_groups.length>0&&(e.object_permission||(e.object_permission={}),e.object_permission.mcp_access_groups=e.allowed_mcp_access_groups,delete e.allowed_mcp_access_groups),Object.keys(x).length>0&&(e.model_aliases=x);let o=await (0,r.teamCreateCall)(b,e);null!==d?m([...d,o]):m([o]),console.log("response for team create call: ".concat(o)),ed.Z.success("Team created"),y.resetFields(),g([]),u({}),p(!1)}}catch(e){console.error("Error creating the team:",e),ed.Z.fromBackend("Error creating the team: "+e)}};return(0,a.jsx)($.Z,{title:"Create Team",open:s,width:1e3,footer:null,onOk:l,onCancel:i,children:(0,a.jsxs)(n.Z,{form:y,onFinish:P,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",children:[(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Z.Item,{label:"Team Name",name:"team_alias",rules:[{required:!0,message:"Please input a team name"}],children:(0,a.jsx)(ea.oi,{placeholder:""})}),(0,a.jsx)(n.Z.Item,{label:(0,a.jsxs)("span",{children:["Organization"," ",(0,a.jsx)(L.Z,{title:(0,a.jsxs)("span",{children:["Organizations can have multiple teams. Learn more about"," ",(0,a.jsx)("a",{href:"https://docs.litellm.ai/docs/proxy/user_management_heirarchy",target:"_blank",rel:"noopener noreferrer",style:{color:"#1890ff",textDecoration:"underline"},onClick:e=>e.stopPropagation(),children:"user management hierarchy"})]}),children:(0,a.jsx)(et.Z,{style:{marginLeft:"4px"}})})]}),name:"organization_id",initialValue:c?c.organization_id:null,className:"mt-8",children:(0,a.jsx)(ee.default,{showSearch:!0,allowClear:!0,placeholder:"Search or select an Organization",onChange:e=>{y.setFieldValue("organization_id",e),Z((null==o?void 0:o.find(s=>s.organization_id===e))||null)},filterOption:(e,s)=>{var l;return!!s&&((null===(l=s.children)||void 0===l?void 0:l.toString())||"").toLowerCase().includes(e.toLowerCase())},optionFilterProp:"children",children:null==o?void 0:o.map(e=>(0,a.jsxs)(ee.default.Option,{value:e.organization_id,children:[(0,a.jsx)("span",{className:"font-medium",children:e.organization_alias})," ",(0,a.jsxs)("span",{className:"text-gray-500",children:["(",e.organization_id,")"]})]},e.organization_id))})}),(0,a.jsx)(n.Z.Item,{label:(0,a.jsxs)("span",{children:["Models"," ",(0,a.jsx)(L.Z,{title:"These are the models that your selected team has access to",children:(0,a.jsx)(et.Z,{style:{marginLeft:"4px"}})})]}),name:"models",children:(0,a.jsxs)(ee.default,{mode:"multiple",placeholder:"Select models",style:{width:"100%"},children:[(0,a.jsx)(ee.default.Option,{value:"all-proxy-models",children:"All Proxy Models"},"all-proxy-models"),C.map(e=>(0,a.jsx)(ee.default.Option,{value:e,children:(0,B.W0)(e)},e))]})}),(0,a.jsx)(n.Z.Item,{label:"Max Budget (USD)",name:"max_budget",children:(0,a.jsx)(er.Z,{step:.01,precision:2,width:200})}),(0,a.jsx)(n.Z.Item,{className:"mt-8",label:"Reset Budget",name:"budget_duration",children:(0,a.jsxs)(ee.default,{defaultValue:null,placeholder:"n/a",children:[(0,a.jsx)(ee.default.Option,{value:"24h",children:"daily"}),(0,a.jsx)(ee.default.Option,{value:"7d",children:"weekly"}),(0,a.jsx)(ee.default.Option,{value:"30d",children:"monthly"})]})}),(0,a.jsx)(n.Z.Item,{label:"Tokens per minute Limit (TPM)",name:"tpm_limit",children:(0,a.jsx)(er.Z,{step:1,width:400})}),(0,a.jsx)(n.Z.Item,{label:"Requests per minute Limit (RPM)",name:"rpm_limit",children:(0,a.jsx)(er.Z,{step:1,width:400})}),(0,a.jsxs)(ea.UQ,{className:"mt-20 mb-8",onClick:()=>{E||(F(),D(!0))},children:[(0,a.jsx)(ea._m,{children:(0,a.jsx)("b",{children:"Additional Settings"})}),(0,a.jsxs)(ea.X1,{children:[(0,a.jsx)(n.Z.Item,{label:"Team ID",name:"team_id",help:"ID of the team you want to create. If not provided, it will be generated automatically.",children:(0,a.jsx)(ea.oi,{onChange:e=>{e.target.value=e.target.value.trim()}})}),(0,a.jsx)(n.Z.Item,{label:"Team Member Budget (USD)",name:"team_member_budget",normalize:e=>e?Number(e):void 0,tooltip:"This is the individual budget for a user in the team.",children:(0,a.jsx)(er.Z,{step:.01,precision:2,width:200})}),(0,a.jsx)(n.Z.Item,{label:"Team Member Key Duration (eg: 1d, 1mo)",name:"team_member_key_duration",tooltip:"Set a limit to the duration of a team member's key. Format: 30s (seconds), 30m (minutes), 30h (hours), 30d (days), 1mo (month)",children:(0,a.jsx)(ea.oi,{placeholder:"e.g., 30d"})}),(0,a.jsx)(n.Z.Item,{label:"Team Member RPM Limit",name:"team_member_rpm_limit",tooltip:"The RPM (Requests Per Minute) limit for individual team members",children:(0,a.jsx)(er.Z,{step:1,width:400})}),(0,a.jsx)(n.Z.Item,{label:"Team Member TPM Limit",name:"team_member_tpm_limit",tooltip:"The TPM (Tokens Per Minute) limit for individual team members",children:(0,a.jsx)(er.Z,{step:1,width:400})}),(0,a.jsx)(n.Z.Item,{label:"Metadata",name:"metadata",help:"Additional team metadata. Enter metadata as JSON object.",children:(0,a.jsx)(es.default.TextArea,{rows:4})}),(0,a.jsx)(n.Z.Item,{label:(0,a.jsxs)("span",{children:["Guardrails"," ",(0,a.jsx)(L.Z,{title:"Setup your first guardrail",children:(0,a.jsx)("a",{href:"https://docs.litellm.ai/docs/proxy/guardrails/quick_start",target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),children:(0,a.jsx)(et.Z,{style:{marginLeft:"4px"}})})})]}),name:"guardrails",className:"mt-8",help:"Select existing guardrails or enter new ones",children:(0,a.jsx)(ee.default,{mode:"tags",style:{width:"100%"},placeholder:"Select or enter guardrails",options:T.map(e=>({value:e,label:e}))})}),(0,a.jsx)(n.Z.Item,{label:(0,a.jsxs)("span",{children:["Allowed Vector Stores"," ",(0,a.jsx)(L.Z,{title:"Select which vector stores this team can access by default. Leave empty for access to all vector stores",children:(0,a.jsx)(et.Z,{style:{marginLeft:"4px"}})})]}),name:"allowed_vector_store_ids",className:"mt-8",help:"Select vector stores this team can access. Leave empty for access to all vector stores",children:(0,a.jsx)(ei.Z,{onChange:e=>y.setFieldValue("allowed_vector_store_ids",e),value:y.getFieldValue("allowed_vector_store_ids"),accessToken:b||"",placeholder:"Select vector stores (optional)"})})]})]}),(0,a.jsxs)(ea.UQ,{className:"mt-8 mb-8",children:[(0,a.jsx)(ea._m,{children:(0,a.jsx)("b",{children:"MCP Settings"})}),(0,a.jsxs)(ea.X1,{children:[(0,a.jsx)(n.Z.Item,{label:(0,a.jsxs)("span",{children:["Allowed MCP Servers"," ",(0,a.jsx)(L.Z,{title:"Select which MCP servers or access groups this team can access",children:(0,a.jsx)(et.Z,{style:{marginLeft:"4px"}})})]}),name:"allowed_mcp_servers_and_groups",className:"mt-4",help:"Select MCP servers or access groups this team can access",children:(0,a.jsx)(en.Z,{onChange:e=>y.setFieldValue("allowed_mcp_servers_and_groups",e),value:y.getFieldValue("allowed_mcp_servers_and_groups"),accessToken:b||"",placeholder:"Select MCP servers or access groups (optional)"})}),(0,a.jsx)(n.Z.Item,{name:"mcp_tool_permissions",initialValue:{},hidden:!0,children:(0,a.jsx)(es.default,{type:"hidden"})}),(0,a.jsx)(n.Z.Item,{noStyle:!0,shouldUpdate:(e,s)=>e.allowed_mcp_servers_and_groups!==s.allowed_mcp_servers_and_groups||e.mcp_tool_permissions!==s.mcp_tool_permissions,children:()=>{var e;return(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)(em.Z,{accessToken:b||"",selectedServers:(null===(e=y.getFieldValue("allowed_mcp_servers_and_groups"))||void 0===e?void 0:e.servers)||[],toolPermissions:y.getFieldValue("mcp_tool_permissions")||{},onChange:e=>y.setFieldsValue({mcp_tool_permissions:e})})})}})]})]}),(0,a.jsxs)(ea.UQ,{className:"mt-8 mb-8",children:[(0,a.jsx)(ea._m,{children:(0,a.jsx)("b",{children:"Logging Settings"})}),(0,a.jsx)(ea.X1,{children:(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(ec.Z,{value:h,onChange:g,premiumUser:v})})})]}),(0,a.jsxs)(ea.UQ,{className:"mt-8 mb-8",children:[(0,a.jsx)(ea._m,{children:(0,a.jsx)("b",{children:"Model Aliases"})}),(0,a.jsx)(ea.X1,{children:(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)(ea.xv,{className:"text-sm text-gray-600 mb-4",children:"Create custom aliases for models that can be used by team members in API calls. This allows you to create shortcuts for specific models."}),(0,a.jsx)(eo.Z,{accessToken:b||"",initialModelAliases:x,onAliasUpdate:u,showExampleConfig:!1})]})})]})]}),(0,a.jsx)("div",{style:{textAlign:"right",marginTop:"10px"},children:(0,a.jsx)(el.ZP,{htmlType:"submit",children:"Create Team"})})]})})},eh=e=>{let{teams:s,accessToken:l,setTeams:b,userID:v,userRole:y,organizations:_,premiumUser:N=!1}=e,[w,C]=(0,t.useState)(null),[k,M]=(0,t.useState)(!1),[z,A]=(0,t.useState)({team_id:"",team_alias:"",organization_id:"",sort_by:"created_at",sort_order:"desc"}),[E]=n.Z.useForm(),[D]=n.Z.useForm(),[F,L]=(0,t.useState)(null),[P,O]=(0,t.useState)(!1),[I,V]=(0,t.useState)(!1),[R,B]=(0,t.useState)(!1),[W,U]=(0,t.useState)(!1),[G,J]=(0,t.useState)([]),[Q,q]=(0,t.useState)(!1),[X,Y]=(0,t.useState)(null),[$,ee]=(0,t.useState)({}),[es,el]=(0,t.useState)([]),[ea,et]=(0,t.useState)({}),{lastRefreshed:er,onRefreshClick:ei}=T({currentOrg:w,setTeams:b});(0,t.useEffect)(()=>{s&&ee(s.reduce((e,s)=>(e[s.team_id]={keys:s.keys||[],team_info:{members_with_roles:s.members_with_roles||[]}},e),{}))},[s]);let en=async e=>{Y(e),q(!0)},ec=async()=>{if(null!=X&&null!=s&&null!=l){try{await (0,r.teamDeleteCall)(l,X),(0,i.Z)(l,v,y,w,b)}catch(e){console.error("Error deleting the team:",e)}q(!1),Y(null)}};return(0,a.jsx)("div",{className:"w-full mx-4 h-[75vh]",children:(0,a.jsx)(h.Z,{numItems:1,className:"gap-2 p-8 w-full mt-2",children:(0,a.jsxs)(u.Z,{numColSpan:1,className:"flex flex-col gap-2",children:[("Admin"==y||"Org Admin"==y)&&(0,a.jsx)(m.Z,{className:"w-fit",onClick:()=>V(!0),children:"+ Create New Team"}),F?(0,a.jsx)(c.Z,{teamId:F,onUpdate:e=>{b(s=>{if(null==s)return s;let a=s.map(s=>e.team_id===s.team_id?(0,f.nl)(s,e):s);return l&&(0,i.Z)(l,v,y,w,b),a})},onClose:()=>{L(null),O(!1)},accessToken:l,is_team_admin:(e=>{if(null==e||null==e.members_with_roles)return!1;for(let s=0;s<e.members_with_roles.length;s++){let l=e.members_with_roles[s];if(l.user_id==v&&"admin"==l.role)return!0}return!1})(null==s?void 0:s.find(e=>e.team_id===F)),is_proxy_admin:"Admin"==y,userModels:G,editTeam:P}):(0,a.jsxs)(Z,{lastRefreshed:er,onRefresh:ei,userRole:y,children:[(0,a.jsxs)(g.Z,{children:[(0,a.jsxs)(p.Z,{children:["Click on “Team ID” to view team details ",(0,a.jsx)("b",{children:"and"})," manage team members."]}),(0,a.jsx)(h.Z,{numItems:1,className:"gap-2 pt-2 pb-2 h-[75vh] w-full mt-2",children:(0,a.jsx)(u.Z,{numColSpan:1,children:(0,a.jsxs)(x.Z,{className:"w-full mx-auto flex-auto overflow-hidden overflow-y-auto max-h-[50vh]",children:[(0,a.jsx)("div",{className:"border-b px-6 py-4",children:(0,a.jsx)("div",{className:"flex flex-col space-y-4",children:(0,a.jsx)(S,{filters:z,organizations:_,showFilters:k,onToggleFilters:M,onChange:(e,s)=>{let a={...z,[e]:s};A(a),l&&(0,r.v2TeamListCall)(l,a.organization_id||null,null,a.team_id||null,a.team_alias||null).then(e=>{e&&e.teams&&b(e.teams)}).catch(e=>{console.error("Error fetching teams:",e)})},onReset:()=>{A({team_id:"",team_alias:"",organization_id:"",sort_by:"created_at",sort_order:"desc"}),l&&(0,r.v2TeamListCall)(l,null,v||null,null,null).then(e=>{e&&e.teams&&b(e.teams)}).catch(e=>{console.error("Error fetching teams:",e)})}})})}),(0,a.jsx)(K,{teams:s,currentOrg:w,perTeamInfo:$,userRole:y,userId:v,setSelectedTeamId:L,setEditTeam:O,onDeleteTeam:en}),Q&&(0,a.jsx)(H,{teams:s,teamToDelete:X,onCancel:()=>{q(!1),Y(null)},onConfirm:ec})]})})})]}),(0,a.jsx)(g.Z,{children:(0,a.jsx)(j.Z,{accessToken:l,userID:v})}),(0,d.tY)(y||"")&&(0,a.jsx)(g.Z,{children:(0,a.jsx)(o.Z,{accessToken:l,userID:v||"",userRole:y||""})})]}),("Admin"==y||"Org Admin"==y)&&(0,a.jsx)(eu,{isTeamModalVisible:I,handleOk:()=>{V(!1),E.resetFields(),el([]),et({})},handleCancel:()=>{V(!1),E.resetFields(),el([]),et({})},currentOrg:w,organizations:_,teams:s,setTeams:b,modelAliases:ea,setModelAliases:et,loggingSettings:es,setLoggingSettings:el,setIsTeamModalVisible:V})]})})})},eg=l(11318),ep=l(22004),ej=()=>{let{accessToken:e,userId:s,userRole:l}=(0,k.Z)(),{teams:r,setTeams:i}=(0,eg.Z)(),[n,c]=(0,t.useState)([]);return(0,t.useEffect)(()=>{(0,ep.g)(e,c).then(()=>{})},[e]),(0,a.jsx)(eh,{teams:r,accessToken:e,setTeams:i,userID:s,userRole:l,organizations:n})}},88904:function(e,s,l){"use strict";var a=l(57437),t=l(2265),r=l(88913),i=l(93192),n=l(52787),c=l(63709),o=l(87908),d=l(19250),m=l(65925),x=l(46468),u=l(9114);s.Z=e=>{var s;let{accessToken:l,userID:h,userRole:g}=e,[p,j]=(0,t.useState)(!0),[f,b]=(0,t.useState)(null),[v,y]=(0,t.useState)(!1),[_,N]=(0,t.useState)({}),[w,Z]=(0,t.useState)(!1),[C,S]=(0,t.useState)([]),{Paragraph:k}=i.default,{Option:T}=n.default;(0,t.useEffect)(()=>{(async()=>{if(!l){j(!1);return}try{let e=await (0,d.getDefaultTeamSettings)(l);if(b(e),N(e.values||{}),l)try{let e=await (0,d.modelAvailableCall)(l,h,g);if(e&&e.data){let s=e.data.map(e=>e.id);S(s)}}catch(e){console.error("Error fetching available models:",e)}}catch(e){console.error("Error fetching team SSO settings:",e),u.Z.fromBackend("Failed to fetch team settings")}finally{j(!1)}})()},[l]);let M=async()=>{if(l){Z(!0);try{let e=await (0,d.updateDefaultTeamSettings)(l,_);b({...f,values:e.settings}),y(!1),u.Z.success("Default team settings updated successfully")}catch(e){console.error("Error updating team settings:",e),u.Z.fromBackend("Failed to update team settings")}finally{Z(!1)}}},z=(e,s)=>{N(l=>({...l,[e]:s}))},A=(e,s,l)=>{var t;let i=s.type;return"budget_duration"===e?(0,a.jsx)(m.Z,{value:_[e]||null,onChange:s=>z(e,s),className:"mt-2"}):"boolean"===i?(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(c.Z,{checked:!!_[e],onChange:s=>z(e,s)})}):"array"===i&&(null===(t=s.items)||void 0===t?void 0:t.enum)?(0,a.jsx)(n.default,{mode:"multiple",style:{width:"100%"},value:_[e]||[],onChange:s=>z(e,s),className:"mt-2",children:s.items.enum.map(e=>(0,a.jsx)(T,{value:e,children:e},e))}):"models"===e?(0,a.jsx)(n.default,{mode:"multiple",style:{width:"100%"},value:_[e]||[],onChange:s=>z(e,s),className:"mt-2",children:C.map(e=>(0,a.jsx)(T,{value:e,children:(0,x.W0)(e)},e))}):"string"===i&&s.enum?(0,a.jsx)(n.default,{style:{width:"100%"},value:_[e]||"",onChange:s=>z(e,s),className:"mt-2",children:s.enum.map(e=>(0,a.jsx)(T,{value:e,children:e},e))}):(0,a.jsx)(r.oi,{value:void 0!==_[e]?String(_[e]):"",onChange:s=>z(e,s.target.value),placeholder:s.description||"",className:"mt-2"})},E=(e,s)=>null==s?(0,a.jsx)("span",{className:"text-gray-400",children:"Not set"}):"budget_duration"===e?(0,a.jsx)("span",{children:(0,m.m)(s)}):"boolean"==typeof s?(0,a.jsx)("span",{children:s?"Enabled":"Disabled"}):"models"===e&&Array.isArray(s)?0===s.length?(0,a.jsx)("span",{className:"text-gray-400",children:"None"}):(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:s.map((e,s)=>(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-100 rounded text-xs",children:(0,x.W0)(e)},s))}):"object"==typeof s?Array.isArray(s)?0===s.length?(0,a.jsx)("span",{className:"text-gray-400",children:"None"}):(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:s.map((e,s)=>(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-100 rounded text-xs",children:"object"==typeof e?JSON.stringify(e):String(e)},s))}):(0,a.jsx)("pre",{className:"bg-gray-100 p-2 rounded text-xs overflow-auto mt-1",children:JSON.stringify(s,null,2)}):(0,a.jsx)("span",{children:String(s)});return p?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)(o.Z,{size:"large"})}):f?(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)(r.Dx,{className:"text-xl",children:"Default Team Settings"}),!p&&f&&(v?(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(r.zx,{variant:"secondary",onClick:()=>{y(!1),N(f.values||{})},disabled:w,children:"Cancel"}),(0,a.jsx)(r.zx,{onClick:M,loading:w,children:"Save Changes"})]}):(0,a.jsx)(r.zx,{onClick:()=>y(!0),children:"Edit Settings"}))]}),(0,a.jsx)(r.xv,{children:"These settings will be applied by default when creating new teams."}),(null==f?void 0:null===(s=f.field_schema)||void 0===s?void 0:s.description)&&(0,a.jsx)(k,{className:"mb-4 mt-2",children:f.field_schema.description}),(0,a.jsx)(r.iz,{}),(0,a.jsx)("div",{className:"mt-4 space-y-4",children:(()=>{let{values:e,field_schema:s}=f;return s&&s.properties?Object.entries(s.properties).map(s=>{let[l,t]=s,i=e[l],n=l.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase());return(0,a.jsxs)("div",{className:"mb-6 pb-6 border-b border-gray-200 last:border-0",children:[(0,a.jsx)(r.xv,{className:"font-medium text-lg",children:n}),(0,a.jsx)(k,{className:"text-sm text-gray-500 mt-1",children:t.description||"No description available"}),v?(0,a.jsx)("div",{className:"mt-2",children:A(l,t,i)}):(0,a.jsx)("div",{className:"mt-1 p-2 bg-gray-50 rounded",children:E(l,i)})]},l)}):(0,a.jsx)(r.xv,{children:"No schema information available"})})()})]}):(0,a.jsx)(r.Zb,{children:(0,a.jsx)(r.xv,{children:"No team settings available or you do not have permission to view them."})})}},51750:function(e,s,l){"use strict";l.d(s,{Z:function(){return g}});var a=l(57437),t=l(2265),r=l(77355),i=l(93416),n=l(74998),c=l(95704),o=l(56522),d=l(52787),m=l(69993),x=l(51601),u=e=>{let{accessToken:s,value:l,placeholder:r="Select a Model",onChange:i,disabled:n=!1,style:c,className:u,showLabel:h=!0,labelText:g="Select Model"}=e,[p,j]=(0,t.useState)(l),[f,b]=(0,t.useState)(!1),[v,y]=(0,t.useState)([]),_=(0,t.useRef)(null);return(0,t.useEffect)(()=>{j(l)},[l]),(0,t.useEffect)(()=>{s&&(async()=>{try{let e=await (0,x.p)(s);console.log("Fetched models for selector:",e),e.length>0&&y(e)}catch(e){console.error("Error fetching model info:",e)}})()},[s]),(0,a.jsxs)("div",{children:[h&&(0,a.jsxs)(o.x,{className:"font-medium block mb-2 text-gray-700 flex items-center",children:[(0,a.jsx)(m.Z,{className:"mr-2"})," ",g]}),(0,a.jsx)(d.default,{value:p,placeholder:r,onChange:e=>{"custom"===e?(b(!0),j(void 0)):(b(!1),j(e),i&&i(e))},options:[...Array.from(new Set(v.map(e=>e.model_group))).map((e,s)=>({value:e,label:e,key:s})),{value:"custom",label:"Enter custom model",key:"custom"}],style:{width:"100%",...c},showSearch:!0,className:"rounded-md ".concat(u||""),disabled:n}),f&&(0,a.jsx)(o.o,{className:"mt-2",placeholder:"Enter custom model name",onValueChange:e=>{_.current&&clearTimeout(_.current),_.current=setTimeout(()=>{j(e),i&&i(e)},500)},disabled:n})]})},h=l(9114),g=e=>{let{accessToken:s,initialModelAliases:l={},onAliasUpdate:o,showExampleConfig:d=!0}=e,[m,x]=(0,t.useState)([]),[g,p]=(0,t.useState)({aliasName:"",targetModel:""}),[j,f]=(0,t.useState)(null);(0,t.useEffect)(()=>{x(Object.entries(l).map((e,s)=>{let[l,a]=e;return{id:"".concat(s,"-").concat(l),aliasName:l,targetModel:a}}))},[l]);let b=e=>{f({...e})},v=()=>{if(!j)return;if(!j.aliasName||!j.targetModel){h.Z.fromBackend("Please provide both alias name and target model");return}if(m.some(e=>e.id!==j.id&&e.aliasName===j.aliasName)){h.Z.fromBackend("An alias with this name already exists");return}let e=m.map(e=>e.id===j.id?j:e);x(e),f(null);let s={};e.forEach(e=>{s[e.aliasName]=e.targetModel}),o&&o(s),h.Z.success("Alias updated successfully")},y=()=>{f(null)},_=e=>{let s=m.filter(s=>s.id!==e);x(s);let l={};s.forEach(e=>{l[e.aliasName]=e.targetModel}),o&&o(l),h.Z.success("Alias deleted successfully")},N=m.reduce((e,s)=>(e[s.aliasName]=s.targetModel,e),{});return(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)(c.xv,{className:"text-sm font-medium text-gray-700 mb-2",children:"Add New Alias"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Alias Name"}),(0,a.jsx)("input",{type:"text",value:g.aliasName,onChange:e=>p({...g,aliasName:e.target.value}),placeholder:"e.g., gpt-4o",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Target Model"}),(0,a.jsx)(u,{accessToken:s,value:g.targetModel,placeholder:"Select target model",onChange:e=>p({...g,targetModel:e}),showLabel:!1})]}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsxs)("button",{onClick:()=>{if(!g.aliasName||!g.targetModel){h.Z.fromBackend("Please provide both alias name and target model");return}if(m.some(e=>e.aliasName===g.aliasName)){h.Z.fromBackend("An alias with this name already exists");return}let e=[...m,{id:"".concat(Date.now(),"-").concat(g.aliasName),aliasName:g.aliasName,targetModel:g.targetModel}];x(e),p({aliasName:"",targetModel:""});let s={};e.forEach(e=>{s[e.aliasName]=e.targetModel}),o&&o(s),h.Z.success("Alias added successfully")},disabled:!g.aliasName||!g.targetModel,className:"flex items-center px-4 py-2 rounded-md text-sm ".concat(g.aliasName&&g.targetModel?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:[(0,a.jsx)(r.Z,{className:"w-4 h-4 mr-1"}),"Add Alias"]})})]})]}),(0,a.jsx)(c.xv,{className:"text-sm font-medium text-gray-700 mb-2",children:"Manage Existing Aliases"}),(0,a.jsx)("div",{className:"rounded-lg custom-border relative mb-6",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(c.iA,{className:"[&_td]:py-0.5 [&_th]:py-1",children:[(0,a.jsx)(c.ss,{children:(0,a.jsxs)(c.SC,{children:[(0,a.jsx)(c.xs,{className:"py-1 h-8",children:"Alias Name"}),(0,a.jsx)(c.xs,{className:"py-1 h-8",children:"Target Model"}),(0,a.jsx)(c.xs,{className:"py-1 h-8",children:"Actions"})]})}),(0,a.jsxs)(c.RM,{children:[m.map(e=>(0,a.jsx)(c.SC,{className:"h-8",children:j&&j.id===e.id?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.pj,{className:"py-0.5",children:(0,a.jsx)("input",{type:"text",value:j.aliasName,onChange:e=>f({...j,aliasName:e.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm"})}),(0,a.jsx)(c.pj,{className:"py-0.5",children:(0,a.jsx)(u,{accessToken:s,value:j.targetModel,onChange:e=>f({...j,targetModel:e}),showLabel:!1,style:{height:"32px"}})}),(0,a.jsx)(c.pj,{className:"py-0.5 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:v,className:"text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded hover:bg-blue-100",children:"Save"}),(0,a.jsx)("button",{onClick:y,className:"text-xs bg-gray-50 text-gray-600 px-2 py-1 rounded hover:bg-gray-100",children:"Cancel"})]})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.pj,{className:"py-0.5 text-sm text-gray-900",children:e.aliasName}),(0,a.jsx)(c.pj,{className:"py-0.5 text-sm text-gray-500",children:e.targetModel}),(0,a.jsx)(c.pj,{className:"py-0.5 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>b(e),className:"text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded hover:bg-blue-100",children:(0,a.jsx)(i.Z,{className:"w-3 h-3"})}),(0,a.jsx)("button",{onClick:()=>_(e.id),className:"text-xs bg-red-50 text-red-600 px-2 py-1 rounded hover:bg-red-100",children:(0,a.jsx)(n.Z,{className:"w-3 h-3"})})]})})]})},e.id)),0===m.length&&(0,a.jsx)(c.SC,{children:(0,a.jsx)(c.pj,{colSpan:3,className:"py-0.5 text-sm text-gray-500 text-center",children:"No aliases added yet. Add a new alias above."})})]})]})})}),d&&(0,a.jsxs)(c.Zb,{children:[(0,a.jsx)(c.Dx,{className:"mb-4",children:"Configuration Example"}),(0,a.jsx)(c.xv,{className:"text-gray-600 mb-4",children:"Here's how your current aliases would look in the config:"}),(0,a.jsx)("div",{className:"bg-gray-100 rounded-lg p-4 font-mono text-sm",children:(0,a.jsxs)("div",{className:"text-gray-700",children:["model_aliases:",0===Object.keys(N).length?(0,a.jsxs)("span",{className:"text-gray-500",children:[(0,a.jsx)("br",{}),"\xa0\xa0# No aliases configured yet"]}):Object.entries(N).map(e=>{let[s,l]=e;return(0,a.jsxs)("span",{children:[(0,a.jsx)("br",{}),'\xa0\xa0"',s,'": "',l,'"']},s)})]})})]})]})}},2597:function(e,s,l){"use strict";var a=l(57437);l(2265);var t=l(92280),r=l(54507);s.Z=function(e){let{value:s,onChange:l,premiumUser:i=!1,disabledCallbacks:n=[],onDisabledCallbacksChange:c}=e;return i?(0,a.jsx)(r.Z,{value:s,onChange:l,disabledCallbacks:n,onDisabledCallbacksChange:c}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[(0,a.jsx)("div",{className:"inline-flex items-center px-3 py-1.5 rounded-lg bg-green-50 border border-green-200 text-green-800 text-sm font-medium opacity-50",children:"✨ langfuse-logging"}),(0,a.jsx)("div",{className:"inline-flex items-center px-3 py-1.5 rounded-lg bg-green-50 border border-green-200 text-green-800 text-sm font-medium opacity-50",children:"✨ datadog-logging"})]}),(0,a.jsx)("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,a.jsxs)(t.x,{className:"text-sm text-yellow-800",children:["Setting Key/Team logging settings is a LiteLLM Enterprise feature. Global Logging Settings are available for all free users. Get a trial key"," ",(0,a.jsx)("a",{href:"https://www.litellm.ai/#pricing",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"here"}),"."]})})]})}},65925:function(e,s,l){"use strict";l.d(s,{m:function(){return i}});var a=l(57437);l(2265);var t=l(52787);let{Option:r}=t.default,i=e=>e?({"24h":"daily","7d":"weekly","30d":"monthly"})[e]||e:"Not set";s.Z=e=>{let{value:s,onChange:l,className:i="",style:n={}}=e;return(0,a.jsxs)(t.default,{style:{width:"100%",...n},value:s||void 0,onChange:l,className:i,placeholder:"n/a",children:[(0,a.jsx)(r,{value:"24h",children:"daily"}),(0,a.jsx)(r,{value:"7d",children:"weekly"}),(0,a.jsx)(r,{value:"30d",children:"monthly"})]})}},39210:function(e,s,l){"use strict";l.d(s,{Z:function(){return t}});var a=l(19250);let t=async(e,s,l,t,r)=>{let i;i="Admin"!=l&&"Admin Viewer"!=l?await (0,a.teamListCall)(e,(null==t?void 0:t.organization_id)||null,s):await (0,a.teamListCall)(e,(null==t?void 0:t.organization_id)||null),console.log("givenTeams: ".concat(i)),r(i)}},27799:function(e,s,l){"use strict";var a=l(57437);l(2265);var t=l(40728),r=l(82182),i=l(91777),n=l(97434);s.Z=function(e){let{loggingConfigs:s=[],disabledCallbacks:l=[],variant:c="card",className:o=""}=e,d=e=>{var s;return(null===(s=Object.entries(n.Lo).find(s=>{let[l,a]=s;return a===e}))||void 0===s?void 0:s[0])||e},m=e=>{switch(e){case"success":return"green";case"failure":return"red";case"success_and_failure":return"blue";default:return"gray"}},x=e=>{switch(e){case"success":return"Success Only";case"failure":return"Failure Only";case"success_and_failure":return"Success & Failure";default:return e}},u=(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r.Z,{className:"h-4 w-4 text-blue-600"}),(0,a.jsx)(t.x,{className:"font-semibold text-gray-900",children:"Logging Integrations"}),(0,a.jsx)(t.C,{color:"blue",size:"xs",children:s.length})]}),s.length>0?(0,a.jsx)("div",{className:"space-y-3",children:s.map((e,s)=>{var l;let i=d(e.callback_name),c=null===(l=n.Dg[i])||void 0===l?void 0:l.logo;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-blue-50 border border-blue-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[c?(0,a.jsx)("img",{src:c,alt:i,className:"w-5 h-5 object-contain"}):(0,a.jsx)(r.Z,{className:"h-5 w-5 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(t.x,{className:"font-medium text-blue-800",children:i}),(0,a.jsxs)(t.x,{className:"text-xs text-blue-600",children:[Object.keys(e.callback_vars).length," parameters configured"]})]})]}),(0,a.jsx)(t.C,{color:m(e.callback_type),size:"sm",children:x(e.callback_type)})]},s)})}):(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-50 border border-gray-200",children:[(0,a.jsx)(r.Z,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)(t.x,{className:"text-gray-500 text-sm",children:"No logging integrations configured"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4 text-red-600"}),(0,a.jsx)(t.x,{className:"font-semibold text-gray-900",children:"Disabled Callbacks"}),(0,a.jsx)(t.C,{color:"red",size:"xs",children:l.length})]}),l.length>0?(0,a.jsx)("div",{className:"space-y-3",children:l.map((e,s)=>{var l;let r=n.RD[e]||e,c=null===(l=n.Dg[r])||void 0===l?void 0:l.logo;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-red-50 border border-red-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[c?(0,a.jsx)("img",{src:c,alt:r,className:"w-5 h-5 object-contain"}):(0,a.jsx)(i.Z,{className:"h-5 w-5 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(t.x,{className:"font-medium text-red-800",children:r}),(0,a.jsx)(t.x,{className:"text-xs text-red-600",children:"Disabled for this key"})]})]}),(0,a.jsx)(t.C,{color:"red",size:"sm",children:"Disabled"})]},s)})}):(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-50 border border-gray-200",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)(t.x,{className:"text-gray-500 text-sm",children:"No callbacks disabled"})]})]})]});return"card"===c?(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 ".concat(o),children:[(0,a.jsx)("div",{className:"flex items-center gap-2 mb-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(t.x,{className:"font-semibold text-gray-900",children:"Logging Settings"}),(0,a.jsx)(t.x,{className:"text-xs text-gray-500",children:"Active logging integrations and disabled callbacks for this key"})]})}),u]}):(0,a.jsxs)("div",{className:"".concat(o),children:[(0,a.jsx)(t.x,{className:"font-medium text-gray-900 mb-3",children:"Logging Settings"}),u]})}},98015:function(e,s,l){"use strict";l.d(s,{Z:function(){return g}});var a=l(57437),t=l(2265),r=l(92280),i=l(40728),n=l(79814),c=l(19250),o=function(e){let{vectorStores:s,accessToken:l}=e,[r,o]=(0,t.useState)([]);(0,t.useEffect)(()=>{(async()=>{if(l&&0!==s.length)try{let e=await (0,c.vectorStoreListCall)(l);e.data&&o(e.data.map(e=>({vector_store_id:e.vector_store_id,vector_store_name:e.vector_store_name})))}catch(e){console.error("Error fetching vector stores:",e)}})()},[l,s.length]);let d=e=>{let s=r.find(s=>s.vector_store_id===e);return s?"".concat(s.vector_store_name||s.vector_store_id," (").concat(s.vector_store_id,")"):e};return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.Z,{className:"h-4 w-4 text-blue-600"}),(0,a.jsx)(i.x,{className:"font-semibold text-gray-900",children:"Vector Stores"}),(0,a.jsx)(i.C,{color:"blue",size:"xs",children:s.length})]}),s.length>0?(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:s.map((e,s)=>(0,a.jsx)("div",{className:"inline-flex items-center px-3 py-1.5 rounded-lg bg-blue-50 border border-blue-200 text-blue-800 text-sm font-medium",children:d(e)},s))}):(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-50 border border-gray-200",children:[(0,a.jsx)(n.Z,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)(i.x,{className:"text-gray-500 text-sm",children:"No vector stores configured"})]})]})},d=l(25327),m=l(86462),x=l(47686),u=l(89970),h=function(e){let{mcpServers:s,mcpAccessGroups:r=[],mcpToolPermissions:n={},accessToken:o}=e,[h,g]=(0,t.useState)([]),[p,j]=(0,t.useState)([]),[f,b]=(0,t.useState)(new Set),v=e=>{b(s=>{let l=new Set(s);return l.has(e)?l.delete(e):l.add(e),l})};(0,t.useEffect)(()=>{(async()=>{if(o&&s.length>0)try{let e=await (0,c.fetchMCPServers)(o);e&&Array.isArray(e)?g(e):e.data&&Array.isArray(e.data)&&g(e.data)}catch(e){console.error("Error fetching MCP servers:",e)}})()},[o,s.length]),(0,t.useEffect)(()=>{(async()=>{if(o&&r.length>0)try{let e=await Promise.resolve().then(l.bind(l,19250)).then(e=>e.fetchMCPAccessGroups(o));j(Array.isArray(e)?e:e.data||[])}catch(e){console.error("Error fetching MCP access groups:",e)}})()},[o,r.length]);let y=e=>{let s=h.find(s=>s.server_id===e);if(s){let l=e.length>7?"".concat(e.slice(0,3),"...").concat(e.slice(-4)):e;return"".concat(s.alias," (").concat(l,")")}return e},_=e=>e,N=[...s.map(e=>({type:"server",value:e})),...r.map(e=>({type:"accessGroup",value:e}))],w=N.length;return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 text-blue-600"}),(0,a.jsx)(i.x,{className:"font-semibold text-gray-900",children:"MCP Servers"}),(0,a.jsx)(i.C,{color:"blue",size:"xs",children:w})]}),w>0?(0,a.jsx)("div",{className:"max-h-[400px] overflow-y-auto space-y-2 pr-1",children:N.map((e,s)=>{let l="server"===e.type?n[e.value]:void 0,t=l&&l.length>0,r=f.has(e.value);return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{onClick:()=>t&&v(e.value),className:"flex items-center gap-3 py-2 px-3 rounded-lg border border-gray-200 transition-all ".concat(t?"cursor-pointer hover:bg-gray-50 hover:border-gray-300":"bg-white"),children:[(0,a.jsx)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:"server"===e.type?(0,a.jsx)(u.Z,{title:"Full ID: ".concat(e.value),placement:"top",children:(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 min-w-0",children:[(0,a.jsx)("span",{className:"inline-block w-1.5 h-1.5 bg-blue-500 rounded-full flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900 truncate",children:y(e.value)})]})}):(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 min-w-0",children:[(0,a.jsx)("span",{className:"inline-block w-1.5 h-1.5 bg-green-500 rounded-full flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900 truncate",children:_(e.value)}),(0,a.jsx)("span",{className:"ml-1 px-1.5 py-0.5 text-[9px] font-semibold text-green-600 bg-green-50 border border-green-200 rounded uppercase tracking-wide flex-shrink-0",children:"Group"})]})}),t&&(0,a.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0 whitespace-nowrap",children:[(0,a.jsx)("span",{className:"text-xs font-medium text-gray-600",children:l.length}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:1===l.length?"tool":"tools"}),r?(0,a.jsx)(m.Z,{className:"h-3.5 w-3.5 text-gray-400 ml-0.5"}):(0,a.jsx)(x.Z,{className:"h-3.5 w-3.5 text-gray-400 ml-0.5"})]})]}),t&&r&&(0,a.jsx)("div",{className:"ml-4 pl-4 border-l-2 border-blue-200 pb-1",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-1.5",children:l.map((e,s)=>(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg bg-blue-50 border border-blue-200 text-blue-800 text-xs font-medium",children:e},s))})})]},s)})}):(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-50 border border-gray-200",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)(i.x,{className:"text-gray-500 text-sm",children:"No MCP servers or access groups configured"})]})]})},g=function(e){let{objectPermission:s,variant:l="card",className:t="",accessToken:i}=e,n=(null==s?void 0:s.vector_stores)||[],c=(null==s?void 0:s.mcp_servers)||[],d=(null==s?void 0:s.mcp_access_groups)||[],m=(null==s?void 0:s.mcp_tool_permissions)||{},x=(0,a.jsxs)("div",{className:"card"===l?"grid grid-cols-1 md:grid-cols-2 gap-6":"space-y-4",children:[(0,a.jsx)(o,{vectorStores:n,accessToken:i}),(0,a.jsx)(h,{mcpServers:c,mcpAccessGroups:d,mcpToolPermissions:m,accessToken:i})]});return"card"===l?(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 ".concat(t),children:[(0,a.jsx)("div",{className:"flex items-center gap-2 mb-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(r.x,{className:"font-semibold text-gray-900",children:"Object Permissions"}),(0,a.jsx)(r.x,{className:"text-xs text-gray-500",children:"Access control for Vector Stores and MCP Servers"})]})}),x]}):(0,a.jsxs)("div",{className:"".concat(t),children:[(0,a.jsx)(r.x,{className:"font-medium text-gray-900 mb-3",children:"Object Permissions"}),x]})}},21425:function(e,s,l){"use strict";var a=l(57437);l(2265);var t=l(54507);s.Z=e=>{let{value:s,onChange:l,disabledCallbacks:r=[],onDisabledCallbacksChange:i}=e;return(0,a.jsx)(t.Z,{value:s,onChange:l,disabledCallbacks:r,onDisabledCallbacksChange:i})}},918:function(e,s,l){"use strict";var a=l(57437),t=l(2265),r=l(62490),i=l(19250),n=l(9114);s.Z=e=>{let{accessToken:s,userID:l}=e,[c,o]=(0,t.useState)([]);(0,t.useEffect)(()=>{(async()=>{if(s&&l)try{let e=await (0,i.availableTeamListCall)(s);o(e)}catch(e){console.error("Error fetching available teams:",e)}})()},[s,l]);let d=async e=>{if(s&&l)try{await (0,i.teamMemberAddCall)(s,e,{user_id:l,role:"user"}),n.Z.success("Successfully joined team"),o(s=>s.filter(s=>s.team_id!==e))}catch(e){console.error("Error joining team:",e),n.Z.fromBackend("Failed to join team")}};return(0,a.jsx)(r.Zb,{className:"w-full mx-auto flex-auto overflow-y-auto max-h-[50vh]",children:(0,a.jsxs)(r.iA,{children:[(0,a.jsx)(r.ss,{children:(0,a.jsxs)(r.SC,{children:[(0,a.jsx)(r.xs,{children:"Team Name"}),(0,a.jsx)(r.xs,{children:"Description"}),(0,a.jsx)(r.xs,{children:"Members"}),(0,a.jsx)(r.xs,{children:"Models"}),(0,a.jsx)(r.xs,{children:"Actions"})]})}),(0,a.jsxs)(r.RM,{children:[c.map(e=>(0,a.jsxs)(r.SC,{children:[(0,a.jsx)(r.pj,{children:(0,a.jsx)(r.xv,{children:e.team_alias})}),(0,a.jsx)(r.pj,{children:(0,a.jsx)(r.xv,{children:e.description||"No description available"})}),(0,a.jsx)(r.pj,{children:(0,a.jsxs)(r.xv,{children:[e.members_with_roles.length," members"]})}),(0,a.jsx)(r.pj,{children:(0,a.jsx)("div",{className:"flex flex-col",children:e.models&&0!==e.models.length?e.models.map((e,s)=>(0,a.jsx)(r.Ct,{size:"xs",className:"mb-1",color:"blue",children:(0,a.jsx)(r.xv,{children:e.length>30?"".concat(e.slice(0,30),"..."):e})},s)):(0,a.jsx)(r.Ct,{size:"xs",color:"red",children:(0,a.jsx)(r.xv,{children:"All Proxy Models"})})})}),(0,a.jsx)(r.pj,{children:(0,a.jsx)(r.zx,{size:"xs",variant:"secondary",onClick:()=>d(e.team_id),children:"Join Team"})})]},e.team_id)),0===c.length&&(0,a.jsx)(r.SC,{children:(0,a.jsx)(r.pj,{colSpan:5,className:"text-center",children:(0,a.jsx)(r.xv,{children:"No available teams to join"})})})]})]})})}},33304:function(e,s,l){"use strict";function a(e){return""===e?null:e}l.d(s,{C:function(){return a}})}},function(e){e.O(0,[9820,1491,1526,2417,2926,3709,9775,2284,7908,9678,1853,7281,6202,7640,8049,131,2004,2012,2971,2117,1744],function(){return e(e.s=45744)}),_N_E=e.O()}]);