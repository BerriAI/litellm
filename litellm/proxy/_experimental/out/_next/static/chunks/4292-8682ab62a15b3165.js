"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4292],{84717:function(e,s,t){t.d(s,{Ct:function(){return a.Z},Dx:function(){return u.Z},OK:function(){return n.Z},Zb:function(){return r.Z},nP:function(){return m.Z},rj:function(){return i.Z},td:function(){return o.Z},v0:function(){return d.Z},x4:function(){return c.Z},xv:function(){return x.Z},zx:function(){return l.Z}});var a=t(41649),l=t(20831),r=t(12514),i=t(67101),n=t(12485),d=t(18135),o=t(35242),c=t(29706),m=t(77991),x=t(84264),u=t(96761)},40728:function(e,s,t){t.d(s,{C:function(){return a.Z},x:function(){return l.Z}});var a=t(41649),l=t(84264)},16721:function(e,s,t){t.d(s,{Dx:function(){return d.Z},JX:function(){return l.Z},oi:function(){return n.Z},rj:function(){return r.Z},xv:function(){return i.Z},zx:function(){return a.Z}});var a=t(20831),l=t(49804),r=t(67101),i=t(84264),n=t(49566),d=t(96761)},64504:function(e,s,t){t.d(s,{o:function(){return l.Z},z:function(){return a.Z}});var a=t(20831),l=t(49566)},67479:function(e,s,t){var a=t(57437),l=t(2265),r=t(52787),i=t(19250);s.Z=e=>{let{onChange:s,value:t,className:n,accessToken:d,disabled:o}=e,[c,m]=(0,l.useState)([]),[x,u]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{(async()=>{if(d){u(!0);try{let e=await (0,i.getGuardrailsList)(d);console.log("Guardrails response:",e),e.guardrails&&(console.log("Guardrails data:",e.guardrails),m(e.guardrails))}catch(e){console.error("Error fetching guardrails:",e)}finally{u(!1)}}})()},[d]),(0,a.jsx)("div",{children:(0,a.jsx)(r.default,{mode:"multiple",disabled:o,placeholder:o?"Setting guardrails is a premium feature.":"Select guardrails",onChange:e=>{console.log("Selected guardrails:",e),s(e)},value:t,loading:x,className:n,options:c.map(e=>(console.log("Mapping guardrail:",e),{label:"".concat(e.guardrail_name),value:e.guardrail_name})),optionFilterProp:"label",showSearch:!0,style:{width:"100%"}})})}},27799:function(e,s,t){var a=t(57437);t(2265);var l=t(40728),r=t(82182),i=t(91777),n=t(97434);s.Z=function(e){let{loggingConfigs:s=[],disabledCallbacks:t=[],variant:d="card",className:o=""}=e,c=e=>{var s;return(null===(s=Object.entries(n.Lo).find(s=>{let[t,a]=s;return a===e}))||void 0===s?void 0:s[0])||e},m=e=>{switch(e){case"success":return"green";case"failure":return"red";case"success_and_failure":return"blue";default:return"gray"}},x=e=>{switch(e){case"success":return"Success Only";case"failure":return"Failure Only";case"success_and_failure":return"Success & Failure";default:return e}},u=(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r.Z,{className:"h-4 w-4 text-blue-600"}),(0,a.jsx)(l.x,{className:"font-semibold text-gray-900",children:"Logging Integrations"}),(0,a.jsx)(l.C,{color:"blue",size:"xs",children:s.length})]}),s.length>0?(0,a.jsx)("div",{className:"space-y-3",children:s.map((e,s)=>{var t;let i=c(e.callback_name),d=null===(t=n.Dg[i])||void 0===t?void 0:t.logo;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-blue-50 border border-blue-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[d?(0,a.jsx)("img",{src:d,alt:i,className:"w-5 h-5 object-contain"}):(0,a.jsx)(r.Z,{className:"h-5 w-5 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.x,{className:"font-medium text-blue-800",children:i}),(0,a.jsxs)(l.x,{className:"text-xs text-blue-600",children:[Object.keys(e.callback_vars).length," parameters configured"]})]})]}),(0,a.jsx)(l.C,{color:m(e.callback_type),size:"sm",children:x(e.callback_type)})]},s)})}):(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-50 border border-gray-200",children:[(0,a.jsx)(r.Z,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)(l.x,{className:"text-gray-500 text-sm",children:"No logging integrations configured"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4 text-red-600"}),(0,a.jsx)(l.x,{className:"font-semibold text-gray-900",children:"Disabled Callbacks"}),(0,a.jsx)(l.C,{color:"red",size:"xs",children:t.length})]}),t.length>0?(0,a.jsx)("div",{className:"space-y-3",children:t.map((e,s)=>{var t;let r=n.RD[e]||e,d=null===(t=n.Dg[r])||void 0===t?void 0:t.logo;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-red-50 border border-red-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[d?(0,a.jsx)("img",{src:d,alt:r,className:"w-5 h-5 object-contain"}):(0,a.jsx)(i.Z,{className:"h-5 w-5 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.x,{className:"font-medium text-red-800",children:r}),(0,a.jsx)(l.x,{className:"text-xs text-red-600",children:"Disabled for this key"})]})]}),(0,a.jsx)(l.C,{color:"red",size:"sm",children:"Disabled"})]},s)})}):(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-50 border border-gray-200",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)(l.x,{className:"text-gray-500 text-sm",children:"No callbacks disabled"})]})]})]});return"card"===d?(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 ".concat(o),children:[(0,a.jsx)("div",{className:"flex items-center gap-2 mb-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(l.x,{className:"font-semibold text-gray-900",children:"Logging Settings"}),(0,a.jsx)(l.x,{className:"text-xs text-gray-500",children:"Active logging integrations and disabled callbacks for this key"})]})}),u]}):(0,a.jsxs)("div",{className:"".concat(o),children:[(0,a.jsx)(l.x,{className:"font-medium text-gray-900 mb-3",children:"Logging Settings"}),u]})}},98015:function(e,s,t){t.d(s,{Z:function(){return g}});var a=t(57437),l=t(2265),r=t(92280),i=t(40728),n=t(79814),d=t(19250),o=function(e){let{vectorStores:s,accessToken:t}=e,[r,o]=(0,l.useState)([]);(0,l.useEffect)(()=>{(async()=>{if(t&&0!==s.length)try{let e=await (0,d.vectorStoreListCall)(t);e.data&&o(e.data.map(e=>({vector_store_id:e.vector_store_id,vector_store_name:e.vector_store_name})))}catch(e){console.error("Error fetching vector stores:",e)}})()},[t,s.length]);let c=e=>{let s=r.find(s=>s.vector_store_id===e);return s?"".concat(s.vector_store_name||s.vector_store_id," (").concat(s.vector_store_id,")"):e};return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.Z,{className:"h-4 w-4 text-blue-600"}),(0,a.jsx)(i.x,{className:"font-semibold text-gray-900",children:"Vector Stores"}),(0,a.jsx)(i.C,{color:"blue",size:"xs",children:s.length})]}),s.length>0?(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:s.map((e,s)=>(0,a.jsx)("div",{className:"inline-flex items-center px-3 py-1.5 rounded-lg bg-blue-50 border border-blue-200 text-blue-800 text-sm font-medium",children:c(e)},s))}):(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-50 border border-gray-200",children:[(0,a.jsx)(n.Z,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)(i.x,{className:"text-gray-500 text-sm",children:"No vector stores configured"})]})]})},c=t(25327),m=t(86462),x=t(47686),u=t(89970),h=function(e){let{mcpServers:s,mcpAccessGroups:r=[],mcpToolPermissions:n={},accessToken:o}=e,[h,g]=(0,l.useState)([]),[p,j]=(0,l.useState)([]),[v,b]=(0,l.useState)(new Set),y=e=>{b(s=>{let t=new Set(s);return t.has(e)?t.delete(e):t.add(e),t})};(0,l.useEffect)(()=>{(async()=>{if(o&&s.length>0)try{let e=await (0,d.fetchMCPServers)(o);e&&Array.isArray(e)?g(e):e.data&&Array.isArray(e.data)&&g(e.data)}catch(e){console.error("Error fetching MCP servers:",e)}})()},[o,s.length]),(0,l.useEffect)(()=>{(async()=>{if(o&&r.length>0)try{let e=await Promise.resolve().then(t.bind(t,19250)).then(e=>e.fetchMCPAccessGroups(o));j(Array.isArray(e)?e:e.data||[])}catch(e){console.error("Error fetching MCP access groups:",e)}})()},[o,r.length]);let _=e=>{let s=h.find(s=>s.server_id===e);if(s){let t=e.length>7?"".concat(e.slice(0,3),"...").concat(e.slice(-4)):e;return"".concat(s.alias," (").concat(t,")")}return e},f=e=>e,N=[...s.map(e=>({type:"server",value:e})),...r.map(e=>({type:"accessGroup",value:e}))],k=N.length;return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 text-blue-600"}),(0,a.jsx)(i.x,{className:"font-semibold text-gray-900",children:"MCP Servers"}),(0,a.jsx)(i.C,{color:"blue",size:"xs",children:k})]}),k>0?(0,a.jsx)("div",{className:"max-h-[400px] overflow-y-auto space-y-2 pr-1",children:N.map((e,s)=>{let t="server"===e.type?n[e.value]:void 0,l=t&&t.length>0,r=v.has(e.value);return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{onClick:()=>l&&y(e.value),className:"flex items-center gap-3 py-2 px-3 rounded-lg border border-gray-200 transition-all ".concat(l?"cursor-pointer hover:bg-gray-50 hover:border-gray-300":"bg-white"),children:[(0,a.jsx)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:"server"===e.type?(0,a.jsx)(u.Z,{title:"Full ID: ".concat(e.value),placement:"top",children:(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 min-w-0",children:[(0,a.jsx)("span",{className:"inline-block w-1.5 h-1.5 bg-blue-500 rounded-full flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900 truncate",children:_(e.value)})]})}):(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 min-w-0",children:[(0,a.jsx)("span",{className:"inline-block w-1.5 h-1.5 bg-green-500 rounded-full flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900 truncate",children:f(e.value)}),(0,a.jsx)("span",{className:"ml-1 px-1.5 py-0.5 text-[9px] font-semibold text-green-600 bg-green-50 border border-green-200 rounded uppercase tracking-wide flex-shrink-0",children:"Group"})]})}),l&&(0,a.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0 whitespace-nowrap",children:[(0,a.jsx)("span",{className:"text-xs font-medium text-gray-600",children:t.length}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:1===t.length?"tool":"tools"}),r?(0,a.jsx)(m.Z,{className:"h-3.5 w-3.5 text-gray-400 ml-0.5"}):(0,a.jsx)(x.Z,{className:"h-3.5 w-3.5 text-gray-400 ml-0.5"})]})]}),l&&r&&(0,a.jsx)("div",{className:"ml-4 pl-4 border-l-2 border-blue-200 pb-1",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-1.5",children:t.map((e,s)=>(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg bg-blue-50 border border-blue-200 text-blue-800 text-xs font-medium",children:e},s))})})]},s)})}):(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-50 border border-gray-200",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)(i.x,{className:"text-gray-500 text-sm",children:"No MCP servers or access groups configured"})]})]})},g=function(e){let{objectPermission:s,variant:t="card",className:l="",accessToken:i}=e,n=(null==s?void 0:s.vector_stores)||[],d=(null==s?void 0:s.mcp_servers)||[],c=(null==s?void 0:s.mcp_access_groups)||[],m=(null==s?void 0:s.mcp_tool_permissions)||{},x=(0,a.jsxs)("div",{className:"card"===t?"grid grid-cols-1 md:grid-cols-2 gap-6":"space-y-4",children:[(0,a.jsx)(o,{vectorStores:n,accessToken:i}),(0,a.jsx)(h,{mcpServers:d,mcpAccessGroups:c,mcpToolPermissions:m,accessToken:i})]});return"card"===t?(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 ".concat(l),children:[(0,a.jsx)("div",{className:"flex items-center gap-2 mb-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(r.x,{className:"font-semibold text-gray-900",children:"Object Permissions"}),(0,a.jsx)(r.x,{className:"text-xs text-gray-500",children:"Access control for Vector Stores and MCP Servers"})]})}),x]}):(0,a.jsxs)("div",{className:"".concat(l),children:[(0,a.jsx)(r.x,{className:"font-medium text-gray-900 mb-3",children:"Object Permissions"}),x]})}},21425:function(e,s,t){var a=t(57437);t(2265);var l=t(54507);s.Z=e=>{let{value:s,onChange:t,disabledCallbacks:r=[],onDisabledCallbacksChange:i}=e;return(0,a.jsx)(l.Z,{value:s,onChange:t,disabledCallbacks:r,onDisabledCallbacksChange:i})}},94292:function(e,s,t){t.d(s,{Z:function(){return Q}});var a=t(57437),l=t(2265),r=t(84717),i=t(10900),n=t(23628),d=t(74998),o=t(19250),c=t(13634),m=t(73002),x=t(89970),u=t(9114),h=t(52787),g=t(64482),p=t(64504),j=t(30874),v=t(24199),b=t(97415),y=t(95920),_=t(68473),f=t(21425);let N=["logging"],k=e=>e&&"object"==typeof e?Object.fromEntries(Object.entries(e).filter(e=>{let[s]=e;return!N.includes(s)})):{},w=e=>e&&"object"==typeof e&&Array.isArray(e.logging)?e.logging:[],Z=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return JSON.stringify(k(e),null,s)};var S=t(97434),C=t(67479),A=t(62099),I=t(65895),P=t(95096);function L(e){var s,t,r,i,n,d,u,N,k,L;let{keyData:D,onCancel:M,onSubmit:R,teams:T,accessToken:E,userID:F,userRole:z,premiumUser:K=!1}=e,[O]=c.Z.useForm(),[U,V]=(0,l.useState)([]),[G,B]=(0,l.useState)([]),J=null==T?void 0:T.find(e=>e.team_id===D.team_id),[W,q]=(0,l.useState)([]),[$,Q]=(0,l.useState)([]),[X,Y]=(0,l.useState)(!1),[H,ee]=(0,l.useState)(Array.isArray(null===(s=D.metadata)||void 0===s?void 0:s.litellm_disabled_callbacks)?(0,S.PA)(D.metadata.litellm_disabled_callbacks):[]),[es,et]=(0,l.useState)(D.auto_rotate||!1),[ea,el]=(0,l.useState)(D.rotation_interval||"");(0,l.useEffect)(()=>{let e=async()=>{if(F&&z&&E)try{if(null===D.team_id){let e=(await (0,o.modelAvailableCall)(E,F,z)).data.map(e=>e.id);q(e)}else if(null==J?void 0:J.team_id){let e=await (0,j.wk)(F,z,E,J.team_id);q(Array.from(new Set([...J.models,...e])))}}catch(e){console.error("Error fetching models:",e)}};(async()=>{if(E)try{let e=await (0,o.getPromptsList)(E);B(e.prompts.map(e=>e.prompt_id))}catch(e){console.error("Failed to fetch prompts:",e)}})(),e()},[F,z,E,J,D.team_id]),(0,l.useEffect)(()=>{O.setFieldValue("disabled_callbacks",H)},[O,H]);let er=e=>e&&({"24h":"daily","7d":"weekly","30d":"monthly"})[e]||null,ei={...D,token:D.token||D.token_id,budget_duration:er(D.budget_duration),metadata:Z(D.metadata),guardrails:null===(t=D.metadata)||void 0===t?void 0:t.guardrails,prompts:null===(r=D.metadata)||void 0===r?void 0:r.prompts,vector_stores:(null===(i=D.object_permission)||void 0===i?void 0:i.vector_stores)||[],mcp_servers_and_groups:{servers:(null===(n=D.object_permission)||void 0===n?void 0:n.mcp_servers)||[],accessGroups:(null===(d=D.object_permission)||void 0===d?void 0:d.mcp_access_groups)||[]},mcp_tool_permissions:(null===(u=D.object_permission)||void 0===u?void 0:u.mcp_tool_permissions)||{},logging_settings:w(D.metadata),disabled_callbacks:Array.isArray(null===(N=D.metadata)||void 0===N?void 0:N.litellm_disabled_callbacks)?(0,S.PA)(D.metadata.litellm_disabled_callbacks):[],auto_rotate:D.auto_rotate||!1,...D.rotation_interval&&{rotation_interval:D.rotation_interval}};return(0,l.useEffect)(()=>{var e,s,t,a,l,r,i;O.setFieldsValue({...D,token:D.token||D.token_id,budget_duration:er(D.budget_duration),metadata:Z(D.metadata),guardrails:null===(e=D.metadata)||void 0===e?void 0:e.guardrails,prompts:null===(s=D.metadata)||void 0===s?void 0:s.prompts,vector_stores:(null===(t=D.object_permission)||void 0===t?void 0:t.vector_stores)||[],mcp_servers_and_groups:{servers:(null===(a=D.object_permission)||void 0===a?void 0:a.mcp_servers)||[],accessGroups:(null===(l=D.object_permission)||void 0===l?void 0:l.mcp_access_groups)||[]},mcp_tool_permissions:(null===(r=D.object_permission)||void 0===r?void 0:r.mcp_tool_permissions)||{},logging_settings:w(D.metadata),disabled_callbacks:Array.isArray(null===(i=D.metadata)||void 0===i?void 0:i.litellm_disabled_callbacks)?(0,S.PA)(D.metadata.litellm_disabled_callbacks):[],auto_rotate:D.auto_rotate||!1,...D.rotation_interval&&{rotation_interval:D.rotation_interval}})},[D,O]),(0,l.useEffect)(()=>{O.setFieldValue("auto_rotate",es)},[es,O]),(0,l.useEffect)(()=>{ea&&O.setFieldValue("rotation_interval",ea)},[ea,O]),console.log("premiumUser:",K),(0,a.jsxs)(c.Z,{form:O,onFinish:R,initialValues:ei,layout:"vertical",children:[(0,a.jsx)(c.Z.Item,{label:"Key Alias",name:"key_alias",children:(0,a.jsx)(p.o,{})}),(0,a.jsx)(c.Z.Item,{label:"Models",name:"models",children:(0,a.jsxs)(h.default,{mode:"multiple",placeholder:"Select models",style:{width:"100%"},children:[W.length>0&&(0,a.jsx)(h.default.Option,{value:"all-team-models",children:"All Team Models"}),W.map(e=>(0,a.jsx)(h.default.Option,{value:e,children:e},e))]})}),(0,a.jsx)(c.Z.Item,{label:"Max Budget (USD)",name:"max_budget",children:(0,a.jsx)(v.Z,{step:.01,style:{width:"100%"},placeholder:"Enter a numerical value"})}),(0,a.jsx)(c.Z.Item,{label:"Reset Budget",name:"budget_duration",children:(0,a.jsxs)(h.default,{placeholder:"n/a",children:[(0,a.jsx)(h.default.Option,{value:"daily",children:"Daily"}),(0,a.jsx)(h.default.Option,{value:"weekly",children:"Weekly"}),(0,a.jsx)(h.default.Option,{value:"monthly",children:"Monthly"})]})}),(0,a.jsx)(c.Z.Item,{label:"TPM Limit",name:"tpm_limit",children:(0,a.jsx)(v.Z,{min:0})}),(0,a.jsx)(I.Z,{type:"tpm",name:"tpm_limit_type",showDetailedDescriptions:!1}),(0,a.jsx)(c.Z.Item,{label:"RPM Limit",name:"rpm_limit",children:(0,a.jsx)(v.Z,{min:0})}),(0,a.jsx)(I.Z,{type:"rpm",name:"rpm_limit_type",showDetailedDescriptions:!1}),(0,a.jsx)(c.Z.Item,{label:"Max Parallel Requests",name:"max_parallel_requests",children:(0,a.jsx)(v.Z,{min:0})}),(0,a.jsx)(c.Z.Item,{label:"Model TPM Limit",name:"model_tpm_limit",children:(0,a.jsx)(g.default.TextArea,{rows:4,placeholder:'{"gpt-4": 100, "claude-v1": 200}'})}),(0,a.jsx)(c.Z.Item,{label:"Model RPM Limit",name:"model_rpm_limit",children:(0,a.jsx)(g.default.TextArea,{rows:4,placeholder:'{"gpt-4": 100, "claude-v1": 200}'})}),(0,a.jsx)(c.Z.Item,{label:"Guardrails",name:"guardrails",children:E&&(0,a.jsx)(C.Z,{onChange:e=>{O.setFieldValue("guardrails",e)},accessToken:E,disabled:!K})}),(0,a.jsx)(c.Z.Item,{label:"Prompts",name:"prompts",children:(0,a.jsx)(x.Z,{title:K?"":"Setting prompts by key is a premium feature",placement:"top",children:(0,a.jsx)(h.default,{mode:"tags",style:{width:"100%"},disabled:!K,placeholder:K?Array.isArray(null===(k=D.metadata)||void 0===k?void 0:k.prompts)&&D.metadata.prompts.length>0?"Current: ".concat(D.metadata.prompts.join(", ")):"Select or enter prompts":"Premium feature - Upgrade to set prompts by key",options:G.map(e=>({value:e,label:e}))})})}),(0,a.jsx)(c.Z.Item,{label:"Allowed Pass Through Routes",name:"allowed_passthrough_routes",children:(0,a.jsx)(x.Z,{title:K?"":"Setting allowed pass through routes by key is a premium feature",placement:"top",children:(0,a.jsx)(P.Z,{onChange:e=>O.setFieldValue("allowed_passthrough_routes",e),value:O.getFieldValue("allowed_passthrough_routes"),accessToken:E||"",placeholder:K?Array.isArray(null===(L=D.metadata)||void 0===L?void 0:L.allowed_passthrough_routes)&&D.metadata.allowed_passthrough_routes.length>0?"Current: ".concat(D.metadata.allowed_passthrough_routes.join(", ")):"Select or enter allowed pass through routes":"Premium feature - Upgrade to set allowed pass through routes by key",disabled:!K})})}),(0,a.jsx)(c.Z.Item,{label:"Vector Stores",name:"vector_stores",children:(0,a.jsx)(b.Z,{onChange:e=>O.setFieldValue("vector_stores",e),value:O.getFieldValue("vector_stores"),accessToken:E||"",placeholder:"Select vector stores"})}),(0,a.jsx)(c.Z.Item,{label:"MCP Servers / Access Groups",name:"mcp_servers_and_groups",children:(0,a.jsx)(y.Z,{onChange:e=>O.setFieldValue("mcp_servers_and_groups",e),value:O.getFieldValue("mcp_servers_and_groups"),accessToken:E||"",placeholder:"Select MCP servers or access groups (optional)"})}),(0,a.jsx)(c.Z.Item,{name:"mcp_tool_permissions",initialValue:{},hidden:!0,children:(0,a.jsx)(g.default,{type:"hidden"})}),(0,a.jsx)(c.Z.Item,{noStyle:!0,shouldUpdate:(e,s)=>e.mcp_servers_and_groups!==s.mcp_servers_and_groups||e.mcp_tool_permissions!==s.mcp_tool_permissions,children:()=>{var e;return(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(_.Z,{accessToken:E||"",selectedServers:(null===(e=O.getFieldValue("mcp_servers_and_groups"))||void 0===e?void 0:e.servers)||[],toolPermissions:O.getFieldValue("mcp_tool_permissions")||{},onChange:e=>O.setFieldsValue({mcp_tool_permissions:e})})})}}),(0,a.jsx)(c.Z.Item,{label:"Team ID",name:"team_id",children:(0,a.jsx)(h.default,{placeholder:"Select team",style:{width:"100%"},children:null==T?void 0:T.map(e=>(0,a.jsx)(h.default.Option,{value:e.team_id,children:"".concat(e.team_alias," (").concat(e.team_id,")")},e.team_id))})}),(0,a.jsx)(c.Z.Item,{label:"Logging Settings",name:"logging_settings",children:(0,a.jsx)(f.Z,{value:O.getFieldValue("logging_settings"),onChange:e=>O.setFieldValue("logging_settings",e),disabledCallbacks:H,onDisabledCallbacksChange:e=>{ee((0,S.PA)(e)),O.setFieldValue("disabled_callbacks",e)}})}),(0,a.jsx)(c.Z.Item,{label:"Metadata",name:"metadata",children:(0,a.jsx)(g.default.TextArea,{rows:10})}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(A.Z,{form:O,autoRotationEnabled:es,onAutoRotationChange:et,rotationInterval:ea,onRotationIntervalChange:el})}),(0,a.jsx)(c.Z.Item,{name:"token",hidden:!0,children:(0,a.jsx)(g.default,{})}),(0,a.jsx)(c.Z.Item,{name:"disabled_callbacks",hidden:!0,children:(0,a.jsx)(g.default,{})}),(0,a.jsx)(c.Z.Item,{name:"auto_rotate",hidden:!0,children:(0,a.jsx)(g.default,{})}),(0,a.jsx)(c.Z.Item,{name:"rotation_interval",hidden:!0,children:(0,a.jsx)(g.default,{})}),(0,a.jsx)("div",{className:"sticky z-10 bg-white p-4 border-t border-gray-200 bottom-[-1.5rem] inset-x-[-1.5rem]",children:(0,a.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,a.jsx)(m.ZP,{onClick:M,children:"Cancel"}),(0,a.jsx)(p.z,{type:"submit",children:"Save Changes"})]})})]})}var D=t(16721),M=t(82680),R=t(20577),T=t(7366),E=t(29233);function F(e){let{selectedToken:s,visible:t,onClose:r,accessToken:i,premiumUser:n,setAccessToken:d,onKeyUpdate:m}=e,[x]=c.Z.useForm(),[h,g]=(0,l.useState)(null),[p,j]=(0,l.useState)(null),[v,b]=(0,l.useState)(null),[y,_]=(0,l.useState)(!1),[f,N]=(0,l.useState)(!1),[k,w]=(0,l.useState)(null);(0,l.useEffect)(()=>{t&&s&&i&&(x.setFieldsValue({key_alias:s.key_alias,max_budget:s.max_budget,tpm_limit:s.tpm_limit,rpm_limit:s.rpm_limit,duration:s.duration||""}),w(i),N(s.key_name===i))},[t,s,x,i]),(0,l.useEffect)(()=>{t||(g(null),_(!1),N(!1),w(null),x.resetFields())},[t,x]);let Z=e=>{if(!e)return null;try{let s;let t=new Date;if(e.endsWith("s"))s=(0,T.Z)(t,{seconds:parseInt(e)});else if(e.endsWith("h"))s=(0,T.Z)(t,{hours:parseInt(e)});else if(e.endsWith("d"))s=(0,T.Z)(t,{days:parseInt(e)});else throw Error("Invalid duration format");return s.toLocaleString()}catch(e){return null}};(0,l.useEffect)(()=>{(null==p?void 0:p.duration)?b(Z(p.duration)):b(null)},[null==p?void 0:p.duration]);let S=async()=>{if(s&&k){_(!0);try{let e=await x.validateFields(),t=await (0,o.regenerateKeyCall)(k,s.token||s.token_id,e);g(t.key),u.Z.success("API Key regenerated successfully"),console.log("Full regenerate response:",t);let a={token:t.token||t.key_id||s.token,key_name:t.key,max_budget:e.max_budget,tpm_limit:e.tpm_limit,rpm_limit:e.rpm_limit,expires:e.duration?Z(e.duration):s.expires,...t};console.log("Updated key data with new token:",a),f&&(w(t.key),d&&d(t.key)),m&&m(a),_(!1)}catch(e){console.error("Error regenerating key:",e),u.Z.fromBackend(e),_(!1)}}},C=()=>{g(null),_(!1),N(!1),w(null),x.resetFields(),r()};return(0,a.jsx)(M.Z,{title:"Regenerate API Key",open:t,onCancel:C,footer:h?[(0,a.jsx)(D.zx,{onClick:C,children:"Close"},"close")]:[(0,a.jsx)(D.zx,{onClick:C,className:"mr-2",children:"Cancel"},"cancel"),(0,a.jsx)(D.zx,{onClick:S,disabled:y,children:y?"Regenerating...":"Regenerate"},"regenerate")],children:h?(0,a.jsxs)(D.rj,{numItems:1,className:"gap-2 w-full",children:[(0,a.jsx)(D.Dx,{children:"Regenerated Key"}),(0,a.jsx)(D.JX,{numColSpan:1,children:(0,a.jsxs)("p",{children:["Please replace your old key with the new key generated. For security reasons,"," ",(0,a.jsx)("b",{children:"you will not be able to view it again"})," through your LiteLLM account. If you lose this secret key, you will need to generate a new one."]})}),(0,a.jsxs)(D.JX,{numColSpan:1,children:[(0,a.jsx)(D.xv,{className:"mt-3",children:"Key Alias:"}),(0,a.jsx)("div",{className:"bg-gray-100 p-2 rounded mb-2",children:(0,a.jsx)("pre",{className:"break-words whitespace-normal",children:(null==s?void 0:s.key_alias)||"No alias set"})}),(0,a.jsx)(D.xv,{className:"mt-3",children:"New API Key:"}),(0,a.jsx)("div",{className:"bg-gray-100 p-2 rounded mb-2",children:(0,a.jsx)("pre",{className:"break-words whitespace-normal",children:h})}),(0,a.jsx)(E.CopyToClipboard,{text:h,onCopy:()=>u.Z.success("API Key copied to clipboard"),children:(0,a.jsx)(D.zx,{className:"mt-3",children:"Copy API Key"})})]})]}):(0,a.jsxs)(c.Z,{form:x,layout:"vertical",onValuesChange:e=>{"duration"in e&&j(s=>({...s,duration:e.duration}))},children:[(0,a.jsx)(c.Z.Item,{name:"key_alias",label:"Key Alias",children:(0,a.jsx)(D.oi,{disabled:!0})}),(0,a.jsx)(c.Z.Item,{name:"max_budget",label:"Max Budget (USD)",children:(0,a.jsx)(R.Z,{step:.01,precision:2,style:{width:"100%"}})}),(0,a.jsx)(c.Z.Item,{name:"tpm_limit",label:"TPM Limit",children:(0,a.jsx)(R.Z,{style:{width:"100%"}})}),(0,a.jsx)(c.Z.Item,{name:"rpm_limit",label:"RPM Limit",children:(0,a.jsx)(R.Z,{style:{width:"100%"}})}),(0,a.jsx)(c.Z.Item,{name:"duration",label:"Expire Key (eg: 30s, 30h, 30d)",className:"mt-8",children:(0,a.jsx)(D.oi,{placeholder:""})}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:["Current expiry: ",(null==s?void 0:s.expires)?new Date(s.expires).toLocaleString():"Never"]}),v&&(0,a.jsxs)("div",{className:"mt-2 text-sm text-green-600",children:["New expiry: ",v]})]})})}var z=t(20347),K=t(98015),O=t(27799),U=t(59872),V=t(30401),G=t(78867),B=t(85968),J=t(40728),W=t(58710),q=e=>{let{autoRotate:s=!1,rotationInterval:t,lastRotationAt:l,keyRotationAt:r,nextRotationAt:i,variant:d="card",className:o=""}=e,c=e=>{let s=new Date(e),t=s.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),a=s.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return"".concat(t," at ").concat(a)},m=(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.Z,{className:"h-4 w-4 text-blue-600"}),(0,a.jsx)(J.x,{className:"font-semibold text-gray-900",children:"Auto-Rotation"}),(0,a.jsx)(J.C,{color:s?"green":"gray",size:"xs",children:s?"Enabled":"Disabled"}),s&&t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(J.x,{className:"text-gray-400",children:"•"}),(0,a.jsxs)(J.x,{className:"text-sm text-gray-600",children:["Every ",t]})]})]})}),(s||l||r||i)&&(0,a.jsxs)("div",{className:"space-y-3",children:[l&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-50 border border-gray-200 rounded-md",children:[(0,a.jsx)(W.Z,{className:"w-4 h-4 text-gray-500"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(J.x,{className:"font-medium text-gray-700",children:"Last Rotation"}),(0,a.jsx)(J.x,{className:"text-sm text-gray-600",children:c(l)})]})]}),(r||i)&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-50 border border-gray-200 rounded-md",children:[(0,a.jsx)(W.Z,{className:"w-4 h-4 text-gray-500"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(J.x,{className:"font-medium text-gray-700",children:"Next Scheduled Rotation"}),(0,a.jsx)(J.x,{className:"text-sm text-gray-600",children:c(i||r||"")})]})]}),s&&!l&&!r&&!i&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-50 border border-gray-100 rounded-md",children:[(0,a.jsx)(W.Z,{className:"w-4 h-4 text-gray-500"}),(0,a.jsx)(J.x,{className:"text-gray-600",children:"No rotation history available"})]})]}),!s&&!l&&!r&&!i&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-50 border border-gray-100 rounded-md",children:[(0,a.jsx)(n.Z,{className:"w-4 h-4 text-gray-400"}),(0,a.jsx)(J.x,{className:"text-gray-600",children:"Auto-rotation is not enabled for this key"})]})]});return"card"===d?(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 ".concat(o),children:[(0,a.jsx)("div",{className:"flex items-center gap-2 mb-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(J.x,{className:"font-semibold text-gray-900",children:"Auto-Rotation"}),(0,a.jsx)(J.x,{className:"text-xs text-gray-500",children:"Automatic key rotation settings and status for this key"})]})}),m]}):(0,a.jsxs)("div",{className:"".concat(o),children:[(0,a.jsx)(J.x,{className:"font-medium text-gray-900 mb-3",children:"Auto-Rotation"}),m]})},$=t(33304);function Q(e){var s,t,h,g,p,j;let{keyId:v,onClose:b,keyData:y,accessToken:_,userID:f,userRole:N,teams:k,onKeyDataUpdate:C,onDelete:A,premiumUser:I,setAccessToken:P,backButtonText:D="Back to Keys"}=e,[M,R]=(0,l.useState)(!1),[T]=c.Z.useForm(),[E,J]=(0,l.useState)(!1),[W,Q]=(0,l.useState)(""),[X,Y]=(0,l.useState)(!1),[H,ee]=(0,l.useState)({}),[es,et]=(0,l.useState)(y),[ea,el]=(0,l.useState)(null),[er,ei]=(0,l.useState)(!1);if((0,l.useEffect)(()=>{y&&et(y)},[y]),(0,l.useEffect)(()=>{if(er){let e=setTimeout(()=>{ei(!1)},5e3);return()=>clearTimeout(e)}},[er]),!es)return(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)(r.zx,{icon:i.Z,variant:"light",onClick:b,className:"mb-4",children:D}),(0,a.jsx)(r.xv,{children:"Key not found"})]});let en=async e=>{try{var s,t,a,l;if(!_)return;let r=e.token;if(e.key=r,I||(delete e.guardrails,delete e.prompts),e.max_budget=(0,$.C)(e.max_budget),void 0!==e.vector_stores&&(e.object_permission={...es.object_permission,vector_stores:e.vector_stores||[]},delete e.vector_stores),void 0!==e.mcp_servers_and_groups){let{servers:s,accessGroups:t}=e.mcp_servers_and_groups||{servers:[],accessGroups:[]};e.object_permission={...es.object_permission,mcp_servers:s||[],mcp_access_groups:t||[]},delete e.mcp_servers_and_groups}if(void 0!==e.mcp_tool_permissions){let s=e.mcp_tool_permissions||{};Object.keys(s).length>0&&(e.object_permission={...e.object_permission,mcp_tool_permissions:s}),delete e.mcp_tool_permissions}if(""===e.max_budget&&(e.max_budget=null),e.metadata&&"string"==typeof e.metadata)try{let a=JSON.parse(e.metadata);e.metadata={...a,...(null===(s=e.guardrails)||void 0===s?void 0:s.length)>0?{guardrails:e.guardrails}:{},...e.logging_settings?{logging:e.logging_settings}:{},...(null===(t=e.disabled_callbacks)||void 0===t?void 0:t.length)>0?{litellm_disabled_callbacks:(0,S.Z3)(e.disabled_callbacks)}:{}}}catch(e){console.error("Error parsing metadata JSON:",e),u.Z.error("Invalid metadata JSON");return}else e.metadata={...e.metadata||{},...(null===(a=e.guardrails)||void 0===a?void 0:a.length)>0?{guardrails:e.guardrails}:{},...e.logging_settings?{logging:e.logging_settings}:{},...(null===(l=e.disabled_callbacks)||void 0===l?void 0:l.length)>0?{litellm_disabled_callbacks:(0,S.Z3)(e.disabled_callbacks)}:{}};delete e.logging_settings,e.budget_duration&&(e.budget_duration=({daily:"24h",weekly:"7d",monthly:"30d"})[e.budget_duration]);let i=await (0,o.keyUpdateCall)(_,e);et(e=>e?{...e,...i}:void 0),C&&C(i),u.Z.success("Key updated successfully"),R(!1)}catch(e){u.Z.fromBackend((0,B.O)(e)),console.error("Error updating key:",e)}},ed=async()=>{try{if(!_)return;await (0,o.keyDeleteCall)(_,es.token||es.token_id),u.Z.success("Key deleted successfully"),A&&A(),b()}catch(e){console.error("Error deleting the key:",e),u.Z.fromBackend(e)}Q("")},eo=async(e,s)=>{await (0,U.vQ)(e)&&(ee(e=>({...e,[s]:!0})),setTimeout(()=>{ee(e=>({...e,[s]:!1}))},2e3))},ec=e=>{let s=new Date(e),t=s.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),a=s.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return"".concat(t," at ").concat(a)};return(0,a.jsxs)("div",{className:"w-full h-screen p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(r.zx,{icon:i.Z,variant:"light",onClick:b,className:"mb-4",children:D}),(0,a.jsx)(r.Dx,{children:es.key_alias||"API Key"}),(0,a.jsxs)("div",{className:"flex items-center cursor-pointer mb-2 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(r.xv,{className:"text-xs text-gray-400 uppercase tracking-wide mt-2",children:"Key ID"}),(0,a.jsx)(r.xv,{className:"text-gray-500 font-mono text-sm",children:es.token_id||es.token})]}),(0,a.jsx)(m.ZP,{type:"text",size:"small",icon:H["key-id"]?(0,a.jsx)(V.Z,{size:12}):(0,a.jsx)(G.Z,{size:12}),onClick:()=>eo(es.token_id||es.token,"key-id"),className:"ml-2 transition-all duration-200".concat(H["key-id"]?"text-green-600 bg-green-50 border-green-200":"text-gray-500 hover:text-gray-700 hover:bg-gray-100")})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsx)(r.xv,{className:"text-sm text-gray-500",children:es.updated_at&&es.updated_at!==es.created_at?"Updated: ".concat(ec(es.updated_at)):"Created: ".concat(ec(es.created_at))}),er&&(0,a.jsx)(r.Ct,{color:"green",size:"xs",className:"animate-pulse",children:"Recently Regenerated"}),ea&&(0,a.jsx)(r.Ct,{color:"blue",size:"xs",children:"Regenerated"})]})]}),N&&z.LQ.includes(N)&&(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(x.Z,{title:I?"":"This is a LiteLLM Enterprise feature, and requires a valid key to use.",children:(0,a.jsx)("span",{className:"inline-block",children:(0,a.jsx)(r.zx,{icon:n.Z,variant:"secondary",onClick:()=>Y(!0),className:"flex items-center",disabled:!I,children:"Regenerate Key"})})}),(0,a.jsx)(r.zx,{icon:d.Z,variant:"secondary",onClick:()=>J(!0),className:"flex items-center",children:"Delete Key"})]})]}),(0,a.jsx)(F,{selectedToken:es,visible:X,onClose:()=>Y(!1),accessToken:_,premiumUser:I,setAccessToken:P,onKeyUpdate:e=>{et(s=>{if(s)return{...s,...e,created_at:new Date().toLocaleString()}}),el(new Date),ei(!0),C&&C({...e,created_at:new Date().toLocaleString()})}}),E&&(()=>{let e=(null==es?void 0:es.key_alias)||(null==es?void 0:es.token_id)||"API Key",s=W===e;return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl min-h-[380px] py-6 overflow-hidden transform transition-all flex flex-col justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete Key"}),(0,a.jsx)("button",{onClick:()=>{J(!1),Q("")},className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("div",{className:"px-6 py-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-red-50 border border-red-100 rounded-md mb-5",children:[(0,a.jsx)("div",{className:"text-red-500 mt-0.5",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-base font-medium text-red-600",children:"Warning: You are about to delete this API key."}),(0,a.jsx)("p",{className:"text-base text-red-600 mt-2",children:"This action is irreversible and will immediately revoke access for any applications using this key."})]})]}),(0,a.jsx)("p",{className:"text-base text-gray-600 mb-5",children:"Are you sure you want to delete this API key?"}),(0,a.jsxs)("div",{className:"mb-5",children:[(0,a.jsxs)("label",{className:"block text-base font-medium text-gray-700 mb-2",children:["Type ",(0,a.jsx)("span",{className:"underline",children:e})," to confirm deletion:"]}),(0,a.jsx)("input",{type:"text",value:W,onChange:e=>Q(e.target.value),placeholder:"Enter key name exactly",className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-base",autoFocus:!0})]})]})]}),(0,a.jsxs)("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-4",children:[(0,a.jsx)("button",{onClick:()=>{J(!1),Q("")},className:"px-5 py-3 bg-white border border-gray-300 rounded-md text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),(0,a.jsx)("button",{onClick:ed,disabled:!s,className:"px-5 py-3 rounded-md text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ".concat(s?"bg-red-600 hover:bg-red-700":"bg-red-300 cursor-not-allowed"),children:"Delete Key"})]})]})})})(),(0,a.jsxs)(r.v0,{children:[(0,a.jsxs)(r.td,{className:"mb-4",children:[(0,a.jsx)(r.OK,{children:"Overview"}),(0,a.jsx)(r.OK,{children:"Settings"})]}),(0,a.jsxs)(r.nP,{children:[(0,a.jsx)(r.x4,{children:(0,a.jsxs)(r.rj,{numItems:1,numItemsSm:2,numItemsLg:3,className:"gap-6",children:[(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.xv,{children:"Spend"}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsxs)(r.Dx,{children:["$",(0,U.pw)(es.spend,4)]}),(0,a.jsxs)(r.xv,{children:["of"," ",null!==es.max_budget?"$".concat((0,U.pw)(es.max_budget)):"Unlimited"]})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.xv,{children:"Rate Limits"}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsxs)(r.xv,{children:["TPM: ",null!==es.tpm_limit?es.tpm_limit:"Unlimited"]}),(0,a.jsxs)(r.xv,{children:["RPM: ",null!==es.rpm_limit?es.rpm_limit:"Unlimited"]})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.xv,{children:"Models"}),(0,a.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:es.models&&es.models.length>0?es.models.map((e,s)=>(0,a.jsx)(r.Ct,{color:"red",children:e},s)):(0,a.jsx)(r.xv,{children:"No models specified"})})]}),(0,a.jsx)(r.Zb,{children:(0,a.jsx)(K.Z,{objectPermission:es.object_permission,variant:"inline",accessToken:_})}),(0,a.jsx)(O.Z,{loggingConfigs:w(es.metadata),disabledCallbacks:Array.isArray(null===(s=es.metadata)||void 0===s?void 0:s.litellm_disabled_callbacks)?(0,S.PA)(es.metadata.litellm_disabled_callbacks):[],variant:"card"}),(0,a.jsx)(q,{autoRotate:es.auto_rotate,rotationInterval:es.rotation_interval,lastRotationAt:es.last_rotation_at,keyRotationAt:es.key_rotation_at,nextRotationAt:es.next_rotation_at,variant:"card"})]})}),(0,a.jsx)(r.x4,{children:(0,a.jsxs)(r.Zb,{className:"overflow-y-auto max-h-[65vh]",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)(r.Dx,{children:"Key Settings"}),!M&&N&&z.LQ.includes(N)&&(0,a.jsx)(r.zx,{variant:"light",onClick:()=>R(!0),children:"Edit Settings"})]}),M?(0,a.jsx)(L,{keyData:es,onCancel:()=>R(!1),onSubmit:en,teams:k,accessToken:_,userID:f,userRole:N,premiumUser:I}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(r.xv,{className:"font-medium",children:"Key ID"}),(0,a.jsx)(r.xv,{className:"font-mono",children:es.token_id||es.token})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.xv,{className:"font-medium",children:"Key Alias"}),(0,a.jsx)(r.xv,{children:es.key_alias||"Not Set"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.xv,{className:"font-medium",children:"Secret Key"}),(0,a.jsx)(r.xv,{className:"font-mono",children:es.key_name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.xv,{className:"font-medium",children:"Team ID"}),(0,a.jsx)(r.xv,{children:es.team_id||"Not Set"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.xv,{className:"font-medium",children:"Organization"}),(0,a.jsx)(r.xv,{children:es.organization_id||"Not Set"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.xv,{className:"font-medium",children:"Created"}),(0,a.jsx)(r.xv,{children:ec(es.created_at)})]}),ea&&(0,a.jsxs)("div",{children:[(0,a.jsx)(r.xv,{className:"font-medium",children:"Last Regenerated"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r.xv,{children:ec(ea)}),(0,a.jsx)(r.Ct,{color:"green",size:"xs",children:"Recent"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.xv,{className:"font-medium",children:"Expires"}),(0,a.jsx)(r.xv,{children:es.expires?ec(es.expires):"Never"})]}),(0,a.jsx)(q,{autoRotate:es.auto_rotate,rotationInterval:es.rotation_interval,lastRotationAt:es.last_rotation_at,keyRotationAt:es.key_rotation_at,nextRotationAt:es.next_rotation_at,variant:"inline",className:"pt-4 border-t border-gray-200"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.xv,{className:"font-medium",children:"Spend"}),(0,a.jsxs)(r.xv,{children:["$",(0,U.pw)(es.spend,4)," USD"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.xv,{className:"font-medium",children:"Budget"}),(0,a.jsx)(r.xv,{children:null!==es.max_budget?"$".concat((0,U.pw)(es.max_budget,2)):"Unlimited"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.xv,{className:"font-medium",children:"Prompts"}),(0,a.jsx)(r.xv,{children:Array.isArray(null===(t=es.metadata)||void 0===t?void 0:t.prompts)&&es.metadata.prompts.length>0?es.metadata.prompts.map((e,s)=>(0,a.jsx)("span",{className:"px-2 mr-2 py-1 bg-blue-100 rounded text-xs",children:e},s)):"No prompts specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.xv,{className:"font-medium",children:"Allowed Pass Through Routes"}),(0,a.jsx)(r.xv,{children:Array.isArray(null===(h=es.metadata)||void 0===h?void 0:h.allowed_passthrough_routes)&&es.metadata.allowed_passthrough_routes.length>0?es.metadata.allowed_passthrough_routes.map((e,s)=>(0,a.jsx)("span",{className:"px-2 mr-2 py-1 bg-blue-100 rounded text-xs",children:e},s)):"No pass through routes specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.xv,{className:"font-medium",children:"Models"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:es.models&&es.models.length>0?es.models.map((e,s)=>(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-100 rounded text-xs",children:e},s)):(0,a.jsx)(r.xv,{children:"No models specified"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.xv,{className:"font-medium",children:"Rate Limits"}),(0,a.jsxs)(r.xv,{children:["TPM: ",null!==es.tpm_limit?es.tpm_limit:"Unlimited"]}),(0,a.jsxs)(r.xv,{children:["RPM: ",null!==es.rpm_limit?es.rpm_limit:"Unlimited"]}),(0,a.jsxs)(r.xv,{children:["Max Parallel Requests:"," ",null!==es.max_parallel_requests?es.max_parallel_requests:"Unlimited"]}),(0,a.jsxs)(r.xv,{children:["Model TPM Limits:"," ",(null===(g=es.metadata)||void 0===g?void 0:g.model_tpm_limit)?JSON.stringify(es.metadata.model_tpm_limit):"Unlimited"]}),(0,a.jsxs)(r.xv,{children:["Model RPM Limits:"," ",(null===(p=es.metadata)||void 0===p?void 0:p.model_rpm_limit)?JSON.stringify(es.metadata.model_rpm_limit):"Unlimited"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.xv,{className:"font-medium",children:"Metadata"}),(0,a.jsx)("pre",{className:"bg-gray-100 p-2 rounded text-xs overflow-auto mt-1",children:Z(es.metadata)})]}),(0,a.jsx)(K.Z,{objectPermission:es.object_permission,variant:"inline",className:"pt-4 border-t border-gray-200",accessToken:_}),(0,a.jsx)(O.Z,{loggingConfigs:w(es.metadata),disabledCallbacks:Array.isArray(null===(j=es.metadata)||void 0===j?void 0:j.litellm_disabled_callbacks)?(0,S.PA)(es.metadata.litellm_disabled_callbacks):[],variant:"inline",className:"pt-4 border-t border-gray-200"})]})]})})]})]})]})}},33304:function(e,s,t){t.d(s,{C:function(){return a}});function a(e){return""===e?null:e}}}]);