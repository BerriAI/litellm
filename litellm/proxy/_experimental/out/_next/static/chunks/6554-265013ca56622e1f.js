"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6554],{64748:function(e,s,l){l.d(s,{Ct:function(){return t.Z},Dx:function(){return m.Z},OK:function(){return n.Z},Zb:function(){return r.Z},nP:function(){return o.Z},td:function(){return c.Z},v0:function(){return i.Z},x4:function(){return d.Z},xv:function(){return x.Z},zx:function(){return a.Z}});var t=l(41649),a=l(78489),r=l(12514),n=l(12485),i=l(18135),c=l(35242),d=l(29706),o=l(77991),x=l(84264),m=l(96761)},78801:function(e,s,l){l.d(s,{Z:function(){return t.Z},x:function(){return a.Z}});var t=l(12514),a=l(84264)},58927:function(e,s,l){l.d(s,{J:function(){return t.Z}});var t=l(47323)},26554:function(e,s,l){l.d(s,{Z:function(){return ea}});var t=l(57437),a=l(41649),r=l(78489),n=l(84264),i=l(99981),c=l(3810),d=l(23639),o=l(15424),x=l(2265),m=l(15690),u=l(10032),h=l(4156),p=l(5545),g=l(22116),j=l(96761),v=l(19250),b=l(9114);let{Step:f}=m.default;var N=e=>{let{visible:s,onClose:l,accessToken:r,agentHubData:i,onSuccess:c}=e,[d,o]=(0,x.useState)(0),[N,y]=(0,x.useState)(new Set),[_,k]=(0,x.useState)(!1),[Z]=u.Z.useForm(),w=()=>{o(0),y(new Set),Z.resetFields(),l()},C=(e,s)=>{let l=new Set(N);s?l.add(e):l.delete(e),y(l)},S=e=>{e?y(new Set(i.map(e=>e.agent_id||e.name))):y(new Set)};(0,x.useEffect)(()=>{s&&i.length>0&&y(new Set(i.filter(e=>!0===e.is_public).map(e=>e.agent_id||e.name)))},[s,i]);let P=async()=>{if(0===N.size){b.Z.fromBackend("Please select at least one agent to make public");return}k(!0);try{let e=Array.from(N);await (0,v.makeAgentsPublicCall)(r,e),b.Z.success("Successfully made ".concat(e.length," agent(s) public!")),w(),c()}catch(e){console.error("Error making agents public:",e),b.Z.fromBackend("Failed to make agents public. Please try again.")}finally{k(!1)}},M=()=>{let e=i.length>0&&i.every(e=>N.has(e.agent_id||e.name)),s=N.size>0&&!e;return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(j.Z,{children:"Select Agents to Make Public"}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsxs)(h.Z,{checked:e,indeterminate:s,onChange:e=>S(e.target.checked),disabled:0===i.length,children:["Select All ",i.length>0&&"(".concat(i.length,")")]})})]}),(0,t.jsx)(n.Z,{className:"text-sm text-gray-600",children:"Select the agents you want to be visible on the public model hub. Users will still require a valid Virtual Key to use these agents."}),(0,t.jsx)("div",{className:"max-h-96 overflow-y-auto border rounded-lg p-4",children:(0,t.jsx)("div",{className:"space-y-3",children:0===i.length?(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,t.jsx)(n.Z,{children:"No agents available."})}):i.map(e=>{let s=e.agent_id||e.name;return(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-gray-50",children:[(0,t.jsx)(h.Z,{checked:N.has(s),onChange:e=>C(s,e.target.checked)}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(n.Z,{className:"font-medium",children:e.name}),(0,t.jsxs)(a.Z,{color:"blue",size:"sm",children:["v",e.version]})]}),(0,t.jsx)(n.Z,{className:"text-xs text-gray-600 mt-1",children:e.description}),e.skills&&e.skills.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[e.skills.slice(0,3).map(e=>(0,t.jsx)(a.Z,{color:"purple",size:"xs",children:e.name},e.id)),e.skills.length>3&&(0,t.jsxs)(n.Z,{className:"text-xs text-gray-500",children:["+",e.skills.length-3," more"]})]})]})]},s)})})}),N.size>0&&(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,t.jsxs)(n.Z,{className:"text-sm text-blue-800",children:[(0,t.jsx)("strong",{children:N.size})," agent",1!==N.size?"s":""," selected"]})})]})},z=()=>(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(j.Z,{children:"Confirm Making Agents Public"}),(0,t.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,t.jsxs)(n.Z,{className:"text-sm text-yellow-800",children:[(0,t.jsx)("strong",{children:"Warning:"})," Once you make these agents public, anyone who can go to the"," ",(0,t.jsx)("code",{children:"/ui/model_hub_table"})," will be able to know they exist on the proxy."]})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(n.Z,{className:"font-medium",children:"Agents to be made public:"}),(0,t.jsx)("div",{className:"max-h-48 overflow-y-auto border rounded-lg p-3",children:(0,t.jsx)("div",{className:"space-y-2",children:Array.from(N).map(e=>{let s=i.find(s=>(s.agent_id||s.name)===e);return(0,t.jsx)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(n.Z,{className:"font-medium",children:(null==s?void 0:s.name)||e}),s&&(0,t.jsxs)(a.Z,{color:"blue",size:"xs",children:["v",s.version]})]}),(null==s?void 0:s.description)&&(0,t.jsx)(n.Z,{className:"text-xs text-gray-600 mt-1",children:s.description})]})},e)})})})]}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,t.jsxs)(n.Z,{className:"text-sm text-blue-800",children:["Total: ",(0,t.jsx)("strong",{children:N.size})," agent",1!==N.size?"s":""," will be made public"]})})]});return(0,t.jsx)(g.Z,{title:"Make Agents Public",open:s,onCancel:w,footer:null,width:1200,maskClosable:!1,children:(0,t.jsxs)(u.Z,{form:Z,layout:"vertical",children:[(0,t.jsxs)(m.default,{current:d,className:"mb-6",children:[(0,t.jsx)(f,{title:"Select Agents"}),(0,t.jsx)(f,{title:"Confirm"})]}),(()=>{switch(d){case 0:return M();case 1:return z();default:return null}})(),(0,t.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,t.jsx)(p.ZP,{onClick:0===d?w:()=>{1===d&&o(0)},children:0===d?"Cancel":"Previous"}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[0===d&&(0,t.jsx)(p.ZP,{onClick:()=>{if(0===d){if(0===N.size){b.Z.fromBackend("Please select at least one agent to make public");return}o(1)}},disabled:0===N.size,children:"Next"}),1===d&&(0,t.jsx)(p.ZP,{onClick:P,loading:_,children:"Make Public"})]})]})]})})};let{Step:y}=m.default;var _=e=>{let{visible:s,onClose:l,accessToken:r,mcpHubData:i,onSuccess:c}=e,[d,o]=(0,x.useState)(0),[f,N]=(0,x.useState)(new Set),[_,k]=(0,x.useState)(!1),[Z]=u.Z.useForm(),w=()=>{o(0),N(new Set),Z.resetFields(),l()},C=(e,s)=>{let l=new Set(f);s?l.add(e):l.delete(e),N(l)},S=e=>{e?N(new Set(i.map(e=>e.server_id))):N(new Set)};(0,x.useEffect)(()=>{s&&i.length>0&&N(new Set(i.filter(e=>{var s;return(null===(s=e.mcp_info)||void 0===s?void 0:s.is_public)===!0}).map(e=>e.server_id)))},[s]);let P=async()=>{if(0===f.size){b.Z.fromBackend("Please select at least one MCP server to make public");return}k(!0);try{let e=Array.from(f);await (0,v.makeMCPPublicCall)(r,e),b.Z.success("Successfully made ".concat(e.length," MCP server(s) public!")),w(),c()}catch(e){console.error("Error making MCP servers public:",e),b.Z.fromBackend("Failed to make MCP servers public. Please try again.")}finally{k(!1)}},M=()=>{let e=i.length>0&&i.every(e=>f.has(e.server_id)),s=f.size>0&&!e;return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(j.Z,{children:"Select MCP Servers to Make Public"}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsxs)(h.Z,{checked:e,indeterminate:s,onChange:e=>S(e.target.checked),disabled:0===i.length,children:["Select All ",i.length>0&&"(".concat(i.length,")")]})})]}),(0,t.jsx)(n.Z,{className:"text-sm text-gray-600",children:"Select the MCP servers you want to be visible on the public model hub. Users will still require a valid Virtual Key to use these servers."}),(0,t.jsx)("div",{className:"max-h-96 overflow-y-auto border rounded-lg p-4",children:(0,t.jsx)("div",{className:"space-y-3",children:0===i.length?(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,t.jsx)(n.Z,{children:"No MCP servers available."})}):i.map(e=>{var s;let l=(null===(s=e.mcp_info)||void 0===s?void 0:s.is_public)===!0;return(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-gray-50",children:[(0,t.jsx)(h.Z,{checked:f.has(e.server_id),onChange:s=>C(e.server_id,s.target.checked)}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(n.Z,{className:"font-medium",children:e.server_name}),l&&(0,t.jsx)(a.Z,{color:"emerald",size:"sm",children:"Public"}),(0,t.jsx)(a.Z,{color:"blue",size:"sm",children:e.transport}),(0,t.jsx)(a.Z,{color:"active"===e.status||"healthy"===e.status?"green":"inactive"===e.status||"unhealthy"===e.status?"red":"gray",size:"sm",children:e.status||"unknown"})]}),(0,t.jsx)(n.Z,{className:"text-xs text-gray-600 mt-1",children:e.description||e.url}),e.allowed_tools&&e.allowed_tools.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[e.allowed_tools.slice(0,3).map((e,s)=>(0,t.jsx)(a.Z,{color:"purple",size:"xs",children:e},s)),e.allowed_tools.length>3&&(0,t.jsxs)(n.Z,{className:"text-xs text-gray-500",children:["+",e.allowed_tools.length-3," more"]})]})]})]},e.server_id)})})}),f.size>0&&(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,t.jsxs)(n.Z,{className:"text-sm text-blue-800",children:[(0,t.jsx)("strong",{children:f.size})," MCP server",1!==f.size?"s":""," selected"]})})]})},z=()=>(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(j.Z,{children:"Confirm Making MCP Servers Public"}),(0,t.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,t.jsxs)(n.Z,{className:"text-sm text-yellow-800",children:[(0,t.jsx)("strong",{children:"Warning:"})," Once you make these MCP servers public, anyone who can go to the"," ",(0,t.jsx)("code",{children:"/ui/model_hub_table"})," will be able to know they exist on the proxy."]})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(n.Z,{className:"font-medium",children:"MCP Servers to be made public:"}),(0,t.jsx)("div",{className:"max-h-48 overflow-y-auto border rounded-lg p-3",children:(0,t.jsx)("div",{className:"space-y-2",children:Array.from(f).map(e=>{let s=i.find(s=>s.server_id===e);return(0,t.jsx)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(n.Z,{className:"font-medium",children:(null==s?void 0:s.server_name)||e}),s&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Z,{color:"blue",size:"xs",children:s.transport}),(0,t.jsx)(a.Z,{color:"active"===s.status||"healthy"===s.status?"green":"inactive"===s.status||"unhealthy"===s.status?"red":"gray",size:"xs",children:s.status||"unknown"})]})]}),(null==s?void 0:s.description)&&(0,t.jsx)(n.Z,{className:"text-xs text-gray-600 mt-1",children:s.description}),(null==s?void 0:s.url)&&(0,t.jsx)(n.Z,{className:"text-xs text-gray-500 mt-1",children:s.url})]})},e)})})})]}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,t.jsxs)(n.Z,{className:"text-sm text-blue-800",children:["Total: ",(0,t.jsx)("strong",{children:f.size})," MCP server",1!==f.size?"s":""," will be made public"]})})]});return(0,t.jsx)(g.Z,{title:"Make MCP Servers Public",open:s,onCancel:w,footer:null,width:1200,maskClosable:!1,children:(0,t.jsxs)(u.Z,{form:Z,layout:"vertical",children:[(0,t.jsxs)(m.default,{current:d,className:"mb-6",children:[(0,t.jsx)(y,{title:"Select Servers"}),(0,t.jsx)(y,{title:"Confirm"})]}),(()=>{switch(d){case 0:return M();case 1:return z();default:return null}})(),(0,t.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,t.jsx)(p.ZP,{onClick:0===d?w:()=>{1===d&&o(0)},children:0===d?"Cancel":"Previous"}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[0===d&&(0,t.jsx)(p.ZP,{onClick:()=>{if(0===d){if(0===f.size){b.Z.fromBackend("Please select at least one MCP server to make public");return}o(1)}},disabled:0===f.size,children:"Next"}),1===d&&(0,t.jsx)(p.ZP,{onClick:P,loading:_,children:"Make Public"})]})]})]})})},k=l(78801),Z=e=>{let{modelHubData:s,onFilteredDataChange:l,showFiltersCard:a=!0,className:r=""}=e,[n,i]=(0,x.useState)(""),[c,d]=(0,x.useState)(""),[o,m]=(0,x.useState)(""),[u,h]=(0,x.useState)(""),p=(0,x.useRef)([]),g=(0,x.useMemo)(()=>(null==s?void 0:s.filter(e=>{let s=e.model_group.toLowerCase().includes(n.toLowerCase()),l=""===c||e.providers.includes(c),t=""===o||e.mode===o,a=""===u||Object.entries(e).filter(e=>{let[s,l]=e;return s.startsWith("supports_")&&!0===l}).some(e=>{let[s]=e;return s.replace(/^supports_/,"").split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")===u});return s&&l&&t&&a}))||[],[s,n,c,o,u]);(0,x.useEffect)(()=>{(g.length!==p.current.length||g.some((e,s)=>{var l;return e.model_group!==(null===(l=p.current[s])||void 0===l?void 0:l.model_group)}))&&(p.current=g,l(g))},[g,l]);let j=(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(k.x,{className:"text-sm font-medium mb-2",children:"Search Models:"}),(0,t.jsx)("input",{type:"text",placeholder:"Search model names...",value:n,onChange:e=>i(e.target.value),className:"border rounded px-3 py-2 w-64 h-10 text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k.x,{className:"text-sm font-medium mb-2",children:"Provider:"}),(0,t.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"border rounded px-3 py-2 text-sm text-gray-600 w-40 h-10",children:[(0,t.jsx)("option",{value:"",className:"text-sm text-gray-600",children:"All Providers"}),s&&(e=>{let s=new Set;return e.forEach(e=>{e.providers.forEach(e=>s.add(e))}),Array.from(s)})(s).map(e=>(0,t.jsx)("option",{value:e,className:"text-sm text-gray-800",children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k.x,{className:"text-sm font-medium mb-2",children:"Mode:"}),(0,t.jsxs)("select",{value:o,onChange:e=>m(e.target.value),className:"border rounded px-3 py-2 text-sm text-gray-600 w-32 h-10",children:[(0,t.jsx)("option",{value:"",className:"text-sm text-gray-600",children:"All Modes"}),s&&(e=>{let s=new Set;return e.forEach(e=>{e.mode&&s.add(e.mode)}),Array.from(s)})(s).map(e=>(0,t.jsx)("option",{value:e,className:"text-sm text-gray-800",children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k.x,{className:"text-sm font-medium mb-2",children:"Features:"}),(0,t.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"border rounded px-3 py-2 text-sm text-gray-600 w-48 h-10",children:[(0,t.jsx)("option",{value:"",className:"text-sm text-gray-600",children:"All Features"}),s&&(e=>{let s=new Set;return e.forEach(e=>{Object.entries(e).filter(e=>{let[s,l]=e;return s.startsWith("supports_")&&!0===l}).forEach(e=>{let[l]=e,t=l.replace(/^supports_/,"").split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");s.add(t)})}),Array.from(s).sort()})(s).map(e=>(0,t.jsx)("option",{value:e,className:"text-sm text-gray-800",children:e},e))]})]}),(n||c||o||u)&&(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsx)("button",{onClick:()=>{i(""),d(""),m(""),h("")},className:"text-blue-600 hover:text-blue-800 text-sm underline h-10 flex items-center",children:"Clear Filters"})})]});return a?(0,t.jsx)(k.Z,{className:"mb-6 ".concat(r),children:j}):(0,t.jsx)("div",{className:r,children:j})};let{Step:w}=m.default;var C=e=>{let{visible:s,onClose:l,accessToken:r,modelHubData:i,onSuccess:c}=e,[d,o]=(0,x.useState)(0),[f,N]=(0,x.useState)(new Set),[y,_]=(0,x.useState)([]),[k,C]=(0,x.useState)(!1),[S]=u.Z.useForm(),P=()=>{o(0),N(new Set),_([]),S.resetFields(),l()},M=(e,s)=>{let l=new Set(f);s?l.add(e):l.delete(e),N(l)},z=e=>{e?N(new Set(y.map(e=>e.model_group))):N(new Set)},A=(0,x.useCallback)(e=>{_(e)},[]);(0,x.useEffect)(()=>{s&&i.length>0&&(_(i),N(new Set(i.filter(e=>!0===e.is_public_model_group).map(e=>e.model_group))))},[s,i]);let L=async()=>{if(0===f.size){b.Z.fromBackend("Please select at least one model to make public");return}C(!0);try{let e=Array.from(f);await (0,v.makeModelGroupPublic)(r,e),b.Z.success("Successfully made ".concat(e.length," model group(s) public!")),P(),c()}catch(e){console.error("Error making model groups public:",e),b.Z.fromBackend("Failed to make model groups public. Please try again.")}finally{C(!1)}},F=()=>{let e=y.length>0&&y.every(e=>f.has(e.model_group)),s=f.size>0&&!e;return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(j.Z,{children:"Select Models to Make Public"}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsxs)(h.Z,{checked:e,indeterminate:s,onChange:e=>z(e.target.checked),disabled:0===y.length,children:["Select All ",y.length>0&&"(".concat(y.length,")")]})})]}),(0,t.jsx)(n.Z,{className:"text-sm text-gray-600",children:"Select the models you want to be visible on the public model hub. Users will still require a valid Virtual Key to use these models."}),(0,t.jsx)(Z,{modelHubData:i,onFilteredDataChange:A,showFiltersCard:!1,className:"border rounded-lg p-4 bg-gray-50"}),(0,t.jsx)("div",{className:"max-h-96 overflow-y-auto border rounded-lg p-4",children:(0,t.jsx)("div",{className:"space-y-3",children:0===y.length?(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,t.jsx)(n.Z,{children:"No models match the current filters."})}):y.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-gray-50",children:[(0,t.jsx)(h.Z,{checked:f.has(e.model_group),onChange:s=>M(e.model_group,s.target.checked)}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(n.Z,{className:"font-medium",children:e.model_group}),e.mode&&(0,t.jsx)(a.Z,{color:"green",size:"sm",children:e.mode})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:e.providers.map(e=>(0,t.jsx)(a.Z,{color:"blue",size:"xs",children:e},e))})]})]},e.model_group))})}),f.size>0&&(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,t.jsxs)(n.Z,{className:"text-sm text-blue-800",children:[(0,t.jsx)("strong",{children:f.size})," model",1!==f.size?"s":""," selected"]})})]})},O=()=>(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(j.Z,{children:"Confirm Making Models Public"}),(0,t.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,t.jsxs)(n.Z,{className:"text-sm text-yellow-800",children:[(0,t.jsx)("strong",{children:"Warning:"})," Once you make these models public, anyone who can go to the"," ",(0,t.jsx)("code",{children:"/ui/model_hub_table"})," will be able to know they exist on the proxy."]})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(n.Z,{className:"font-medium",children:"Models to be made public:"}),(0,t.jsx)("div",{className:"max-h-48 overflow-y-auto border rounded-lg p-3",children:(0,t.jsx)("div",{className:"space-y-2",children:Array.from(f).map(e=>{let s=i.find(s=>s.model_group===e);return(0,t.jsx)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Z,{className:"font-medium",children:e}),s&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:s.providers.map(e=>(0,t.jsx)(a.Z,{color:"blue",size:"xs",children:e},e))})]})},e)})})})]}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,t.jsxs)(n.Z,{className:"text-sm text-blue-800",children:["Total: ",(0,t.jsx)("strong",{children:f.size})," model",1!==f.size?"s":""," will be made public"]})})]});return(0,t.jsx)(g.Z,{title:"Make Models Public",open:s,onCancel:P,footer:null,width:1200,maskClosable:!1,children:(0,t.jsxs)(u.Z,{form:S,layout:"vertical",children:[(0,t.jsxs)(m.default,{current:d,className:"mb-6",children:[(0,t.jsx)(w,{title:"Select Models"}),(0,t.jsx)(w,{title:"Confirm"})]}),(()=>{switch(d){case 0:return F();case 1:return O();default:return null}})(),(0,t.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,t.jsx)(p.ZP,{onClick:0===d?P:()=>{1===d&&o(0)},children:0===d?"Cancel":"Previous"}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[0===d&&(0,t.jsx)(p.ZP,{onClick:()=>{if(0===d){if(0===f.size){b.Z.fromBackend("Please select at least one model to make public");return}o(1)}},disabled:0===f.size,children:"Next"}),1===d&&(0,t.jsx)(p.ZP,{onClick:L,loading:k,children:"Make Public"})]})]})]})})};let S=e=>e.replace(/^supports_/,"").split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),P=e=>Object.entries(e).filter(e=>{let[s,l]=e;return s.startsWith("supports_")&&!0===l}).map(e=>{let[s]=e;return s}),M=e=>"$".concat((1e6*e).toFixed(2)),z=e=>e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):e.toString(),A=function(e,s){let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],x=[{header:"Public Model Name",accessorKey:"model_group",enableSorting:!0,sortingFn:"alphanumeric",cell:e=>{let{row:l}=e,a=l.original;return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(n.Z,{className:"font-medium text-sm",children:a.model_group}),(0,t.jsx)(i.Z,{title:"Copy model name",children:(0,t.jsx)(d.Z,{onClick:()=>s(a.model_group),className:"cursor-pointer text-gray-500 hover:text-blue-500 text-xs"})})]}),(0,t.jsx)("div",{className:"md:hidden",children:(0,t.jsx)(n.Z,{className:"text-xs text-gray-600",children:a.providers.join(", ")})})]})}},{header:"Provider",accessorKey:"providers",enableSorting:!0,sortingFn:(e,s)=>{let l=e.original.providers.join(", "),t=s.original.providers.join(", ");return l.localeCompare(t)},cell:e=>{let{row:s}=e,l=s.original;return(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[l.providers.slice(0,2).map(e=>(0,t.jsx)(c.Z,{color:"blue",className:"text-xs",children:e},e)),l.providers.length>2&&(0,t.jsxs)(n.Z,{className:"text-xs text-gray-500",children:["+",l.providers.length-2]})]})},meta:{className:"hidden md:table-cell"}},{header:"Mode",accessorKey:"mode",enableSorting:!0,sortingFn:"alphanumeric",cell:e=>{let{row:s}=e,l=s.original;return l.mode?(0,t.jsx)(a.Z,{color:"green",size:"sm",children:l.mode}):(0,t.jsx)(n.Z,{className:"text-gray-500",children:"-"})},meta:{className:"hidden lg:table-cell"}},{header:"Tokens",accessorKey:"max_input_tokens",enableSorting:!0,sortingFn:(e,s)=>(e.original.max_input_tokens||0)+(e.original.max_output_tokens||0)-((s.original.max_input_tokens||0)+(s.original.max_output_tokens||0)),cell:e=>{let{row:s}=e,l=s.original;return(0,t.jsx)("div",{className:"space-y-1",children:(0,t.jsxs)(n.Z,{className:"text-xs",children:[l.max_input_tokens?z(l.max_input_tokens):"-"," /"," ",l.max_output_tokens?z(l.max_output_tokens):"-"]})})},meta:{className:"hidden lg:table-cell"}},{header:"Cost/1M",accessorKey:"input_cost_per_token",enableSorting:!0,sortingFn:(e,s)=>(e.original.input_cost_per_token||0)+(e.original.output_cost_per_token||0)-((s.original.input_cost_per_token||0)+(s.original.output_cost_per_token||0)),cell:e=>{let{row:s}=e,l=s.original;return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(n.Z,{className:"text-xs",children:l.input_cost_per_token?M(l.input_cost_per_token):"-"}),(0,t.jsx)(n.Z,{className:"text-xs text-gray-500",children:l.output_cost_per_token?M(l.output_cost_per_token):"-"})]})}},{header:"Features",accessorKey:"capabilities",enableSorting:!1,cell:e=>{let{row:s}=e,l=P(s.original),r=["green","blue","purple","orange","red","yellow"];return(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:0===l.length?(0,t.jsx)(n.Z,{className:"text-gray-500 text-xs",children:"-"}):l.map((e,s)=>(0,t.jsx)(a.Z,{color:r[s%r.length],size:"xs",children:S(e)},e))})}},{header:"Public",accessorKey:"is_public_model_group",enableSorting:!0,sortingFn:(e,s)=>(!0===e.original.is_public_model_group?1:0)-(!0===s.original.is_public_model_group?1:0),cell:e=>{let{row:s}=e;return!0===s.original.is_public_model_group?(0,t.jsx)(a.Z,{color:"green",size:"xs",children:"Yes"}):(0,t.jsx)(a.Z,{color:"gray",size:"xs",children:"No"})},meta:{className:"hidden md:table-cell"}},{header:"Details",id:"details",enableSorting:!1,cell:s=>{let{row:l}=s,a=l.original;return(0,t.jsxs)(r.Z,{size:"xs",variant:"secondary",onClick:()=>e(a),icon:o.Z,children:[(0,t.jsx)("span",{className:"hidden lg:inline",children:"Details"}),(0,t.jsx)("span",{className:"lg:hidden",children:"Info"})]})}}];return l?x.filter(e=>!("accessorKey"in e)||"is_public_model_group"!==e.accessorKey):x};var L=l(39957),F=l(20347),O=l(86462),D=l(47686),T=l(77355),K=l(3477),E=l(95704),U=l(27648),I=e=>{let{accessToken:s,userRole:l}=e,[a,r]=(0,x.useState)([]),[n,i]=(0,x.useState)({url:"",displayName:""}),[c,d]=(0,x.useState)(null),[o,m]=(0,x.useState)(!1),[u,h]=(0,x.useState)(!0),[p,g]=(0,x.useState)(!1),[j,f]=(0,x.useState)([]),N=async()=>{if(s)try{m(!0);let e=await (0,v.getPublicModelHubInfo)();if(e&&e.useful_links){let s=e.useful_links||{},l=Object.entries(s).map(e=>{var s,l;let[t,a]=e;return"object"==typeof a&&null!==a&&"url"in a?{id:"".concat(null!==(s=a.index)&&void 0!==s?s:0,"-").concat(t),displayName:t,url:a.url,index:null!==(l=a.index)&&void 0!==l?l:0}:{id:"0-".concat(t),displayName:t,url:a,index:0}}).sort((e,s)=>{var l,t;return(null!==(l=e.index)&&void 0!==l?l:0)-(null!==(t=s.index)&&void 0!==t?t:0)}).map((e,s)=>({...e,id:"".concat(s,"-").concat(e.displayName)}));r(l)}else r([])}catch(e){console.error("Error fetching useful links:",e),r([])}finally{m(!1)}};if((0,x.useEffect)(()=>{N()},[s]),!(0,F.tY)(l||""))return null;let y=async e=>{if(!s)return!1;try{let l={};return e.forEach((e,s)=>{l[e.displayName]={url:e.url,index:s}}),await (0,v.updateUsefulLinksCall)(s,l),!0}catch(e){return console.error("Error saving links:",e),b.Z.fromBackend("Failed to save links - ".concat(e)),!1}},_=async()=>{if(!n.url||!n.displayName)return;try{new URL(n.url)}catch(e){b.Z.fromBackend("Please enter a valid URL");return}if(a.some(e=>e.displayName===n.displayName)){b.Z.fromBackend("A link with this display name already exists");return}let e=[...a,{id:"".concat(Date.now(),"-").concat(n.displayName),displayName:n.displayName,url:n.url}];await y(e)&&(r(e),i({url:"",displayName:""}),b.Z.success("Link added successfully"))},k=e=>{d({...e})},Z=async()=>{if(!c)return;try{new URL(c.url)}catch(e){b.Z.fromBackend("Please enter a valid URL");return}if(a.some(e=>e.id!==c.id&&e.displayName===c.displayName)){b.Z.fromBackend("A link with this display name already exists");return}let e=a.map(e=>e.id===c.id?c:e);await y(e)&&(r(e),d(null),b.Z.success("Link updated successfully"))},w=()=>{d(null)},C=async e=>{let s=a.filter(s=>s.id!==e);await y(s)&&(r(s),b.Z.success("Link deleted successfully"))},S=e=>{window.open(e,"_blank")},P=async()=>{await y(a)&&(g(!1),f([]),b.Z.success("Link order saved successfully"))},M=e=>{if(0===e)return;let s=[...a];[s[e-1],s[e]]=[s[e],s[e-1]],r(s)},z=e=>{if(e===a.length-1)return;let s=[...a];[s[e],s[e+1]]=[s[e+1],s[e]],r(s)};return(0,t.jsxs)(E.Zb,{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>h(!u),children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(E.Dx,{className:"mb-0",children:"Link Management"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Manage the links that are displayed under 'Useful Links' on the public model hub."})]}),(0,t.jsx)("div",{className:"flex items-center",children:u?(0,t.jsx)(O.Z,{className:"w-5 h-5 text-gray-500"}):(0,t.jsx)(D.Z,{className:"w-5 h-5 text-gray-500"})})]}),u&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)(E.xv,{className:"text-sm font-medium text-gray-700 mb-2",children:"Add New Link"}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Display Name"}),(0,t.jsx)("input",{type:"text",value:n.displayName,onChange:e=>i({...n,displayName:e.target.value}),placeholder:"Friendly name",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"URL"}),(0,t.jsx)("input",{type:"text",value:n.url,onChange:e=>i({...n,url:e.target.value}),placeholder:"https://example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsxs)("button",{onClick:_,disabled:!n.url||!n.displayName,className:"flex items-center px-4 py-2 rounded-md text-sm ".concat(n.url&&n.displayName?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:[(0,t.jsx)(T.Z,{className:"w-4 h-4 mr-1"}),"Add Link"]})})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(E.xv,{className:"text-sm font-medium text-gray-700",children:"Manage Existing Links"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(U.default,{href:"".concat((0,v.getProxyBaseUrl)(),"/ui/model_hub_table"),target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-blue-50 text-blue-600 px-3 py-1.5 rounded hover:bg-blue-100 flex items-center",title:"Open Public Model Hub",children:["Public Model Hub",(0,t.jsx)(K.Z,{className:"w-4 h-4 ml-1"})]}),p?(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("button",{onClick:P,className:"text-xs bg-green-600 text-white px-3 py-1.5 rounded hover:bg-green-700",children:"Save Order"}),(0,t.jsx)("button",{onClick:()=>{r([...j]),g(!1),f([])},className:"text-xs bg-gray-50 text-gray-600 px-3 py-1.5 rounded hover:bg-gray-100",children:"Cancel"})]}):(0,t.jsx)("button",{onClick:()=>{c&&d(null),f([...a]),g(!0)},className:"text-xs bg-purple-50 text-purple-600 px-3 py-1.5 rounded hover:bg-purple-100 flex items-center",children:"Rearrange Order"})]})]}),(0,t.jsx)("div",{className:"rounded-lg custom-border relative",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(E.iA,{className:"[&_td]:py-0.5 [&_th]:py-1",children:[(0,t.jsx)(E.ss,{children:(0,t.jsxs)(E.SC,{children:[(0,t.jsx)(E.xs,{className:"py-1 h-8",children:"Display Name"}),(0,t.jsx)(E.xs,{className:"py-1 h-8",children:"URL"}),(0,t.jsx)(E.xs,{className:"py-1 h-8",children:"Actions"})]})}),(0,t.jsxs)(E.RM,{children:[a.map((e,s)=>(0,t.jsx)(E.SC,{className:"h-8",children:c&&c.id===e.id?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(E.pj,{className:"py-0.5",children:(0,t.jsx)("input",{type:"text",value:c.displayName,onChange:e=>d({...c,displayName:e.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm"})}),(0,t.jsx)(E.pj,{className:"py-0.5",children:(0,t.jsx)("input",{type:"text",value:c.url,onChange:e=>d({...c,url:e.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm"})}),(0,t.jsx)(E.pj,{className:"py-0.5 whitespace-nowrap",children:(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("button",{onClick:Z,className:"text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded hover:bg-blue-100",children:"Save"}),(0,t.jsx)("button",{onClick:w,className:"text-xs bg-gray-50 text-gray-600 px-2 py-1 rounded hover:bg-gray-100",children:"Cancel"})]})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(E.pj,{className:"py-0.5 text-sm text-gray-900",children:e.displayName}),(0,t.jsx)(E.pj,{className:"py-0.5 text-sm text-gray-500",children:e.url}),(0,t.jsx)(E.pj,{className:"py-0.5 whitespace-nowrap",children:p?(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(L.Z,{variant:"Up",onClick:()=>M(s),tooltipText:"Move up",disabled:0===s,disabledTooltipText:"Already at the top",dataTestId:"move-up-".concat(e.id)}),(0,t.jsx)(L.Z,{variant:"Down",onClick:()=>z(s),tooltipText:"Move down",disabled:s===a.length-1,disabledTooltipText:"Already at the bottom",dataTestId:"move-down-".concat(e.id)})]}):(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(L.Z,{variant:"Open",onClick:()=>S(e.url),tooltipText:"Open link",dataTestId:"open-link-".concat(e.id)}),(0,t.jsx)(L.Z,{variant:"Edit",onClick:()=>k(e),tooltipText:"Edit link",dataTestId:"edit-link-".concat(e.id)}),(0,t.jsx)(L.Z,{variant:"Delete",onClick:()=>C(e.id),tooltipText:"Delete link",dataTestId:"delete-link-".concat(e.id)})]})})]})},e.id)),0===a.length&&(0,t.jsx)(E.SC,{children:(0,t.jsx)(E.pj,{colSpan:3,className:"py-0.5 text-sm text-gray-500 text-center",children:"No links added yet. Add a new link above."})})]})]})})})]})]})},H=l(29436),B=l(12514),R=l(12485),V=l(18135),Y=l(35242),W=l(29706),$=l(77991),q=l(4260),J=l(43769),G=l(8048),X=e=>{let{publicPage:s=!1}=e,[l,c]=(0,x.useState)(null),[o,m]=(0,x.useState)(!0),[u,h]=(0,x.useState)(""),[p,g]=(0,x.useState)(0);(0,x.useEffect)(()=>{j()},[]);let j=async()=>{m(!0);try{let e=await (0,v.getClaudeCodeMarketplace)();console.log("Claude Code marketplace:",e),c(e)}catch(e){console.error("Error fetching marketplace:",e)}finally{m(!1)}},f=e=>{navigator.clipboard.writeText(e),b.Z.success("Copied to clipboard!")},N=(0,x.useMemo)(()=>l?(0,J.PX)(l.plugins):["All"],[l]),y=N[p]||"All",_=(0,x.useMemo)(()=>{if(!l)return[];let e=l.plugins;return e=(0,J.mO)(e,y),e=(0,J.gA)(e,u)},[l,y,u]),k=(0,x.useMemo)(()=>(function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1],[{header:"Plugin Name",accessorKey:"name",enableSorting:!0,sortingFn:"alphanumeric",cell:s=>{let{row:l}=s,a=l.original,r=(0,J.aB)(a);return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(n.Z,{className:"font-medium text-sm",children:a.name}),(0,t.jsx)(i.Z,{title:"Copy install command",children:(0,t.jsx)(d.Z,{onClick:()=>e(r),className:"cursor-pointer text-gray-500 hover:text-blue-500 text-xs"})})]}),(0,t.jsx)("div",{className:"md:hidden",children:(0,t.jsx)(n.Z,{className:"text-xs text-gray-600",children:a.description||"No description"})})]})}},{header:"Description",accessorKey:"description",enableSorting:!0,sortingFn:"alphanumeric",cell:e=>{let{row:s}=e,l=s.original;return(0,t.jsx)(n.Z,{className:"text-xs line-clamp-2",children:l.description||"-"})},meta:{className:"hidden md:table-cell"}},{header:"Version",accessorKey:"version",enableSorting:!0,sortingFn:"alphanumeric",cell:e=>{let{row:s}=e,l=s.original;return l.version?(0,t.jsxs)(a.Z,{color:"blue",size:"sm",children:["v",l.version]}):(0,t.jsx)(n.Z,{className:"text-xs text-gray-400",children:"-"})},meta:{className:"hidden lg:table-cell"}},{header:"Category",accessorKey:"category",enableSorting:!0,sortingFn:"alphanumeric",cell:e=>{let{row:s}=e,l=s.original,r=(0,J.LH)(l.category);return l.category?(0,t.jsx)(a.Z,{color:r,size:"sm",children:l.category}):(0,t.jsx)(a.Z,{color:"gray",size:"sm",children:"Uncategorized"})},meta:{className:"hidden lg:table-cell"}},{header:"Source",accessorKey:"source",enableSorting:!1,cell:e=>{let{row:s}=e,l=s.original,a=(0,J.i5)(l.source);return(0,t.jsx)(n.Z,{className:"text-xs text-gray-600",children:a})},meta:{className:"hidden xl:table-cell"}},{header:"Keywords",accessorKey:"keywords",enableSorting:!1,cell:e=>{var s,l;let{row:r}=e,n=r.original,i=(null===(s=n.keywords)||void 0===s?void 0:s.slice(0,3))||[],c=((null===(l=n.keywords)||void 0===l?void 0:l.length)||0)-3;return(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[i.map((e,s)=>(0,t.jsx)(a.Z,{color:"gray",size:"xs",children:e},s)),c>0&&(0,t.jsxs)(a.Z,{color:"gray",size:"xs",children:["+",c]})]})},meta:{className:"hidden xl:table-cell"}},{header:"Install Command",id:"install_command",enableSorting:!1,cell:s=>{let{row:l}=s,a=l.original,n=(0,J.aB)(a);return(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded font-mono truncate max-w-[200px]",children:n}),(0,t.jsx)(i.Z,{title:"Copy command",children:(0,t.jsx)(r.Z,{size:"xs",variant:"secondary",icon:d.Z,onClick:()=>e(n)})})]})}}]})(f,s),[s]);return l||o?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"max-w-md",children:(0,t.jsx)(q.default,{placeholder:"Search plugins by name, description, or keywords...",prefix:(0,t.jsx)(H.Z,{className:"text-gray-400"}),value:u,onChange:e=>h(e.target.value),allowClear:!0,size:"large"})}),(0,t.jsxs)(V.Z,{index:p,onIndexChange:g,children:[(0,t.jsx)(Y.Z,{className:"mb-4",children:N.map(e=>{let s=(0,J.mO)((null==l?void 0:l.plugins)||[],e),a=(0,J.gA)(s,u).length;return(0,t.jsxs)(R.Z,{children:[e," ",a>0&&"(".concat(a,")")]},e)})}),(0,t.jsx)($.Z,{children:N.map(e=>(0,t.jsxs)(W.Z,{children:[(0,t.jsx)(B.Z,{children:(0,t.jsx)(G.C,{columns:k,data:_,isLoading:o,defaultSorting:[{id:"name",desc:!1}]})}),(0,t.jsx)("div",{className:"mt-4 text-center space-y-2",children:(0,t.jsxs)(n.Z,{className:"text-sm text-gray-600",children:["Showing ",_.length," of"," ",(null==l?void 0:l.plugins.length)||0," plugin",(null==l?void 0:l.plugins.length)!==1?"s":"",u&&' matching "'.concat(u,'"'),"All"!==y&&" in ".concat(y)]})})]},e))})]})]}):(0,t.jsx)(B.Z,{children:(0,t.jsx)("div",{className:"text-center p-12",children:(0,t.jsx)(n.Z,{className:"text-gray-500",children:"Failed to load marketplace. Please try again later."})})})},Q=l(87526),ee=l(64748),es=l(78867),el=l(99376),et=l(17906),ea=e=>{var s,l,m,u;let{accessToken:h,publicPage:p,premiumUser:j,userRole:f}=e,[y,k]=(0,x.useState)(!1),[w,S]=(0,x.useState)(null),[P,M]=(0,x.useState)(!0),[z,L]=(0,x.useState)(!1),[O,D]=(0,x.useState)(!1),[T,K]=(0,x.useState)(null),[E,U]=(0,x.useState)([]),[H,B]=(0,x.useState)(!1),[R,V]=(0,x.useState)(null),[Y,W]=(0,x.useState)(!1),[$,q]=(0,x.useState)(!0),[J,ea]=(0,x.useState)(null),[er,en]=(0,x.useState)(!1),[ei,ec]=(0,x.useState)(null),[ed,eo]=(0,x.useState)(!0),[ex,em]=(0,x.useState)(null),[eu,eh]=(0,x.useState)(!1),[ep,eg]=(0,x.useState)(!1),ej=(0,el.useRouter)();(0,x.useEffect)(()=>{let e=async e=>{try{M(!0);let s=await (0,v.modelHubCall)(e);console.log("ModelHubData:",s),S(s.data),(0,v.getConfigFieldSetting)(e,"enable_public_model_hub").then(e=>{console.log("data: ".concat(JSON.stringify(e))),!0==e.field_value&&k(!0)}).catch(e=>{})}catch(e){console.error("There was an error fetching the model data",e)}finally{M(!1)}},s=async()=>{try{var e,s;M(!0),await (0,v.getUiConfig)();let l=await (0,v.modelHubPublicModelsCall)();console.log("ModelHubData:",l),console.log("First model structure:",l[0]),console.log("Model has model_group?",null===(e=l[0])||void 0===e?void 0:e.model_group),console.log("Model has providers?",null===(s=l[0])||void 0===s?void 0:s.providers),S(l),k(!0)}catch(e){console.error("There was an error fetching the public model data",e)}finally{M(!1)}};h?e(h):p&&s()},[h,p]),(0,x.useEffect)(()=>{let e=async()=>{if(h)try{q(!0);let e=await (0,v.getAgentsList)(h);console.log("AgentHubData:",e);let s=e.agents.map(e=>({agent_id:e.agent_id,...e.agent_card_params,is_public:e.litellm_params.is_public}));V(s)}catch(e){console.error("There was an error fetching the agent data",e)}finally{q(!1)}};p||e()},[p,h]),(0,x.useEffect)(()=>{let e=async()=>{if(h)try{eo(!0);let e=await (0,v.fetchMCPServers)(h);console.log("MCPHubData:",e),ec(e)}catch(e){console.error("There was an error fetching the MCP server data",e)}finally{eo(!1)}};p||e()},[p,h]);let ev=()=>{h&&B(!0)},eb=()=>{h&&W(!0)},ef=()=>{h&&eg(!0)},eN=()=>{L(!1),D(!1),K(null),en(!1),ea(null),eh(!1),em(null)},ey=()=>{L(!1),D(!1),K(null),en(!1),ea(null),eh(!1),em(null)},e_=e=>{navigator.clipboard.writeText(e),b.Z.success("Copied to clipboard!")},ek=e=>e.replace(/^supports_/,"").split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),eZ=e=>Object.entries(e).filter(e=>{let[s,l]=e;return s.startsWith("supports_")&&!0===l}).map(e=>{let[s]=e;return s}),ew=e=>"$".concat((1e6*e).toFixed(2)),eC=(0,x.useCallback)(e=>{U(e)},[]);return(console.log("publicPage: ",p),console.log("publicPageAllowed: ",y),p&&y)?(0,t.jsx)(Q.Z,{accessToken:h}):(0,t.jsxs)("div",{className:"w-full mx-4 h-[75vh]",children:[!1==p?(0,t.jsxs)("div",{className:"w-full m-2 mt-2 p-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-col items-start",children:[(0,t.jsx)(ee.Dx,{className:"text-center",children:"AI Hub"}),(0,F.tY)(f||"")?(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Make models, agents, and MCP servers public for developers to know what's available."}):(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"A list of all public model names personally available to you."})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(ee.xv,{children:"Model Hub URL:"}),(0,t.jsxs)("div",{className:"flex items-center bg-gray-200 px-2 py-1 rounded",children:[(0,t.jsx)(ee.xv,{className:"mr-2",children:"".concat((0,v.getProxyBaseUrl)(),"/ui/model_hub_table")}),(0,t.jsx)("button",{onClick:()=>e_("".concat((0,v.getProxyBaseUrl)(),"/ui/model_hub_table")),className:"p-1 hover:bg-gray-300 rounded transition-colors",title:"Copy URL",children:(0,t.jsx)(es.Z,{size:16,className:"text-gray-600"})})]})]})]}),(0,F.tY)(f||"")&&(0,t.jsx)("div",{className:"mt-8 mb-2",children:(0,t.jsx)(I,{accessToken:h,userRole:f})}),(0,t.jsxs)(ee.v0,{children:[(0,t.jsxs)(ee.td,{className:"mb-4",children:[(0,t.jsx)(ee.OK,{children:"Model Hub"}),(0,t.jsx)(ee.OK,{children:"Agent Hub"}),(0,t.jsx)(ee.OK,{children:"MCP Hub"}),(0,t.jsx)(ee.OK,{children:"Claude Code Plugin Marketplace"})]}),(0,t.jsxs)(ee.nP,{children:[(0,t.jsxs)(ee.x4,{children:[(0,t.jsxs)(ee.Zb,{children:[!1==p&&(0,F.tY)(f||"")&&(0,t.jsx)("div",{className:"flex justify-end mb-4",children:(0,t.jsx)(ee.zx,{onClick:()=>ev(),children:"Select Models to Make Public"})}),(0,t.jsx)(Z,{modelHubData:w||[],onFilteredDataChange:eC}),(0,t.jsx)(G.C,{columns:A(e=>{K(e),L(!0)},e_,p),data:E,isLoading:P,defaultSorting:[{id:"model_group",desc:!1}]})]}),(0,t.jsx)("div",{className:"mt-4 text-center space-y-2",children:(0,t.jsxs)(ee.xv,{className:"text-sm text-gray-600",children:["Showing ",E.length," of ",(null==w?void 0:w.length)||0," models"]})})]}),(0,t.jsxs)(ee.x4,{children:[(0,t.jsxs)(ee.Zb,{children:[!1==p&&(0,F.tY)(f||"")&&(0,t.jsx)("div",{className:"flex justify-end mb-4",children:(0,t.jsx)(ee.zx,{onClick:()=>eb(),children:"Select Agents to Make Public"})}),(0,t.jsx)(G.C,{columns:function(e,s){return arguments.length>2&&void 0!==arguments[2]&&arguments[2],[{header:"Agent Name",accessorKey:"name",enableSorting:!0,sortingFn:"alphanumeric",cell:e=>{let{row:l}=e,a=l.original;return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(n.Z,{className:"font-medium text-sm",children:a.name}),(0,t.jsx)(i.Z,{title:"Copy agent name",children:(0,t.jsx)(d.Z,{onClick:()=>s(a.name),className:"cursor-pointer text-gray-500 hover:text-blue-500 text-xs"})})]}),(0,t.jsx)("div",{className:"md:hidden",children:(0,t.jsx)(n.Z,{className:"text-xs text-gray-600",children:a.description})})]})}},{header:"Description",accessorKey:"description",enableSorting:!0,sortingFn:"alphanumeric",cell:e=>{let{row:s}=e,l=s.original;return(0,t.jsx)(n.Z,{className:"text-xs line-clamp-2",children:l.description||"-"})},meta:{className:"hidden md:table-cell"}},{header:"Version",accessorKey:"version",enableSorting:!0,sortingFn:"alphanumeric",cell:e=>{let{row:s}=e,l=s.original;return(0,t.jsxs)(a.Z,{color:"blue",size:"sm",children:["v",l.version]})},meta:{className:"hidden lg:table-cell"}},{header:"Protocol",accessorKey:"protocolVersion",enableSorting:!0,sortingFn:"alphanumeric",cell:e=>{let{row:s}=e,l=s.original;return(0,t.jsx)(n.Z,{className:"text-xs",children:l.protocolVersion||"-"})},meta:{className:"hidden lg:table-cell"}},{header:"Skills",accessorKey:"skills",enableSorting:!1,cell:e=>{let{row:s}=e,l=s.original.skills||[];return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)(n.Z,{className:"text-xs font-medium",children:[l.length," skill",1!==l.length?"s":""]}),l.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[l.slice(0,2).map(e=>(0,t.jsx)(c.Z,{color:"purple",className:"text-xs",children:e.name},e.id)),l.length>2&&(0,t.jsxs)(n.Z,{className:"text-xs text-gray-500",children:["+",l.length-2]})]})]})}},{header:"Capabilities",accessorKey:"capabilities",enableSorting:!1,cell:e=>{let{row:s}=e,l=Object.entries(s.original.capabilities||{}).filter(e=>{let[s,l]=e;return!0===l}).map(e=>{let[s]=e;return s});return(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:0===l.length?(0,t.jsx)(n.Z,{className:"text-gray-500 text-xs",children:"-"}):l.map(e=>(0,t.jsx)(a.Z,{color:"green",size:"xs",children:e},e))})}},{header:"I/O Modes",accessorKey:"defaultInputModes",enableSorting:!1,cell:e=>{let{row:s}=e,l=s.original,a=l.defaultInputModes||[],r=l.defaultOutputModes||[];return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)(n.Z,{className:"text-xs",children:[(0,t.jsx)("span",{className:"font-medium",children:"In:"})," ",a.join(", ")||"-"]}),(0,t.jsxs)(n.Z,{className:"text-xs",children:[(0,t.jsx)("span",{className:"font-medium",children:"Out:"})," ",r.join(", ")||"-"]})]})},meta:{className:"hidden xl:table-cell"}},{header:"Public",accessorKey:"is_public",enableSorting:!0,sortingFn:(e,s)=>(!0===e.original.is_public?1:0)-(!0===s.original.is_public?1:0),cell:e=>{let{row:s}=e;return console.log("CHECKPOINT 1: ".concat(JSON.stringify(s.original))),!0===s.original.is_public?(0,t.jsx)(a.Z,{color:"green",size:"xs",children:"Yes"}):(0,t.jsx)(a.Z,{color:"gray",size:"xs",children:"No"})},meta:{className:"hidden md:table-cell"}},{header:"Details",id:"details",enableSorting:!1,cell:s=>{let{row:l}=s,a=l.original;return(0,t.jsxs)(r.Z,{size:"xs",variant:"secondary",onClick:()=>e(a),icon:o.Z,children:[(0,t.jsx)("span",{className:"hidden lg:inline",children:"Details"}),(0,t.jsx)("span",{className:"lg:hidden",children:"Info"})]})}}]}(e=>{ea(e),en(!0)},e_,p),data:R||[],isLoading:$,defaultSorting:[{id:"name",desc:!1}]})]}),(0,t.jsx)("div",{className:"mt-4 text-center space-y-2",children:(0,t.jsxs)(ee.xv,{className:"text-sm text-gray-600",children:["Showing ",(null==R?void 0:R.length)||0," agent",(null==R?void 0:R.length)!==1?"s":""]})})]}),(0,t.jsxs)(ee.x4,{children:[(0,t.jsxs)(ee.Zb,{children:[!1==p&&(0,F.tY)(f||"")&&(0,t.jsx)("div",{className:"flex justify-end mb-4",children:(0,t.jsx)(ee.zx,{onClick:()=>ef(),children:"Select MCP Servers to Make Public"})}),(0,t.jsx)(G.C,{columns:function(e,s){return arguments.length>2&&void 0!==arguments[2]&&arguments[2],[{header:"Server Name",accessorKey:"server_name",enableSorting:!0,sortingFn:"alphanumeric",cell:e=>{let{row:l}=e,a=l.original;return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(n.Z,{className:"font-medium text-sm",children:a.server_name}),(0,t.jsx)(i.Z,{title:"Copy server name",children:(0,t.jsx)(d.Z,{onClick:()=>s(a.server_name),className:"cursor-pointer text-gray-500 hover:text-blue-500 text-xs"})})]}),(0,t.jsx)("div",{className:"md:hidden",children:(0,t.jsx)(n.Z,{className:"text-xs text-gray-600",children:a.description||"-"})})]})}},{header:"Description",accessorKey:"description",enableSorting:!0,sortingFn:"alphanumeric",cell:e=>{let{row:s}=e,l=s.original;return(0,t.jsx)(n.Z,{className:"text-xs line-clamp-2",children:l.description||"-"})},meta:{className:"hidden md:table-cell"}},{header:"URL",accessorKey:"url",enableSorting:!0,sortingFn:"alphanumeric",cell:e=>{let{row:l}=e,a=l.original;return(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(n.Z,{className:"text-xs truncate max-w-xs",children:a.url}),(0,t.jsx)(i.Z,{title:"Copy URL",children:(0,t.jsx)(d.Z,{onClick:()=>s(a.url),className:"cursor-pointer text-gray-500 hover:text-blue-500 text-xs flex-shrink-0"})})]})},meta:{className:"hidden lg:table-cell"}},{header:"Transport",accessorKey:"transport",enableSorting:!0,sortingFn:"alphanumeric",cell:e=>{let{row:s}=e,l=s.original;return(0,t.jsx)(a.Z,{color:"blue",size:"sm",children:l.transport})},meta:{className:"hidden md:table-cell"}},{header:"Auth Type",accessorKey:"auth_type",enableSorting:!0,sortingFn:"alphanumeric",cell:e=>{let{row:s}=e,l=s.original,r="none"===l.auth_type?"gray":"green";return(0,t.jsx)(a.Z,{color:r,size:"sm",children:l.auth_type})},meta:{className:"hidden md:table-cell"}},{header:"Status",accessorKey:"status",enableSorting:!0,sortingFn:"alphanumeric",cell:e=>{let{row:s}=e,l=s.original,r={active:"green",inactive:"red",unknown:"gray",healthy:"green",unhealthy:"red"}[l.status]||"gray";return(0,t.jsx)(a.Z,{color:r,size:"sm",children:l.status||"unknown"})}},{header:"Tools",accessorKey:"allowed_tools",enableSorting:!1,cell:e=>{let{row:s}=e,l=s.original.allowed_tools||[];return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(n.Z,{className:"text-xs font-medium",children:l.length>0?"".concat(l.length," tool").concat(1!==l.length?"s":""):"All tools"}),l.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[l.slice(0,2).map((e,s)=>(0,t.jsx)(c.Z,{color:"purple",className:"text-xs",children:e},s)),l.length>2&&(0,t.jsxs)(n.Z,{className:"text-xs text-gray-500",children:["+",l.length-2]})]})]})},meta:{className:"hidden lg:table-cell"}},{header:"Created By",accessorKey:"created_by",enableSorting:!0,sortingFn:"alphanumeric",cell:e=>{let{row:s}=e,l=s.original;return(0,t.jsx)(n.Z,{className:"text-xs",children:l.created_by||"-"})},meta:{className:"hidden xl:table-cell"}},{header:"Public",accessorKey:"mcp_info.is_public",enableSorting:!0,sortingFn:(e,s)=>{var l,t;return((null===(l=e.original.mcp_info)||void 0===l?void 0:l.is_public)===!0?1:0)-((null===(t=s.original.mcp_info)||void 0===t?void 0:t.is_public)===!0?1:0)},cell:e=>{var s;let{row:l}=e;return(null===(s=l.original.mcp_info)||void 0===s?void 0:s.is_public)===!0?(0,t.jsx)(a.Z,{color:"green",size:"xs",children:"Yes"}):(0,t.jsx)(a.Z,{color:"gray",size:"xs",children:"No"})},meta:{className:"hidden md:table-cell"}},{header:"Details",id:"details",enableSorting:!1,cell:s=>{let{row:l}=s,a=l.original;return(0,t.jsxs)(r.Z,{size:"xs",variant:"secondary",onClick:()=>e(a),icon:o.Z,children:[(0,t.jsx)("span",{className:"hidden lg:inline",children:"Details"}),(0,t.jsx)("span",{className:"lg:hidden",children:"Info"})]})}}]}(e=>{em(e),eh(!0)},e_,p),data:ei||[],isLoading:ed,defaultSorting:[{id:"server_name",desc:!1}]})]}),(0,t.jsx)("div",{className:"mt-4 text-center space-y-2",children:(0,t.jsxs)(ee.xv,{className:"text-sm text-gray-600",children:["Showing ",(null==ei?void 0:ei.length)||0," MCP server",(null==ei?void 0:ei.length)!==1?"s":""]})})]}),(0,t.jsx)(ee.x4,{children:(0,t.jsx)(X,{publicPage:p})})]})]})]}):(0,t.jsxs)(ee.Zb,{className:"mx-auto max-w-xl mt-10",children:[(0,t.jsx)(ee.xv,{className:"text-xl text-center mb-2 text-black",children:"Public Model Hub not enabled."}),(0,t.jsx)("p",{className:"text-base text-center text-slate-800",children:"Ask your proxy admin to enable this on their Admin UI."})]}),(0,t.jsx)(g.Z,{title:"Public Model Hub",width:600,visible:O,footer:null,onOk:eN,onCancel:ey,children:(0,t.jsxs)("div",{className:"pt-5 pb-5",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,t.jsx)(ee.xv,{className:"text-base mr-2",children:"Shareable Link:"}),(0,t.jsx)(ee.xv,{className:"max-w-sm ml-2 bg-gray-200 pr-2 pl-2 pt-1 pb-1 text-center rounded",children:"".concat((0,v.getProxyBaseUrl)(),"/ui/model_hub_table")})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(ee.zx,{onClick:()=>{ej.replace("/model_hub_table?key=".concat(h))},children:"See Page"})})]})}),(0,t.jsx)(g.Z,{title:(null==T?void 0:T.model_group)||"Model Details",width:1e3,visible:z,footer:null,onOk:eN,onCancel:ey,children:T&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"text-lg font-semibold mb-4",children:"Model Overview"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Model Group:"}),(0,t.jsx)(ee.xv,{children:T.model_group})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Mode:"}),(0,t.jsx)(ee.xv,{children:T.mode||"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Providers:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:T.providers.map(e=>(0,t.jsx)(ee.Ct,{color:"blue",children:e},e))})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"text-lg font-semibold mb-4",children:"Token & Cost Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Max Input Tokens:"}),(0,t.jsx)(ee.xv,{children:(null===(s=T.max_input_tokens)||void 0===s?void 0:s.toLocaleString())||"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Max Output Tokens:"}),(0,t.jsx)(ee.xv,{children:(null===(l=T.max_output_tokens)||void 0===l?void 0:l.toLocaleString())||"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Input Cost per 1M Tokens:"}),(0,t.jsx)(ee.xv,{children:T.input_cost_per_token?ew(T.input_cost_per_token):"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Output Cost per 1M Tokens:"}),(0,t.jsx)(ee.xv,{children:T.output_cost_per_token?ew(T.output_cost_per_token):"Not specified"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"text-lg font-semibold mb-4",children:"Capabilities"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:(()=>{let e=eZ(T),s=["green","blue","purple","orange","red","yellow"];return 0===e.length?(0,t.jsx)(ee.xv,{className:"text-gray-500",children:"No special capabilities listed"}):e.map((e,l)=>(0,t.jsx)(ee.Ct,{color:s[l%s.length],children:ek(e)},e))})()})]}),(T.tpm||T.rpm)&&(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"text-lg font-semibold mb-4",children:"Rate Limits"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[T.tpm&&(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Tokens per Minute:"}),(0,t.jsx)(ee.xv,{children:T.tpm.toLocaleString()})]}),T.rpm&&(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Requests per Minute:"}),(0,t.jsx)(ee.xv,{children:T.rpm.toLocaleString()})]})]})]}),T.supported_openai_params&&(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"text-lg font-semibold mb-4",children:"Supported OpenAI Parameters"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:T.supported_openai_params.map(e=>(0,t.jsx)(ee.Ct,{color:"green",children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"text-lg font-semibold mb-4",children:"Usage Example"}),(0,t.jsx)(et.Z,{language:"python",className:"text-sm",children:'import openai\n\nclient = openai.OpenAI(\n    api_key="your_api_key",\n    base_url="http://0.0.0.0:4000"  # Your LiteLLM Proxy URL\n)\n\nresponse = client.chat.completions.create(\n    model="'.concat(T.model_group,'",\n    messages=[\n        {\n            "role": "user",\n            "content": "Hello, how are you?"\n        }\n    ]\n)\n\nprint(response.choices[0].message.content)')})]})]})}),(0,t.jsx)(g.Z,{title:(null==J?void 0:J.name)||"Agent Details",width:1e3,visible:er,footer:null,onOk:eN,onCancel:ey,children:J&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"text-lg font-semibold mb-4",children:"Agent Overview"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Name:"}),(0,t.jsx)(ee.xv,{children:J.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Version:"}),(0,t.jsxs)(ee.Ct,{color:"blue",children:["v",J.version]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Protocol Version:"}),(0,t.jsx)(ee.xv,{children:J.protocolVersion})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"URL:"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ee.xv,{className:"truncate",children:J.url}),(0,t.jsx)(d.Z,{onClick:()=>e_(J.url),className:"cursor-pointer text-gray-500 hover:text-blue-500"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Description:"}),(0,t.jsx)(ee.xv,{className:"mt-1",children:J.description})]})]}),J.capabilities&&Object.keys(J.capabilities).length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"text-lg font-semibold mb-4",children:"Capabilities"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(J.capabilities).filter(e=>{let[s,l]=e;return!0===l}).map(e=>{let[s]=e;return(0,t.jsx)(ee.Ct,{color:"green",children:s},s)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"text-lg font-semibold mb-4",children:"Input/Output Modes"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Input Modes:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:(null===(m=J.defaultInputModes)||void 0===m?void 0:m.map(e=>(0,t.jsx)(ee.Ct,{color:"blue",children:e},e)))||(0,t.jsx)(ee.xv,{children:"Not specified"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Output Modes:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:(null===(u=J.defaultOutputModes)||void 0===u?void 0:u.map(e=>(0,t.jsx)(ee.Ct,{color:"purple",children:e},e)))||(0,t.jsx)(ee.xv,{children:"Not specified"})})]})]})]}),J.skills&&J.skills.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"text-lg font-semibold mb-4",children:"Skills"}),(0,t.jsx)("div",{className:"space-y-4",children:J.skills.map(e=>(0,t.jsxs)("div",{className:"border border-gray-200 rounded p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium text-base",children:e.name}),(0,t.jsxs)(ee.xv,{className:"text-xs text-gray-500",children:["ID: ",e.id]})]}),e.tags&&e.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.tags.map(e=>(0,t.jsx)(ee.Ct,{color:"purple",size:"xs",children:e},e))})]}),(0,t.jsx)(ee.xv,{className:"text-sm mb-2",children:e.description}),e.examples&&e.examples.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"text-xs font-medium text-gray-700",children:"Examples:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:e.examples.map((e,s)=>(0,t.jsx)(ee.Ct,{color:"gray",size:"xs",children:e},s))})]})]},e.id))})]}),J.supportsAuthenticatedExtendedCard&&(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"text-lg font-semibold mb-4",children:"Additional Features"}),(0,t.jsx)(ee.Ct,{color:"green",children:"Supports Authenticated Extended Card"})]})]})}),(0,t.jsx)(g.Z,{title:(null==ex?void 0:ex.server_name)||"MCP Server Details",width:1e3,visible:eu,footer:null,onOk:eN,onCancel:ey,children:ex&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"text-lg font-semibold mb-4",children:"Server Overview"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Server Name:"}),(0,t.jsx)(ee.xv,{children:ex.server_name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Server ID:"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ee.xv,{className:"text-xs truncate",children:ex.server_id}),(0,t.jsx)(d.Z,{onClick:()=>e_(ex.server_id),className:"cursor-pointer text-gray-500 hover:text-blue-500"})]})]}),ex.alias&&(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Alias:"}),(0,t.jsx)(ee.xv,{children:ex.alias})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Transport:"}),(0,t.jsx)(ee.Ct,{color:"blue",children:ex.transport})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Auth Type:"}),(0,t.jsx)(ee.Ct,{color:"none"===ex.auth_type?"gray":"green",children:ex.auth_type})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Status:"}),(0,t.jsx)(ee.Ct,{color:"active"===ex.status||"healthy"===ex.status?"green":"inactive"===ex.status||"unhealthy"===ex.status?"red":"gray",children:ex.status||"unknown"})]})]}),ex.description&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Description:"}),(0,t.jsx)(ee.xv,{className:"mt-1",children:ex.description})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"text-lg font-semibold mb-4",children:"Connection Details"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"URL:"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,t.jsx)(ee.xv,{className:"text-sm break-all bg-gray-100 p-2 rounded flex-1",children:ex.url}),(0,t.jsx)(d.Z,{onClick:()=>e_(ex.url),className:"cursor-pointer text-gray-500 hover:text-blue-500 flex-shrink-0"})]})]}),ex.command&&(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Command:"}),(0,t.jsx)(ee.xv,{className:"text-sm bg-gray-100 p-2 rounded mt-1 font-mono",children:ex.command})]})]})]}),ex.allowed_tools&&ex.allowed_tools.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"text-lg font-semibold mb-4",children:"Allowed Tools"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:ex.allowed_tools.map((e,s)=>(0,t.jsx)(ee.Ct,{color:"purple",children:e},s))})]}),ex.teams&&ex.teams.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"text-lg font-semibold mb-4",children:"Teams"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:ex.teams.map((e,s)=>(0,t.jsx)(ee.Ct,{color:"blue",children:e},s))})]}),ex.mcp_access_groups&&ex.mcp_access_groups.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"text-lg font-semibold mb-4",children:"Access Groups"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:ex.mcp_access_groups.map((e,s)=>(0,t.jsx)(ee.Ct,{color:"green",children:e},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"text-lg font-semibold mb-4",children:"Metadata"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Created By:"}),(0,t.jsx)(ee.xv,{children:ex.created_by})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Updated By:"}),(0,t.jsx)(ee.xv,{children:ex.updated_by})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Created At:"}),(0,t.jsx)(ee.xv,{className:"text-sm",children:new Date(ex.created_at).toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Updated At:"}),(0,t.jsx)(ee.xv,{className:"text-sm",children:new Date(ex.updated_at).toLocaleString()})]}),ex.last_health_check&&(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"font-medium",children:"Last Health Check:"}),(0,t.jsx)(ee.xv,{className:"text-sm",children:new Date(ex.last_health_check).toLocaleString()})]})]}),ex.health_check_error&&(0,t.jsxs)("div",{className:"mt-2 p-2 bg-red-50 rounded",children:[(0,t.jsx)(ee.xv,{className:"font-medium text-red-700",children:"Health Check Error:"}),(0,t.jsx)(ee.xv,{className:"text-sm text-red-600 mt-1",children:ex.health_check_error})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee.xv,{className:"text-lg font-semibold mb-4",children:"Usage Example"}),(0,t.jsx)(et.Z,{language:"python",className:"text-sm",children:'from fastmcp import Client\nimport asyncio\n\n# Standard MCP configuration\nconfig = {\n    "mcpServers": {\n        "'.concat(ex.server_name,'": {\n            "url": "http://localhost:4000/').concat(ex.server_name,'/mcp",\n            "headers": {\n                "x-litellm-api-key": "Bearer sk-1234"\n            }\n        }\n    }\n}\n\n# Create a client that connects to the server\nclient = Client(config)\n\nasync def main():\n    async with client:\n        # List available tools\n        tools = await client.list_tools()\n        print(f"Available tools: {[tool.name for tool in tools]}")\n\n        # Call a tool\n        response = await client.call_tool(\n            name="tool_name", \n            arguments={"arg": "value"}\n        )\n        print(f"Response: {response}")\n\nif __name__ == "__main__":\n    asyncio.run(main())')})]})]})}),(0,t.jsx)(C,{visible:H,onClose:()=>B(!1),accessToken:h||"",modelHubData:w||[],onSuccess:()=>{h&&(async()=>{try{let e=await (0,v.modelHubCall)(h);S(e.data)}catch(e){console.error("Error refreshing model data:",e)}})()}}),(0,t.jsx)(N,{visible:Y,onClose:()=>W(!1),accessToken:h||"",agentHubData:R||[],onSuccess:()=>{h&&(async()=>{try{let e=(await (0,v.getAgentsList)(h)).agents.map(e=>({agent_id:e.agent_id,...e.agent_card_params,is_public:e.is_public}));V(e)}catch(e){console.error("Error refreshing agent data:",e)}})()}}),(0,t.jsx)(_,{visible:ep,onClose:()=>eg(!1),accessToken:h||"",mcpHubData:ei||[],onSuccess:()=>{h&&(async()=>{try{let e=await (0,v.fetchMCPServers)(h);ec(e)}catch(e){console.error("Error refreshing MCP server data:",e)}})()}})]})}},43769:function(e,s,l){l.d(s,{$L:function(){return r},LH:function(){return c},Nq:function(){return m},OB:function(){return i},PX:function(){return a},aB:function(){return t},gA:function(){return o},i5:function(){return n},ie:function(){return d},jE:function(){return p},jv:function(){return h},mO:function(){return x},vV:function(){return u}});let t=e=>"github"===e.source.source&&e.source.repo?"/plugin marketplace add ".concat(e.source.repo):"url"===e.source.source&&e.source.url?"/plugin marketplace add ".concat(e.source.url):"/plugin marketplace add ".concat(e.name),a=e=>{let s=new Set;return e.forEach(e=>{e.category&&""!==e.category.trim()&&s.add(e.category)}),["All",...Array.from(s).sort(),"Other"]},r=e=>!!e&&""!==e.trim()&&/^[a-z0-9-]+$/.test(e),n=e=>"github"===e.source&&e.repo?"GitHub: ".concat(e.repo):"url"===e.source&&e.url?e.url:"Unknown source",i=e=>"github"===e.source&&e.repo?"https://github.com/".concat(e.repo):"url"===e.source&&e.url?e.url:null,c=e=>{if(!e)return"gray";let s=e.toLowerCase();return s.includes("development")||s.includes("dev")?"blue":s.includes("productivity")||s.includes("workflow")?"green":s.includes("learning")||s.includes("education")?"purple":s.includes("security")||s.includes("safety")?"red":s.includes("data")||s.includes("analytics")?"orange":s.includes("integration")||s.includes("api")?"yellow":"gray"},d=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(e){return"Invalid date"}},o=(e,s)=>{if(!s||""===s.trim())return e;let l=s.toLowerCase().trim();return e.filter(e=>{var s,t;let a=e.name.toLowerCase().includes(l),r=(null===(s=e.description)||void 0===s?void 0:s.toLowerCase().includes(l))||!1,n=(null===(t=e.keywords)||void 0===t?void 0:t.some(e=>e.toLowerCase().includes(l)))||!1;return a||r||n})},x=(e,s)=>"All"===s?e:"Other"===s?e.filter(e=>!e.category||""===e.category.trim()):e.filter(e=>e.category===s),m=e=>!e||/^\d+\.\d+\.\d+(-[a-zA-Z0-9.-]+)?(\+[a-zA-Z0-9.-]+)?$/.test(e),u=e=>!e||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),h=e=>{if(!e)return!0;try{return new URL(e),!0}catch(e){return!1}},p=e=>e&&""!==e.trim()?e.split(",").map(e=>e.trim()).filter(e=>""!==e):[]},39957:function(e,s,l){l.d(s,{Z:function(){return g}});var t=l(57437),a=l(53410),r=l(74998),n=l(91126),i=l(23628),c=l(44633),d=l(86462),o=l(3477),x=l(99981),m=l(10012),u=l(58927);function h(e){let{icon:s,onClick:l,className:a,disabled:r,dataTestId:n}=e;return r?(0,t.jsx)(u.J,{icon:s,size:"sm",className:"opacity-50 cursor-not-allowed","data-testid":n}):(0,t.jsx)(u.J,{icon:s,size:"sm",onClick:l,className:(0,m.cx)("cursor-pointer",a),"data-testid":n})}l(2265);let p={Edit:{icon:a.Z,className:"hover:text-blue-600"},Delete:{icon:r.Z,className:"hover:text-red-600"},Test:{icon:n.Z,className:"hover:text-blue-600"},Regenerate:{icon:i.Z,className:"hover:text-green-600"},Up:{icon:c.Z,className:"hover:text-blue-600"},Down:{icon:d.Z,className:"hover:text-blue-600"},Open:{icon:o.Z,className:"hover:text-green-600"}};function g(e){let{onClick:s,tooltipText:l,disabled:a=!1,disabledTooltipText:r,dataTestId:n,variant:i}=e,{icon:c,className:d}=p[i];return(0,t.jsx)(x.Z,{title:a?r:l,children:(0,t.jsx)("span",{children:(0,t.jsx)(h,{icon:c,onClick:s,className:d,disabled:a,dataTestId:n})})})}},10012:function(e,s,l){l.d(s,{cx:function(){return n}});var t=l(49096),a=l(53335);let{cva:r,cx:n,compose:i}=(0,t.ZD)({hooks:{onComplete:e=>(0,a.m6)(e)}})}}]);