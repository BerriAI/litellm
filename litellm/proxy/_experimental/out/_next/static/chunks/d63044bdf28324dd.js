(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,349356,e=>{e.v({AElig:"√Ü",AMP:"&",Aacute:"√Å",Acirc:"√Ç",Agrave:"√Ä",Aring:"√Ö",Atilde:"√É",Auml:"√Ñ",COPY:"¬©",Ccedil:"√á",ETH:"√ê",Eacute:"√â",Ecirc:"√ä",Egrave:"√à",Euml:"√ã",GT:">",Iacute:"√ç",Icirc:"√é",Igrave:"√å",Iuml:"√è",LT:"<",Ntilde:"√ë",Oacute:"√ì",Ocirc:"√î",Ograve:"√í",Oslash:"√ò",Otilde:"√ï",Ouml:"√ñ",QUOT:'"',REG:"¬Æ",THORN:"√û",Uacute:"√ö",Ucirc:"√õ",Ugrave:"√ô",Uuml:"√ú",Yacute:"√ù",aacute:"√°",acirc:"√¢",acute:"¬¥",aelig:"√¶",agrave:"√†",amp:"&",aring:"√•",atilde:"√£",auml:"√§",brvbar:"¬¶",ccedil:"√ß",cedil:"¬∏",cent:"¬¢",copy:"¬©",curren:"¬§",deg:"¬∞",divide:"√∑",eacute:"√©",ecirc:"√™",egrave:"√®",eth:"√∞",euml:"√´",frac12:"¬Ω",frac14:"¬º",frac34:"¬æ",gt:">",iacute:"√≠",icirc:"√Æ",iexcl:"¬°",igrave:"√¨",iquest:"¬ø",iuml:"√Ø",laquo:"¬´",lt:"<",macr:"¬Ø",micro:"¬µ",middot:"¬∑",nbsp:"¬†",not:"¬¨",ntilde:"√±",oacute:"√≥",ocirc:"√¥",ograve:"√≤",ordf:"¬™",ordm:"¬∫",oslash:"√∏",otilde:"√µ",ouml:"√∂",para:"¬∂",plusmn:"¬±",pound:"¬£",quot:'"',raquo:"¬ª",reg:"¬Æ",sect:"¬ß",shy:"¬≠",sup1:"¬π",sup2:"¬≤",sup3:"¬≥",szlig:"√ü",thorn:"√æ",times:"√ó",uacute:"√∫",ucirc:"√ª",ugrave:"√π",uml:"¬®",uuml:"√º",yacute:"√Ω",yen:"¬•",yuml:"√ø"})},137429,e=>{e.v({0:"ÔøΩ",128:"‚Ç¨",130:"‚Äö",131:"∆í",132:"‚Äû",133:"‚Ä¶",134:"‚Ä†",135:"‚Ä°",136:"ÀÜ",137:"‚Ä∞",138:"≈†",139:"‚Äπ",140:"≈í",142:"≈Ω",145:"‚Äò",146:"‚Äô",147:"‚Äú",148:"‚Äù",149:"‚Ä¢",150:"‚Äì",151:"‚Äî",152:"Àú",153:"‚Ñ¢",154:"≈°",155:"‚Ä∫",156:"≈ì",158:"≈æ",159:"≈∏"})},434626,e=>{"use strict";var t=e.i(271645);let l=t.forwardRef(function(e,l){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:l},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"}))});e.s(["ExternalLinkIcon",0,l],434626)},122577,e=>{"use strict";var t=e.i(271645);let l=t.forwardRef(function(e,l){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:l},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))});e.s(["PlayIcon",0,l],122577)},207670,e=>{"use strict";function t(){for(var e,t,l=0,i="",r=arguments.length;l<r;l++)(e=arguments[l])&&(t=function e(t){var l,i,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t)){var a=t.length;for(l=0;l<a;l++)t[l]&&(i=e(t[l]))&&(r&&(r+=" "),r+=i)}else for(i in t)t[i]&&(r&&(r+=" "),r+=i);return r}(e))&&(i&&(i+=" "),i+=t);return i}e.s(["clsx",()=>t,"default",0,t])},591935,e=>{"use strict";var t=e.i(271645);let l=t.forwardRef(function(e,l){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:l},e),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"}))});e.s(["PencilAltIcon",0,l],591935)},902555,e=>{"use strict";var t=e.i(843476),l=e.i(591935),i=e.i(122577),r=e.i(278587),a=e.i(68155),n=e.i(360820),s=e.i(871943),o=e.i(434626),d=e.i(592968),c=e.i(115504),u=e.i(752978);function m({icon:e,onClick:l,className:i,disabled:r,dataTestId:a}){return r?(0,t.jsx)(u.Icon,{icon:e,size:"sm",className:"opacity-50 cursor-not-allowed","data-testid":a}):(0,t.jsx)(u.Icon,{icon:e,size:"sm",onClick:l,className:(0,c.cx)("cursor-pointer",i),"data-testid":a})}let h={Edit:{icon:l.PencilAltIcon,className:"hover:text-blue-600"},Delete:{icon:a.TrashIcon,className:"hover:text-red-600"},Test:{icon:i.PlayIcon,className:"hover:text-blue-600"},Regenerate:{icon:r.RefreshIcon,className:"hover:text-green-600"},Up:{icon:n.ChevronUpIcon,className:"hover:text-blue-600"},Down:{icon:s.ChevronDownIcon,className:"hover:text-blue-600"},Open:{icon:o.ExternalLinkIcon,className:"hover:text-green-600"}};function x({onClick:e,tooltipText:l,disabled:i=!1,disabledTooltipText:r,dataTestId:a,variant:n}){let{icon:s,className:o}=h[n];return(0,t.jsx)(d.Tooltip,{title:i?r:l,children:(0,t.jsx)("span",{children:(0,t.jsx)(m,{icon:s,onClick:e,className:o,disabled:i,dataTestId:a})})})}e.s(["default",()=>x],902555)},646050,e=>{"use strict";var t=e.i(843476),l=e.i(994388),i=e.i(304967),r=e.i(197647),a=e.i(653824),n=e.i(269200),s=e.i(942232),o=e.i(977572),d=e.i(427612),c=e.i(64848),u=e.i(496020),m=e.i(881073),h=e.i(404206),x=e.i(723731),p=e.i(599724),g=e.i(271645),b=e.i(650056),j=e.i(127952),f=e.i(902555),y=e.i(727749),T=e.i(764205),v=e.i(779241),I=e.i(677667),C=e.i(898667),w=e.i(130643),k=e.i(464571),B=e.i(212931),_=e.i(808613),A=e.i(28651),E=e.i(199133);let O=({isModalVisible:e,accessToken:l,setIsModalVisible:i,setBudgetList:r})=>{let[a]=_.Form.useForm(),n=async e=>{if(null!=l&&void 0!=l)try{y.default.info("Making API Call");let t=await (0,T.budgetCreateCall)(l,e);console.log("key create Response:",t),r(e=>e?[...e,t]:[t]),y.default.success("Budget Created"),a.resetFields()}catch(e){console.error("Error creating the key:",e),y.default.fromBackend(`Error creating the key: ${e}`)}};return(0,t.jsx)(B.Modal,{title:"Create Budget",open:e,width:800,footer:null,onOk:()=>{i(!1),a.resetFields()},onCancel:()=>{i(!1),a.resetFields()},children:(0,t.jsxs)(_.Form,{form:a,onFinish:n,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",children:[(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.Form.Item,{label:"Budget ID",name:"budget_id",rules:[{required:!0,message:"Please input a human-friendly name for the budget"}],help:"A human-friendly name for the budget",children:(0,t.jsx)(v.TextInput,{placeholder:""})}),(0,t.jsx)(_.Form.Item,{label:"Max Tokens per minute",name:"tpm_limit",help:"Default is model limit.",children:(0,t.jsx)(A.InputNumber,{step:1,precision:2,width:200})}),(0,t.jsx)(_.Form.Item,{label:"Max Requests per minute",name:"rpm_limit",help:"Default is model limit.",children:(0,t.jsx)(A.InputNumber,{step:1,precision:2,width:200})}),(0,t.jsxs)(I.Accordion,{className:"mt-20 mb-8",children:[(0,t.jsx)(C.AccordionHeader,{children:(0,t.jsx)("b",{children:"Optional Settings"})}),(0,t.jsxs)(w.AccordionBody,{children:[(0,t.jsx)(_.Form.Item,{label:"Max Budget (USD)",name:"max_budget",children:(0,t.jsx)(A.InputNumber,{step:.01,precision:2,width:200})}),(0,t.jsx)(_.Form.Item,{className:"mt-8",label:"Reset Budget",name:"budget_duration",children:(0,t.jsxs)(E.Select,{defaultValue:null,placeholder:"n/a",children:[(0,t.jsx)(E.Select.Option,{value:"24h",children:"daily"}),(0,t.jsx)(E.Select.Option,{value:"7d",children:"weekly"}),(0,t.jsx)(E.Select.Option,{value:"30d",children:"monthly"})]})})]})]})]}),(0,t.jsx)("div",{style:{textAlign:"right",marginTop:"10px"},children:(0,t.jsx)(k.Button,{htmlType:"submit",children:"Create Budget"})})]})})},F=({isModalVisible:e,accessToken:l,setIsModalVisible:i,setBudgetList:r,existingBudget:a,handleUpdateCall:n})=>{console.log("existingBudget",a);let[s]=_.Form.useForm();(0,g.useEffect)(()=>{s.setFieldsValue(a)},[a,s]);let o=async e=>{if(null!=l&&void 0!=l)try{y.default.info("Making API Call"),i(!0);let t=await (0,T.budgetUpdateCall)(l,e);r(e=>e?[...e,t]:[t]),y.default.success("Budget Updated"),s.resetFields(),n()}catch(e){console.error("Error creating the key:",e),y.default.fromBackend(`Error creating the key: ${e}`)}};return(0,t.jsx)(B.Modal,{title:"Edit Budget",open:e,width:800,footer:null,onOk:()=>{i(!1),s.resetFields()},onCancel:()=>{i(!1),s.resetFields()},children:(0,t.jsxs)(_.Form,{form:s,onFinish:o,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",initialValues:a,children:[(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.Form.Item,{label:"Budget ID",name:"budget_id",rules:[{required:!0,message:"Please input a human-friendly name for the budget"}],help:"A human-friendly name for the budget",children:(0,t.jsx)(v.TextInput,{placeholder:""})}),(0,t.jsx)(_.Form.Item,{label:"Max Tokens per minute",name:"tpm_limit",help:"Default is model limit.",children:(0,t.jsx)(A.InputNumber,{step:1,precision:2,width:200})}),(0,t.jsx)(_.Form.Item,{label:"Max Requests per minute",name:"rpm_limit",help:"Default is model limit.",children:(0,t.jsx)(A.InputNumber,{step:1,precision:2,width:200})}),(0,t.jsxs)(I.Accordion,{className:"mt-20 mb-8",children:[(0,t.jsx)(C.AccordionHeader,{children:(0,t.jsx)("b",{children:"Optional Settings"})}),(0,t.jsxs)(w.AccordionBody,{children:[(0,t.jsx)(_.Form.Item,{label:"Max Budget (USD)",name:"max_budget",children:(0,t.jsx)(A.InputNumber,{step:.01,precision:2,width:200})}),(0,t.jsx)(_.Form.Item,{className:"mt-8",label:"Reset Budget",name:"budget_duration",children:(0,t.jsxs)(E.Select,{defaultValue:null,placeholder:"n/a",children:[(0,t.jsx)(E.Select.Option,{value:"24h",children:"daily"}),(0,t.jsx)(E.Select.Option,{value:"7d",children:"weekly"}),(0,t.jsx)(E.Select.Option,{value:"30d",children:"monthly"})]})})]})]})]}),(0,t.jsx)("div",{style:{textAlign:"right",marginTop:"10px"},children:(0,t.jsx)(k.Button,{htmlType:"submit",children:"Save"})})]})})},N=`
curl -X POST --location '<your_proxy_base_url>/end_user/new' \\

-H 'Authorization: Bearer <your-master-key>' \\

-H 'Content-Type: application/json' \\

-d '{"user_id": "my-customer-id', "budget_id": "<BUDGET_ID>"}' # üëà KEY CHANGE

`,P=`
curl -X POST --location '<your_proxy_base_url>/chat/completions' \\

-H 'Authorization: Bearer <your-master-key>' \\

-H 'Content-Type: application/json' \\

-d '{
  "model": "gpt-3.5-turbo',
  "messages":[{"role": "user", "content": "Hey, how's it going?"}],
  "user": "my-customer-id"
}' # üëà KEY CHANGE

`,M=`from openai import OpenAI
client = OpenAI(
  base_url="<your_proxy_base_url>",
  api_key="<your_proxy_key>"
)

completion = client.chat.completions.create(
  model="gpt-3.5-turbo",
  messages=[
    {"role": "system", "content": "You are a helpful assistant."},
    {"role": "user", "content": "Hello!"}
  ],
  user="my-customer-id"
)

print(completion.choices[0].message)`;e.s(["default",0,({accessToken:e})=>{let[v,I]=(0,g.useState)(!1),[C,w]=(0,g.useState)(!1),[k,B]=(0,g.useState)(null),[_,A]=(0,g.useState)([]),[E,S]=(0,g.useState)(!1),[D,H]=(0,g.useState)(!1);(0,g.useEffect)(()=>{e&&(0,T.getBudgetList)(e).then(e=>{A(e)})},[e]);let L=async t=>{null!=e&&(B(t),w(!0))},R=async()=>{if(k&&null!=e){S(!0);try{await (0,T.budgetDeleteCall)(e,k.budget_id),y.default.success("Budget deleted."),await U()}catch(e){console.error("Error deleting budget:",e),"function"==typeof y.default.fromBackend?y.default.fromBackend("Failed to delete budget"):y.default.info("Failed to delete budget")}finally{S(!1),H(!1),B(null)}}},U=async()=>{null!=e&&(0,T.getBudgetList)(e).then(e=>{A(e)})};return(0,t.jsxs)("div",{className:"w-full mx-auto flex-auto overflow-y-auto m-8 p-2",children:[(0,t.jsx)(l.Button,{size:"sm",variant:"primary",className:"mb-2",onClick:()=>I(!0),children:"+ Create Budget"}),(0,t.jsxs)(a.TabGroup,{children:[(0,t.jsxs)(m.TabList,{children:[(0,t.jsx)(r.Tab,{children:"Budgets"}),(0,t.jsx)(r.Tab,{children:"Examples"})]}),(0,t.jsxs)(x.TabPanels,{children:[(0,t.jsx)(h.TabPanel,{children:(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)(O,{accessToken:e,isModalVisible:v,setIsModalVisible:I,setBudgetList:A}),k&&(0,t.jsx)(F,{accessToken:e,isModalVisible:C,setIsModalVisible:w,setBudgetList:A,existingBudget:k,handleUpdateCall:U}),(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(p.Text,{children:"Create a budget to assign to customers."}),(0,t.jsxs)(n.Table,{children:[(0,t.jsx)(d.TableHead,{children:(0,t.jsxs)(u.TableRow,{children:[(0,t.jsx)(c.TableHeaderCell,{children:"Budget ID"}),(0,t.jsx)(c.TableHeaderCell,{children:"Max Budget"}),(0,t.jsx)(c.TableHeaderCell,{children:"TPM"}),(0,t.jsx)(c.TableHeaderCell,{children:"RPM"})]})}),(0,t.jsx)(s.TableBody,{children:_.slice().sort((e,t)=>new Date(t.updated_at).getTime()-new Date(e.updated_at).getTime()).map((e,l)=>(0,t.jsxs)(u.TableRow,{children:[(0,t.jsx)(o.TableCell,{children:e.budget_id}),(0,t.jsx)(o.TableCell,{children:e.max_budget?e.max_budget:"n/a"}),(0,t.jsx)(o.TableCell,{children:e.tpm_limit?e.tpm_limit:"n/a"}),(0,t.jsx)(o.TableCell,{children:e.rpm_limit?e.rpm_limit:"n/a"}),(0,t.jsx)(f.default,{variant:"Edit",tooltipText:"Edit budget",onClick:()=>L(e),dataTestId:"edit-budget-button"}),(0,t.jsx)(f.default,{variant:"Delete",tooltipText:"Delete budget",onClick:()=>{B(e),H(!0)},dataTestId:"delete-budget-button"})]},l))})]})]}),(0,t.jsx)(j.default,{isOpen:D,title:"Delete Budget?",message:"Are you sure you want to delete this budget? This action cannot be undone.",resourceInformationTitle:"Budget Information",resourceInformation:[{label:"Budget ID",value:k?.budget_id,code:!0},{label:"Max Budget",value:k?.max_budget},{label:"TPM",value:k?.tpm_limit},{label:"RPM",value:k?.rpm_limit}],onCancel:()=>{H(!1)},onOk:R,confirmLoading:E})]})}),(0,t.jsx)(h.TabPanel,{children:(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)(p.Text,{className:"text-base",children:"How to use budget id"}),(0,t.jsxs)(a.TabGroup,{children:[(0,t.jsxs)(m.TabList,{children:[(0,t.jsx)(r.Tab,{children:"Assign Budget to Customer"}),(0,t.jsx)(r.Tab,{children:"Test it (Curl)"}),(0,t.jsx)(r.Tab,{children:"Test it (OpenAI SDK)"})]}),(0,t.jsxs)(x.TabPanels,{children:[(0,t.jsx)(h.TabPanel,{children:(0,t.jsx)(b.Prism,{language:"bash",children:N})}),(0,t.jsx)(h.TabPanel,{children:(0,t.jsx)(b.Prism,{language:"bash",children:P})}),(0,t.jsx)(h.TabPanel,{children:(0,t.jsx)(b.Prism,{language:"python",children:M})})]})]})]})})]})]})]})}],646050)},267167,e=>{"use strict";var t=e.i(843476),l=e.i(646050),i=e.i(135214);e.s(["default",0,()=>{let{accessToken:e}=(0,i.default)();return(0,t.jsx)(l.default,{accessToken:e})}])}]);