"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4886],{54250:function(e,t,n){n.d(t,{Z:function(){return b}});var o=n(5853),r=n(2265),l=n(44140),i=n(34237),a=n(33044),u=n(58747),s=n(4537),c=n(97324),d=n(1153),f=n(96398);let p=(0,d.fn)("SearchSelect"),m=(0,d.fn)("SearchSelect"),b=r.forwardRef((e,t)=>{let{defaultValue:n,value:d,onValueChange:b,placeholder:v="Select...",disabled:g=!1,icon:h,enableClear:x=!0,children:O,className:y}=e,S=(0,o._T)(e,["defaultValue","value","onValueChange","placeholder","disabled","icon","enableClear","children","className"]),[E,C]=(0,r.useState)(""),[T,I]=(0,l.Z)(n,d),{reactElementChildren:R,valueToNameMapping:k}=(0,r.useMemo)(()=>{let e=r.Children.toArray(O).filter(r.isValidElement);return{reactElementChildren:e,valueToNameMapping:(0,f.sl)(e)}},[O]),w=(0,r.useMemo)(()=>(0,f.n0)(E,R),[E,R]);return r.createElement(i.h,Object.assign({as:"div",ref:t,defaultValue:T,value:T,onChange:e=>{null==b||b(e),I(e)},disabled:g,className:(0,c.q)("w-full min-w-[10rem] relative text-tremor-default",y)},S),e=>{let{value:t}=e;return r.createElement(r.Fragment,null,r.createElement(i.h.Button,{className:"w-full"},h&&r.createElement("span",{className:(0,c.q)("absolute inset-y-0 left-0 flex items-center ml-px pl-2.5")},r.createElement(h,{className:(0,c.q)(p("Icon"),"flex-none h-5 w-5","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})),r.createElement(i.h.Input,{className:(0,c.q)("w-full outline-none text-left whitespace-nowrap truncate rounded-tremor-default focus:ring-2 transition duration-100 text-tremor-default pr-14 border py-2","border-tremor-border shadow-tremor-input focus:border-tremor-brand-subtle focus:ring-tremor-brand-muted","dark:border-dark-tremor-border dark:shadow-dark-tremor-input dark:focus:border-dark-tremor-brand-subtle dark:focus:ring-dark-tremor-brand-muted",h?"pl-10":"pl-3",g?"placeholder:text-tremor-content-subtle dark:placeholder:text-tremor-content-subtle":"placeholder:text-tremor-content dark:placeholder:text-tremor-content",(0,f.um)((0,f.Uh)(t),g)),placeholder:v,onChange:e=>C(e.target.value),displayValue:e=>{var t;return null!==(t=k.get(e))&&void 0!==t?t:""}}),r.createElement("div",{className:(0,c.q)("absolute inset-y-0 right-0 flex items-center pr-2.5")},r.createElement(u.Z,{className:(0,c.q)(p("arrowDownIcon"),"flex-none h-5 w-5","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")}))),x&&T?r.createElement("button",{type:"button",className:(0,c.q)("absolute inset-y-0 right-0 flex items-center mr-8"),onClick:e=>{e.preventDefault(),I(""),C(""),null==b||b("")}},r.createElement(s.Z,{className:(0,c.q)(m("clearIcon"),"flex-none h-4 w-4","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})):null,w.length>0&&r.createElement(a.u,{className:"absolute z-10 w-full",enter:"transition ease duration-100 transform",enterFrom:"opacity-0 -translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"transition ease duration-100 transform",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-4"},r.createElement(i.h.Options,{className:(0,c.q)("divide-y overflow-y-auto outline-none rounded-tremor-default text-tremor-default max-h-[228px] left-0 border my-1","bg-tremor-background border-tremor-border divide-tremor-border shadow-tremor-dropdown","dark:bg-dark-tremor-background dark:border-dark-tremor-border dark:divide-dark-tremor-border dark:shadow-dark-tremor-dropdown")},w)))})});b.displayName="SearchSelect"},70450:function(e,t,n){n.d(t,{Z:function(){return s}});var o=n(5853),r=n(2265),l=n(97324),i=n(1153),a=n(34237);let u=(0,i.fn)("SearchSelectItem"),s=r.forwardRef((e,t)=>{let{value:n,icon:i,className:s,children:c}=e,d=(0,o._T)(e,["value","icon","className","children"]);return r.createElement(a.h.Option,Object.assign({className:(0,l.q)(u("root"),"flex justify-start items-center cursor-default text-tremor-default p-2.5","ui-active:bg-tremor-background-muted  ui-active:text-tremor-content-strong ui-selected:text-tremor-content-strong ui-selected:bg-tremor-background-muted text-tremor-content-emphasis","dark:ui-active:bg-dark-tremor-background-muted  dark:ui-active:text-dark-tremor-content-strong dark:ui-selected:text-dark-tremor-content-strong dark:ui-selected:bg-dark-tremor-background-muted dark:text-dark-tremor-content-emphasis",s),ref:t,key:n,value:n},d),i&&r.createElement(i,{className:(0,l.q)(u("icon"),"flex-none h-5 w-5 mr-3","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")}),r.createElement("span",{className:"whitespace-nowrap truncate"},null!=c?c:n))});s.displayName="SearchSelectItem"},92858:function(e,t,n){n.d(t,{Z:function(){return M}});var o=n(5853),r=n(2265),l=n(62963),i=n(90945),a=n(13323),u=n(17684),s=n(80004),c=n(93689),d=n(38198),f=n(47634),p=n(56314),m=n(27847),b=n(64518);let v=(0,r.createContext)(null),g=Object.assign((0,m.yV)(function(e,t){let n=(0,u.M)(),{id:o="headlessui-description-".concat(n),...l}=e,i=function e(){let t=(0,r.useContext)(v);if(null===t){let t=Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,e),t}return t}(),a=(0,c.T)(t);(0,b.e)(()=>i.register(o),[o,i.register]);let s={ref:a,...i.props,id:o};return(0,m.sY)({ourProps:s,theirProps:l,slot:i.slot||{},defaultTag:"p",name:i.name||"Description"})}),{});var h=n(37388);let x=(0,r.createContext)(null),O=Object.assign((0,m.yV)(function(e,t){let n=(0,u.M)(),{id:o="headlessui-label-".concat(n),passive:l=!1,...i}=e,a=function e(){let t=(0,r.useContext)(x);if(null===t){let t=Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,e),t}return t}(),s=(0,c.T)(t);(0,b.e)(()=>a.register(o),[o,a.register]);let d={ref:s,...a.props,id:o};return l&&("onClick"in d&&(delete d.htmlFor,delete d.onClick),"onClick"in i&&delete i.onClick),(0,m.sY)({ourProps:d,theirProps:i,slot:a.slot||{},defaultTag:"label",name:a.name||"Label"})}),{}),y=(0,r.createContext)(null);y.displayName="GroupContext";let S=r.Fragment,E=Object.assign((0,m.yV)(function(e,t){let n=(0,u.M)(),{id:o="headlessui-switch-".concat(n),checked:b,defaultChecked:v=!1,onChange:g,name:x,value:O,form:S,...E}=e,C=(0,r.useContext)(y),T=(0,r.useRef)(null),I=(0,c.T)(T,t,null===C?null:C.setSwitch),[R,k]=(0,l.q)(b,g,v),w=(0,a.z)(()=>null==k?void 0:k(!R)),M=(0,a.z)(e=>{if((0,f.P)(e.currentTarget))return e.preventDefault();e.preventDefault(),w()}),z=(0,a.z)(e=>{e.key===h.R.Space?(e.preventDefault(),w()):e.key===h.R.Enter&&(0,p.g)(e.currentTarget)}),P=(0,a.z)(e=>e.preventDefault()),N=(0,r.useMemo)(()=>({checked:R}),[R]),D={id:o,ref:I,role:"switch",type:(0,s.f)(e,T),tabIndex:0,"aria-checked":R,"aria-labelledby":null==C?void 0:C.labelledby,"aria-describedby":null==C?void 0:C.describedby,onClick:M,onKeyUp:z,onKeyPress:P},F=(0,i.G)();return(0,r.useEffect)(()=>{var e;let t=null==(e=T.current)?void 0:e.closest("form");t&&void 0!==v&&F.addEventListener(t,"reset",()=>{k(v)})},[T,k]),r.createElement(r.Fragment,null,null!=x&&R&&r.createElement(d._,{features:d.A.Hidden,...(0,m.oA)({as:"input",type:"checkbox",hidden:!0,readOnly:!0,form:S,checked:R,name:x,value:O})}),(0,m.sY)({ourProps:D,theirProps:E,slot:N,defaultTag:"button",name:"Switch"}))}),{Group:function(e){var t;let[n,o]=(0,r.useState)(null),[l,i]=function(){let[e,t]=(0,r.useState)([]);return[e.length>0?e.join(" "):void 0,(0,r.useMemo)(()=>function(e){let n=(0,a.z)(e=>(t(t=>[...t,e]),()=>t(t=>{let n=t.slice(),o=n.indexOf(e);return -1!==o&&n.splice(o,1),n}))),o=(0,r.useMemo)(()=>({register:n,slot:e.slot,name:e.name,props:e.props}),[n,e.slot,e.name,e.props]);return r.createElement(x.Provider,{value:o},e.children)},[t])]}(),[u,s]=function(){let[e,t]=(0,r.useState)([]);return[e.length>0?e.join(" "):void 0,(0,r.useMemo)(()=>function(e){let n=(0,a.z)(e=>(t(t=>[...t,e]),()=>t(t=>{let n=t.slice(),o=n.indexOf(e);return -1!==o&&n.splice(o,1),n}))),o=(0,r.useMemo)(()=>({register:n,slot:e.slot,name:e.name,props:e.props}),[n,e.slot,e.name,e.props]);return r.createElement(v.Provider,{value:o},e.children)},[t])]}(),c=(0,r.useMemo)(()=>({switch:n,setSwitch:o,labelledby:l,describedby:u}),[n,o,l,u]);return r.createElement(s,{name:"Switch.Description"},r.createElement(i,{name:"Switch.Label",props:{htmlFor:null==(t=c.switch)?void 0:t.id,onClick(e){n&&("LABEL"===e.currentTarget.tagName&&e.preventDefault(),n.click(),n.focus({preventScroll:!0}))}}},r.createElement(y.Provider,{value:c},(0,m.sY)({ourProps:{},theirProps:e,defaultTag:S,name:"Switch.Group"}))))},Label:O,Description:g});var C=n(44140),T=n(26898),I=n(97324),R=n(1153),k=n(1526);let w=(0,R.fn)("Switch"),M=r.forwardRef((e,t)=>{let{checked:n,defaultChecked:l=!1,onChange:i,color:a,name:u,error:s,errorMessage:c,disabled:d,required:f,tooltip:p,id:m}=e,b=(0,o._T)(e,["checked","defaultChecked","onChange","color","name","error","errorMessage","disabled","required","tooltip","id"]),v={bgColor:a?(0,R.bM)(a,T.K.background).bgColor:"bg-tremor-brand dark:bg-dark-tremor-brand",ringColor:a?(0,R.bM)(a,T.K.ring).ringColor:"ring-tremor-brand-muted dark:ring-dark-tremor-brand-muted"},[g,h]=(0,C.Z)(l,n),[x,O]=(0,r.useState)(!1),{tooltipProps:y,getReferenceProps:S}=(0,k.l)(300);return r.createElement("div",{className:"flex flex-row items-center justify-start"},r.createElement(k.Z,Object.assign({text:p},y)),r.createElement("div",Object.assign({ref:(0,R.lq)([t,y.refs.setReference]),className:(0,I.q)(w("root"),"flex flex-row relative h-5")},b,S),r.createElement("input",{type:"checkbox",className:(0,I.q)(w("input"),"absolute w-5 h-5 cursor-pointer left-0 top-0 opacity-0"),name:u,required:f,checked:g,onChange:e=>{e.preventDefault()}}),r.createElement(E,{checked:g,onChange:e=>{h(e),null==i||i(e)},disabled:d,className:(0,I.q)(w("switch"),"w-10 h-5 group relative inline-flex flex-shrink-0 cursor-pointer items-center justify-center rounded-tremor-full","focus:outline-none",d?"cursor-not-allowed":""),onFocus:()=>O(!0),onBlur:()=>O(!1),id:m},r.createElement("span",{className:(0,I.q)(w("sr-only"),"sr-only")},"Switch ",g?"on":"off"),r.createElement("span",{"aria-hidden":"true",className:(0,I.q)(w("background"),g?v.bgColor:"bg-tremor-border dark:bg-dark-tremor-border","pointer-events-none absolute mx-auto h-3 w-9 rounded-tremor-full transition-colors duration-100 ease-in-out")}),r.createElement("span",{"aria-hidden":"true",className:(0,I.q)(w("round"),g?(0,I.q)(v.bgColor,"translate-x-5 border-tremor-background dark:border-dark-tremor-background"):"translate-x-0 bg-tremor-border dark:bg-dark-tremor-border border-tremor-background dark:border-dark-tremor-background","pointer-events-none absolute left-0 inline-block h-5 w-5 transform rounded-tremor-full border-2 shadow-tremor-input duration-100 ease-in-out transition",x?(0,I.q)("ring-2",v.ringColor):"")}))),s&&c?r.createElement("p",{className:(0,I.q)(w("errorMessage"),"text-sm text-red-500 mt-1 ")},c):null)});M.displayName="Switch"},34237:function(e,t,n){let o,r,l,i;function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}n.d(t,{h:function(){return ef}});var u=n(2265),s=n(54887);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function d(e,t,n){var o,r,l=null!=(o=n.initialDeps)?o:[];return function(){n.key&&null!=n.debug&&n.debug()&&(o=Date.now());var o,i,a=e();if(!(a.length!==l.length||a.some(function(e,t){return l[t]!==e})))return r;if(l=a,n.key&&null!=n.debug&&n.debug()&&(i=Date.now()),r=t.apply(void 0,a),n.key&&null!=n.debug&&n.debug()){var u=Math.round((Date.now()-o)*100)/100,s=Math.round((Date.now()-i)*100)/100,c=s/16,d=function(e,t){for(e=String(e);e.length<t;)e=" "+e;return e};console.info("%câ± "+d(s,5)+" /"+d(u,5)+" ms","\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl("+Math.max(0,Math.min(120-120*c,120))+"deg 100% 31%);",null==n?void 0:n.key)}return null==n||null==n.onChange||n.onChange(r),r}}function f(e,t){if(void 0!==e)return e;throw Error("Unexpected undefined"+(t?": "+t:""))}var p=function(e){return e},m=function(e){for(var t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),o=[],r=t;r<=n;r++)o.push(r);return o},b=function(e,t){var n=e.scrollElement;if(n){var o=function(e){t({width:Math.round(e.width),height:Math.round(e.height)})};o(n.getBoundingClientRect());var r=new ResizeObserver(function(e){var t=e[0];if(null!=t&&t.borderBoxSize){var r=t.borderBoxSize[0];if(r){o({width:r.inlineSize,height:r.blockSize});return}}o(n.getBoundingClientRect())});return r.observe(n,{box:"border-box"}),function(){r.unobserve(n)}}},v=function(e,t){var n=e.scrollElement;if(n){var o=function(){t(n[e.options.horizontal?"scrollLeft":"scrollTop"])};return o(),n.addEventListener("scroll",o,{passive:!0}),function(){n.removeEventListener("scroll",o)}}},g=function(e,t,n){if(null!=t&&t.borderBoxSize){var o=t.borderBoxSize[0];if(o)return Math.round(o[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},h=function(e,t,n){var o,r,l=t.adjustments,i=t.behavior;null==(o=n.scrollElement)||null==o.scrollTo||o.scrollTo(((r={})[n.options.horizontal?"left":"top"]=e+(void 0===l?0:l),r.behavior=i,r))},x=function(e){var t,n,o=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(t=null,n=function(){return t||("undefined"!=typeof ResizeObserver?t=new ResizeObserver(function(e){e.forEach(function(e){o._measureElement(e.target,e)})}):null)},{disconnect:function(){var e;return null==(e=n())?void 0:e.disconnect()},observe:function(e){var t;return null==(t=n())?void 0:t.observe(e,{box:"border-box"})},unobserve:function(e){var t;return null==(t=n())?void 0:t.unobserve(e)}}),this.range=null,this.setOptions=function(e){Object.entries(e).forEach(function(t){var n=t[0];void 0===t[1]&&delete e[n]}),o.options=c({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:p,rangeExtractor:m,onChange:function(){},measureElement:g,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},e)},this.notify=function(e){null==o.options.onChange||o.options.onChange(o,e)},this.maybeNotify=d(function(){return o.calculateRange(),[o.isScrolling,o.range?o.range.startIndex:null,o.range?o.range.endIndex:null]},function(e){o.notify(e)},{key:!1,debug:function(){return o.options.debug},initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=function(){o.unsubs.filter(Boolean).forEach(function(e){return e()}),o.unsubs=[],o.scrollElement=null},this._didMount=function(){return o.measureElementCache.forEach(o.observer.observe),function(){o.observer.disconnect(),o.cleanup()}},this._willUpdate=function(){var e=o.options.getScrollElement();o.scrollElement!==e&&(o.cleanup(),o.scrollElement=e,o._scrollToOffset(o.scrollOffset,{adjustments:void 0,behavior:void 0}),o.unsubs.push(o.options.observeElementRect(o,function(e){o.scrollRect=e,o.maybeNotify()})),o.unsubs.push(o.options.observeElementOffset(o,function(e){o.scrollAdjustments=0,o.scrollOffset!==e&&(null!==o.isScrollingTimeoutId&&(clearTimeout(o.isScrollingTimeoutId),o.isScrollingTimeoutId=null),o.isScrolling=!0,o.scrollDirection=o.scrollOffset<e?"forward":"backward",o.scrollOffset=e,o.maybeNotify(),o.isScrollingTimeoutId=setTimeout(function(){o.isScrollingTimeoutId=null,o.isScrolling=!1,o.scrollDirection=null,o.maybeNotify()},o.options.scrollingDelay))})))},this.getSize=function(){return o.scrollRect[o.options.horizontal?"width":"height"]},this.memoOptions=d(function(){return[o.options.count,o.options.paddingStart,o.options.scrollMargin,o.options.getItemKey]},function(e,t,n,r){return o.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:n,getItemKey:r}},{key:!1}),this.getFurthestMeasurement=function(e,t){for(var n=new Map,r=new Map,l=t-1;l>=0;l--){var i=e[l];if(!n.has(i.lane)){var a=r.get(i.lane);if(null==a||i.end>a.end?r.set(i.lane,i):i.end<a.end&&n.set(i.lane,!0),n.size===o.options.lanes)break}}return r.size===o.options.lanes?Array.from(r.values()).sort(function(e,t){return e.end-t.end})[0]:void 0},this.getMeasurements=d(function(){return[o.memoOptions(),o.itemSizeCache]},function(e,t){var n=e.count,r=e.paddingStart,l=e.scrollMargin,i=e.getItemKey,a=o.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,o.pendingMeasuredCacheIndexes):0;o.pendingMeasuredCacheIndexes=[];for(var u=o.measurementsCache.slice(0,a),s=a;s<n;s++){var c=i(s),d=1===o.options.lanes?u[s-1]:o.getFurthestMeasurement(u,s),f=d?d.end:r+l,p=t.get(c),m="number"==typeof p?p:o.options.estimateSize(s),b=f+m,v=d?d.lane:s%o.options.lanes;u[s]={index:s,start:f,size:m,end:b,key:c,lane:v}}return o.measurementsCache=u,u},{key:!1,debug:function(){return o.options.debug}}),this.calculateRange=d(function(){return[o.getMeasurements(),o.getSize(),o.scrollOffset]},function(e,t,n){return o.range=e.length>0&&t>0?function(e){for(var t=e.measurements,n=e.outerSize,o=e.scrollOffset,r=t.length-1,l=O(0,r,function(e){return t[e].start},o),i=l;i<r&&t[i].end<o+n;)i++;return{startIndex:l,endIndex:i}}({measurements:e,outerSize:t,scrollOffset:n}):null},{key:!1,debug:function(){return o.options.debug}}),this.getIndexes=d(function(){return[o.options.rangeExtractor,o.calculateRange(),o.options.overscan,o.options.count]},function(e,t,n,o){return null===t?[]:e(c({},t,{overscan:n,count:o}))},{key:!1,debug:function(){return o.options.debug}}),this.indexFromElement=function(e){var t=o.options.indexAttribute,n=e.getAttribute(t);return n?parseInt(n,10):(console.warn("Missing attribute name '"+t+"={index}' on measured element."),-1)},this._measureElement=function(e,t){var n=o.measurementsCache[o.indexFromElement(e)];if(!n||!e.isConnected){o.measureElementCache.forEach(function(t,n){t===e&&(o.observer.unobserve(e),o.measureElementCache.delete(n))});return}var r=o.measureElementCache.get(n.key);r!==e&&(r&&o.observer.unobserve(r),o.observer.observe(e),o.measureElementCache.set(n.key,e));var l=o.options.measureElement(e,t,o);o.resizeItem(n,l)},this.resizeItem=function(e,t){var n,r=t-(null!=(n=o.itemSizeCache.get(e.key))?n:e.size);0!==r&&(e.start<o.scrollOffset&&o._scrollToOffset(o.scrollOffset,{adjustments:o.scrollAdjustments+=r,behavior:void 0}),o.pendingMeasuredCacheIndexes.push(e.index),o.itemSizeCache=new Map(o.itemSizeCache.set(e.key,t)),o.notify(!1))},this.measureElement=function(e){e&&o._measureElement(e,void 0)},this.getVirtualItems=d(function(){return[o.getIndexes(),o.getMeasurements()]},function(e,t){for(var n=[],o=0,r=e.length;o<r;o++){var l=t[e[o]];n.push(l)}return n},{key:!1,debug:function(){return o.options.debug}}),this.getVirtualItemForOffset=function(e){var t=o.getMeasurements();return f(t[O(0,t.length-1,function(e){return f(t[e]).start},e)])},this.getOffsetForAlignment=function(e,t){var n=o.getSize();"auto"===t&&(t=e<=o.scrollOffset?"start":e>=o.scrollOffset+n?"end":"start"),"start"===t||("end"===t?e-=n:"center"===t&&(e-=n/2));var r=o.options.horizontal?"scrollWidth":"scrollHeight";return Math.max(Math.min((o.scrollElement?"document"in o.scrollElement?o.scrollElement.document.documentElement[r]:o.scrollElement[r]:0)-o.getSize(),e),0)},this.getOffsetForIndex=function(e,t){void 0===t&&(t="auto"),e=Math.max(0,Math.min(e,o.options.count-1));var n=f(o.getMeasurements()[e]);if("auto"===t){if(n.end>=o.scrollOffset+o.getSize()-o.options.scrollPaddingEnd)t="end";else{if(!(n.start<=o.scrollOffset+o.options.scrollPaddingStart))return[o.scrollOffset,t];t="start"}}var r="end"===t?n.end+o.options.scrollPaddingEnd:n.start-o.options.scrollPaddingStart;return[o.getOffsetForAlignment(r,t),t]},this.isDynamicMode=function(){return o.measureElementCache.size>0},this.cancelScrollToIndex=function(){null!==o.scrollToIndexTimeoutId&&(clearTimeout(o.scrollToIndexTimeoutId),o.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(e,t){var n=void 0===t?{}:t,r=n.align,l=n.behavior;o.cancelScrollToIndex(),"smooth"===l&&o.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),o._scrollToOffset(o.getOffsetForAlignment(e,void 0===r?"start":r),{adjustments:void 0,behavior:l})},this.scrollToIndex=function(e,t){var n=void 0===t?{}:t,r=n.align,l=n.behavior;e=Math.max(0,Math.min(e,o.options.count-1)),o.cancelScrollToIndex(),"smooth"===l&&o.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var i=o.getOffsetForIndex(e,void 0===r?"auto":r),a=i[0],u=i[1];o._scrollToOffset(a,{adjustments:void 0,behavior:l}),"smooth"!==l&&o.isDynamicMode()&&(o.scrollToIndexTimeoutId=setTimeout(function(){o.scrollToIndexTimeoutId=null,o.measureElementCache.has(o.options.getItemKey(e))&&1>Math.abs(o.getOffsetForIndex(e,u)[0]-o.scrollOffset)||o.scrollToIndex(e,{align:u,behavior:l})}))},this.scrollBy=function(e,t){var n=(void 0===t?{}:t).behavior;o.cancelScrollToIndex(),"smooth"===n&&o.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),o._scrollToOffset(o.scrollOffset+e,{adjustments:void 0,behavior:n})},this.getTotalSize=function(){var e;return((null==(e=o.getMeasurements()[o.options.count-1])?void 0:e.end)||o.options.paddingStart)-o.options.scrollMargin+o.options.paddingEnd},this._scrollToOffset=function(e,t){var n=t.adjustments,r=t.behavior;o.options.scrollToFn(e,{behavior:r,adjustments:n},o)},this.measure=function(){o.itemSizeCache=new Map,o.notify(!1)},this.setOptions(e),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(e){o.itemSizeCache.set(e.key,e.size)}),this.maybeNotify()},O=function(e,t,n,o){for(;e<=t;){var r=(e+t)/2|0,l=n(r);if(l<o)e=r+1;else{if(!(l>o))return r;t=r-1}}return e>0?e-1:0},y="undefined"!=typeof document?u.useLayoutEffect:u.useEffect,S=n(78138),E=n(62963),C=n(90945),T=n(13323),I=n(17684),R=n(64518),k=n(31948),w=n(32539),M=n(40048),z=n(80004),P=n(93689),N=n(15518),D=n(40293);function F(e,t){let n=(0,u.useRef)([]),o=(0,T.z)(e);(0,u.useEffect)(()=>{let e=[...n.current];for(let[r,l]of t.entries())if(n.current[r]!==l){let r=o(t,e);return n.current=t,r}},[o,...t])}var A=n(38198),L=n(37863);let _=[];!function(e){function t(){"loading"!==document.readyState&&(e(),document.removeEventListener("DOMContentLoaded",t))}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("DOMContentLoaded",t),t())}(()=>{function e(e){e.target instanceof HTMLElement&&e.target!==document.body&&_[0]!==e.target&&(_.unshift(e.target),(_=_.filter(e=>null!=e&&e.isConnected)).splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});var j=n(47634),q=n(34778),V=n(16015),B=n(37105),K=n(56314),Y=n(24536),U=n(52108),Z=n(27847),G=n(37388),H=n(40257),W=((o=W||{})[o.Open=0]="Open",o[o.Closed=1]="Closed",o),J=((r=J||{})[r.Single=0]="Single",r[r.Multi=1]="Multi",r),Q=((l=Q||{})[l.Pointer=0]="Pointer",l[l.Focus=1]="Focus",l[l.Other=2]="Other",l),X=((i=X||{})[i.OpenCombobox=0]="OpenCombobox",i[i.CloseCombobox=1]="CloseCombobox",i[i.GoToOption=2]="GoToOption",i[i.RegisterOption=3]="RegisterOption",i[i.UnregisterOption=4]="UnregisterOption",i[i.RegisterLabel=5]="RegisterLabel",i[i.SetActivationTrigger=6]="SetActivationTrigger",i[i.UpdateVirtualOptions=7]="UpdateVirtualOptions",i);function $(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e,n=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,o=t(e.options.slice()),r=o.length>0&&null!==o[0].dataRef.current.order?o.sort((e,t)=>e.dataRef.current.order-t.dataRef.current.order):(0,B.z2)(o,e=>e.dataRef.current.domRef.current),l=n?r.indexOf(n):null;return -1===l&&(l=null),{options:r,activeOptionIndex:l}}let ee={1(e){var t;return null!=(t=e.dataRef.current)&&t.disabled||1===e.comboboxState?e:{...e,activeOptionIndex:null,comboboxState:1}},0(e){var t,n;if(null!=(t=e.dataRef.current)&&t.disabled||0===e.comboboxState)return e;if(null!=(n=e.dataRef.current)&&n.value){let t=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(-1!==t)return{...e,activeOptionIndex:t,comboboxState:0}}return{...e,comboboxState:0}},2(e,t){var n,o,r,l,i;if(null!=(n=e.dataRef.current)&&n.disabled||null!=(o=e.dataRef.current)&&o.optionsRef.current&&!(null!=(r=e.dataRef.current)&&r.optionsPropsRef.current.static)&&1===e.comboboxState)return e;if(e.virtual){let n=t.focus===q.T.Specific?t.idx:(0,q.d)(t,{resolveItems:()=>e.virtual.options,resolveActiveIndex:()=>{var t,n;return null!=(n=null!=(t=e.activeOptionIndex)?t:e.virtual.options.findIndex(t=>!e.virtual.disabled(t)))?n:null},resolveDisabled:e.virtual.disabled,resolveId(){throw Error("Function not implemented.")}}),o=null!=(l=t.trigger)?l:2;return e.activeOptionIndex===n&&e.activationTrigger===o?e:{...e,activeOptionIndex:n,activationTrigger:o}}let a=$(e);if(null===a.activeOptionIndex){let e=a.options.findIndex(e=>!e.dataRef.current.disabled);-1!==e&&(a.activeOptionIndex=e)}let u=t.focus===q.T.Specific?t.idx:(0,q.d)(t,{resolveItems:()=>a.options,resolveActiveIndex:()=>a.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled}),s=null!=(i=t.trigger)?i:2;return e.activeOptionIndex===u&&e.activationTrigger===s?e:{...e,...a,activeOptionIndex:u,activationTrigger:s}},3:(e,t)=>{var n,o,r;if(null!=(n=e.dataRef.current)&&n.virtual)return{...e,options:[...e.options,t.payload]};let l=t.payload,i=$(e,e=>(e.push(l),e));null===e.activeOptionIndex&&null!=(o=e.dataRef.current)&&o.isSelected(t.payload.dataRef.current.value)&&(i.activeOptionIndex=i.options.indexOf(l));let a={...e,...i,activationTrigger:2};return null!=(r=e.dataRef.current)&&r.__demoMode&&void 0===e.dataRef.current.value&&(a.activeOptionIndex=0),a},4:(e,t)=>{var n;if(null!=(n=e.dataRef.current)&&n.virtual)return{...e,options:e.options.filter(e=>e.id!==t.id)};let o=$(e,e=>{let n=e.findIndex(e=>e.id===t.id);return -1!==n&&e.splice(n,1),e});return{...e,...o,activationTrigger:2}},5:(e,t)=>e.labelId===t.id?e:{...e,labelId:t.id},6:(e,t)=>e.activationTrigger===t.trigger?e:{...e,activationTrigger:t.trigger},7:(e,t)=>{var n;if((null==(n=e.virtual)?void 0:n.options)===t.options)return e;let o=e.activeOptionIndex;if(null!==e.activeOptionIndex){let n=t.options.indexOf(e.virtual.options[e.activeOptionIndex]);o=-1!==n?n:null}return{...e,activeOptionIndex:o,virtual:Object.assign({},e.virtual,{options:t.options})}}},et=(0,u.createContext)(null);function en(e){let t=(0,u.useContext)(et);if(null===t){let t=Error("<".concat(e," /> is missing a parent <Combobox /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(t,en),t}return t}et.displayName="ComboboxActionsContext";let eo=(0,u.createContext)(null);function er(e){var t,n,o,r,l,i;let c=ei("VirtualProvider"),[d,f]=(0,u.useMemo)(()=>{let e=c.optionsRef.current;if(!e)return[0,0];let t=window.getComputedStyle(e);return[parseFloat(t.paddingBlockStart||t.paddingTop),parseFloat(t.paddingBlockEnd||t.paddingBottom)]},[c.optionsRef.current]),p=(n={scrollPaddingStart:d,scrollPaddingEnd:f,count:c.virtual.options.length,estimateSize:()=>40,getScrollElement(){var e;return null!=(e=c.optionsRef.current)?e:null},overscan:12},o=a({observeElementRect:b,observeElementOffset:v,scrollToFn:h},n),r=u.useReducer(function(){return{}},{})[1],l=a({},o,{onChange:function(e,t){t?(0,s.flushSync)(r):r(),null==o.onChange||o.onChange(e,t)}}),(i=u.useState(function(){return new x(l)})[0]).setOptions(l),u.useEffect(function(){return i._didMount()},[]),y(function(){return i._willUpdate()}),i),[m,g]=(0,u.useState)(0);return(0,R.e)(()=>{g(e=>e+1)},[null==(t=c.virtual)?void 0:t.options]),u.createElement(eo.Provider,{value:p},u.createElement("div",{style:{position:"relative",width:"100%",height:"".concat(p.getTotalSize(),"px")},ref:e=>{e&&(void 0===H||void 0===H.env.JEST_WORKER_ID)&&0!==c.activationTrigger&&null!==c.activeOptionIndex&&c.virtual.options.length>c.activeOptionIndex&&p.scrollToIndex(c.activeOptionIndex)}},p.getVirtualItems().map(t=>{var n;return u.createElement(u.Fragment,{key:t.key},u.cloneElement(null==(n=e.children)?void 0:n.call(e,{option:c.virtual.options[t.index],open:0===c.comboboxState}),{key:"".concat(m,"-").concat(t.key),"data-index":t.index,"aria-setsize":c.virtual.options.length,"aria-posinset":t.index+1,style:{position:"absolute",top:0,left:0,transform:"translateY(".concat(t.start,"px)"),overflowAnchor:"none"}}))})))}let el=(0,u.createContext)(null);function ei(e){let t=(0,u.useContext)(el);if(null===t){let t=Error("<".concat(e," /> is missing a parent <Combobox /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(t,ei),t}return t}function ea(e,t){return(0,Y.E)(t.type,ee,e,t)}el.displayName="ComboboxDataContext";let eu=u.Fragment,es=Z.AN.RenderStrategy|Z.AN.Static,ec=(0,Z.yV)(function(e,t){let{value:n,defaultValue:o,onChange:r,form:l,name:i,by:a=null,disabled:s=!1,__demoMode:c=!1,nullable:d=!1,multiple:f=!1,immediate:p=!1,virtual:m=null,...b}=e,[v=f?[]:void 0,g]=(0,E.q)(n,r,o),[h,x]=(0,u.useReducer)(ea,{dataRef:(0,u.createRef)(),comboboxState:c?0:1,options:[],virtual:null,activeOptionIndex:null,activationTrigger:2,labelId:null}),O=(0,u.useRef)(!1),y=(0,u.useRef)({static:!1,hold:!1}),S=(0,u.useRef)(null),I=(0,u.useRef)(null),k=(0,u.useRef)(null),M=(0,u.useRef)(null),z=(0,T.z)("string"==typeof a?(e,t)=>(null==e?void 0:e[a])===(null==t?void 0:t[a]):null!=a?a:(e,t)=>e===t),P=(0,T.z)(e=>h.options.findIndex(t=>z(t.dataRef.current.value,e))),N=(0,u.useCallback)(e=>(0,Y.E)(F.mode,{1:()=>v.some(t=>z(t,e)),0:()=>z(v,e)}),[v]),D=(0,T.z)(e=>h.activeOptionIndex===P(e)),F=(0,u.useMemo)(()=>({...h,immediate:!1,optionsPropsRef:y,labelRef:S,inputRef:I,buttonRef:k,optionsRef:M,value:v,defaultValue:o,disabled:s,mode:f?1:0,virtual:h.virtual,get activeOptionIndex(){if(O.current&&null===h.activeOptionIndex&&h.options.length>0){let e=h.options.findIndex(e=>!e.dataRef.current.disabled);if(-1!==e)return e}return h.activeOptionIndex},calculateIndex:P,compare:z,isSelected:N,isActive:D,nullable:d,__demoMode:c}),[v,o,s,f,d,c,h,null]);(0,R.e)(()=>{},[null,void 0]),(0,R.e)(()=>{h.dataRef.current=F},[F]),(0,w.O)([F.buttonRef,F.inputRef,F.optionsRef],()=>Q.closeCombobox(),0===F.comboboxState);let _=(0,u.useMemo)(()=>{var e,t,n;return{open:0===F.comboboxState,disabled:s,activeIndex:F.activeOptionIndex,activeOption:null===F.activeOptionIndex?null:F.virtual?F.virtual.options[null!=(e=F.activeOptionIndex)?e:0]:null!=(n=null==(t=F.options[F.activeOptionIndex])?void 0:t.dataRef.current.value)?n:null,value:v}},[F,s,v]),j=(0,T.z)(()=>{if(null!==F.activeOptionIndex){if(F.virtual)W(F.virtual.options[F.activeOptionIndex]);else{let{dataRef:e}=F.options[F.activeOptionIndex];W(e.current.value)}Q.goToOption(q.T.Specific,F.activeOptionIndex)}}),V=(0,T.z)(()=>{x({type:0}),O.current=!0}),B=(0,T.z)(()=>{x({type:1}),O.current=!1}),U=(0,T.z)((e,t,n)=>(O.current=!1,e===q.T.Specific?x({type:2,focus:q.T.Specific,idx:t,trigger:n}):x({type:2,focus:e,trigger:n}))),G=(0,T.z)((e,t)=>(x({type:3,payload:{id:e,dataRef:t}}),()=>{F.isActive(t.current.value)&&(O.current=!0),x({type:4,id:e})})),H=(0,T.z)(e=>(x({type:5,id:e}),()=>x({type:5,id:null}))),W=(0,T.z)(e=>(0,Y.E)(F.mode,{0:()=>null==g?void 0:g(e),1(){let t=F.value.slice(),n=t.findIndex(t=>z(t,e));return -1===n?t.push(e):t.splice(n,1),null==g?void 0:g(t)}})),J=(0,T.z)(e=>{x({type:6,trigger:e})}),Q=(0,u.useMemo)(()=>({onChange:W,registerOption:G,registerLabel:H,goToOption:U,closeCombobox:B,openCombobox:V,setActivationTrigger:J,selectActiveOption:j}),[]),X=(0,u.useRef)(null),$=(0,C.G)();return(0,u.useEffect)(()=>{X.current&&void 0!==o&&$.addEventListener(X.current,"reset",()=>{null==g||g(o)})},[X,g]),u.createElement(et.Provider,{value:Q},u.createElement(el.Provider,{value:F},u.createElement(L.up,{value:(0,Y.E)(F.comboboxState,{0:L.ZM.Open,1:L.ZM.Closed})},null!=i&&null!=v&&(0,K.t)({[i]:v}).map((e,t)=>{let[n,o]=e;return u.createElement(A._,{features:A.A.Hidden,ref:0===t?e=>{var t;X.current=null!=(t=null==e?void 0:e.closest("form"))?t:null}:void 0,...(0,Z.oA)({key:n,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:l,name:n,value:o})})}),(0,Z.sY)({ourProps:null===t?{}:{ref:t},theirProps:b,slot:_,defaultTag:eu,name:"Combobox"}))))}),ed=(0,Z.yV)(function(e,t){var n;let o=ei("Combobox.Button"),r=en("Combobox.Button"),l=(0,P.T)(o.buttonRef,t),i=(0,I.M)(),{id:a="headlessui-combobox-button-".concat(i),...s}=e,c=(0,C.G)(),d=(0,T.z)(e=>{switch(e.key){case G.R.ArrowDown:return e.preventDefault(),e.stopPropagation(),1===o.comboboxState&&r.openCombobox(),c.nextFrame(()=>{var e;return null==(e=o.inputRef.current)?void 0:e.focus({preventScroll:!0})});case G.R.ArrowUp:return e.preventDefault(),e.stopPropagation(),1===o.comboboxState&&(r.openCombobox(),c.nextFrame(()=>{o.value||r.goToOption(q.T.Last)})),c.nextFrame(()=>{var e;return null==(e=o.inputRef.current)?void 0:e.focus({preventScroll:!0})});case G.R.Escape:return 0!==o.comboboxState?void 0:(e.preventDefault(),o.optionsRef.current&&!o.optionsPropsRef.current.static&&e.stopPropagation(),r.closeCombobox(),c.nextFrame(()=>{var e;return null==(e=o.inputRef.current)?void 0:e.focus({preventScroll:!0})}));default:return}}),f=(0,T.z)(e=>{if((0,j.P)(e.currentTarget))return e.preventDefault();0===o.comboboxState?r.closeCombobox():(e.preventDefault(),r.openCombobox()),c.nextFrame(()=>{var e;return null==(e=o.inputRef.current)?void 0:e.focus({preventScroll:!0})})}),p=(0,S.v)(()=>{if(o.labelId)return[o.labelId,a].join(" ")},[o.labelId,a]),m=(0,u.useMemo)(()=>({open:0===o.comboboxState,disabled:o.disabled,value:o.value}),[o]),b={ref:l,id:a,type:(0,z.f)(e,o.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":null==(n=o.optionsRef.current)?void 0:n.id,"aria-expanded":0===o.comboboxState,"aria-labelledby":p,disabled:o.disabled,onClick:f,onKeyDown:d};return(0,Z.sY)({ourProps:b,theirProps:s,slot:m,defaultTag:"button",name:"Combobox.Button"})}),ef=Object.assign(ec,{Input:(0,Z.yV)(function(e,t){var n,o,r,l,i,a;let s=(0,I.M)(),{id:c="headlessui-combobox-input-".concat(s),onChange:d,displayValue:f,type:p="text",...m}=e,b=ei("Combobox.Input"),v=en("Combobox.Input"),g=(0,P.T)(b.inputRef,t),h=(0,M.i)(b.inputRef),x=(0,u.useRef)(!1),O=(0,C.G)(),y=(0,T.z)(()=>{v.onChange(null),b.optionsRef.current&&(b.optionsRef.current.scrollTop=0),v.goToOption(q.T.Nothing)});F((e,t)=>{let[n,o]=e,[r,l]=t;if(x.current)return;let i=b.inputRef.current;i&&((0===l&&1===o||n!==r)&&(i.value=n),requestAnimationFrame(()=>{if(x.current||!i||(null==h?void 0:h.activeElement)!==i)return;let{selectionStart:e,selectionEnd:t}=i;0===Math.abs((null!=t?t:0)-(null!=e?e:0))&&0===e&&i.setSelectionRange(i.value.length,i.value.length)}))},["function"==typeof f&&void 0!==b.value?null!=(a=f(b.value))?a:"":"string"==typeof b.value?b.value:"",b.comboboxState,h]),F((e,t)=>{let[n]=e,[o]=t;if(0===n&&1===o){if(x.current)return;let e=b.inputRef.current;if(!e)return;let t=e.value,{selectionStart:n,selectionEnd:o,selectionDirection:r}=e;e.value="",e.value=t,null!==r?e.setSelectionRange(n,o,r):e.setSelectionRange(n,o)}},[b.comboboxState]);let E=(0,u.useRef)(!1),R=(0,T.z)(()=>{E.current=!0}),k=(0,T.z)(()=>{O.nextFrame(()=>{E.current=!1})}),w=(0,T.z)(e=>{switch(x.current=!0,e.key){case G.R.Enter:if(x.current=!1,0!==b.comboboxState||E.current)return;if(e.preventDefault(),e.stopPropagation(),null===b.activeOptionIndex){v.closeCombobox();return}v.selectActiveOption(),0===b.mode&&v.closeCombobox();break;case G.R.ArrowDown:return x.current=!1,e.preventDefault(),e.stopPropagation(),(0,Y.E)(b.comboboxState,{0:()=>v.goToOption(q.T.Next),1:()=>v.openCombobox()});case G.R.ArrowUp:return x.current=!1,e.preventDefault(),e.stopPropagation(),(0,Y.E)(b.comboboxState,{0:()=>v.goToOption(q.T.Previous),1:()=>{v.openCombobox(),O.nextFrame(()=>{b.value||v.goToOption(q.T.Last)})}});case G.R.Home:if(e.shiftKey)break;return x.current=!1,e.preventDefault(),e.stopPropagation(),v.goToOption(q.T.First);case G.R.PageUp:return x.current=!1,e.preventDefault(),e.stopPropagation(),v.goToOption(q.T.First);case G.R.End:if(e.shiftKey)break;return x.current=!1,e.preventDefault(),e.stopPropagation(),v.goToOption(q.T.Last);case G.R.PageDown:return x.current=!1,e.preventDefault(),e.stopPropagation(),v.goToOption(q.T.Last);case G.R.Escape:return x.current=!1,0!==b.comboboxState?void 0:(e.preventDefault(),b.optionsRef.current&&!b.optionsPropsRef.current.static&&e.stopPropagation(),b.nullable&&0===b.mode&&null===b.value&&y(),v.closeCombobox());case G.R.Tab:if(x.current=!1,0!==b.comboboxState)return;0===b.mode&&1!==b.activationTrigger&&v.selectActiveOption(),v.closeCombobox()}}),z=(0,T.z)(e=>{null==d||d(e),b.nullable&&0===b.mode&&""===e.target.value&&y(),v.openCombobox()}),N=(0,T.z)(e=>{var t,n,o;let r=null!=(t=e.relatedTarget)?t:_.find(t=>t!==e.currentTarget);if(x.current=!1,!(null!=(n=b.optionsRef.current)&&n.contains(r))&&!(null!=(o=b.buttonRef.current)&&o.contains(r))&&0===b.comboboxState)return e.preventDefault(),0===b.mode&&(b.nullable&&null===b.value?y():1!==b.activationTrigger&&v.selectActiveOption()),v.closeCombobox()}),D=(0,T.z)(e=>{var t,n,o;let r=null!=(t=e.relatedTarget)?t:_.find(t=>t!==e.currentTarget);null!=(n=b.buttonRef.current)&&n.contains(r)||null!=(o=b.optionsRef.current)&&o.contains(r)||b.disabled||b.immediate&&0!==b.comboboxState&&(v.openCombobox(),O.nextFrame(()=>{v.setActivationTrigger(1)}))}),A=(0,S.v)(()=>{if(b.labelId)return[b.labelId].join(" ")},[b.labelId]),L=(0,u.useMemo)(()=>({open:0===b.comboboxState,disabled:b.disabled}),[b]),j={ref:g,id:c,role:"combobox",type:p,"aria-controls":null==(n=b.optionsRef.current)?void 0:n.id,"aria-expanded":0===b.comboboxState,"aria-activedescendant":null===b.activeOptionIndex?void 0:b.virtual?null==(o=b.options.find(e=>{var t;return!(null!=(t=b.virtual)&&t.disabled(e.dataRef.current.value))&&b.compare(e.dataRef.current.value,b.virtual.options[b.activeOptionIndex])}))?void 0:o.id:null==(r=b.options[b.activeOptionIndex])?void 0:r.id,"aria-labelledby":A,"aria-autocomplete":"list",defaultValue:null!=(i=null!=(l=e.defaultValue)?l:void 0!==b.defaultValue?null==f?void 0:f(b.defaultValue):null)?i:b.defaultValue,disabled:b.disabled,onCompositionStart:R,onCompositionEnd:k,onKeyDown:w,onChange:z,onFocus:D,onBlur:N};return(0,Z.sY)({ourProps:j,theirProps:m,slot:L,defaultTag:"input",name:"Combobox.Input"})}),Button:ed,Label:(0,Z.yV)(function(e,t){let n=(0,I.M)(),{id:o="headlessui-combobox-label-".concat(n),...r}=e,l=ei("Combobox.Label"),i=en("Combobox.Label"),a=(0,P.T)(l.labelRef,t);(0,R.e)(()=>i.registerLabel(o),[o]);let s=(0,T.z)(()=>{var e;return null==(e=l.inputRef.current)?void 0:e.focus({preventScroll:!0})}),c=(0,u.useMemo)(()=>({open:0===l.comboboxState,disabled:l.disabled}),[l]);return(0,Z.sY)({ourProps:{ref:a,id:o,onClick:s},theirProps:r,slot:c,defaultTag:"label",name:"Combobox.Label"})}),Options:(0,Z.yV)(function(e,t){let n=(0,I.M)(),{id:o="headlessui-combobox-options-".concat(n),hold:r=!1,...l}=e,i=ei("Combobox.Options"),a=(0,P.T)(i.optionsRef,t),s=(0,L.oJ)(),c=null!==s?(s&L.ZM.Open)===L.ZM.Open:0===i.comboboxState;(0,R.e)(()=>{var t;i.optionsPropsRef.current.static=null!=(t=e.static)&&t},[i.optionsPropsRef,e.static]),(0,R.e)(()=>{i.optionsPropsRef.current.hold=r},[i.optionsPropsRef,r]),function(e){let{container:t,accept:n,walk:o,enabled:r=!0}=e,l=(0,u.useRef)(n),i=(0,u.useRef)(o);(0,u.useEffect)(()=>{l.current=n,i.current=o},[n,o]),(0,R.e)(()=>{if(!t||!r)return;let e=(0,D.r)(t);if(!e)return;let n=l.current,o=i.current,a=Object.assign(e=>n(e),{acceptNode:n}),u=e.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,a,!1);for(;u.nextNode();)o(u.currentNode)},[t,r,l,i])}({container:i.optionsRef.current,enabled:0===i.comboboxState,accept:e=>"option"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let d=(0,S.v)(()=>{var e,t;return null!=(t=i.labelId)?t:null==(e=i.buttonRef.current)?void 0:e.id},[i.labelId,i.buttonRef.current]),f=(0,u.useMemo)(()=>({open:0===i.comboboxState,option:void 0}),[i]),p={"aria-labelledby":d,role:"listbox","aria-multiselectable":1===i.mode||void 0,id:o,ref:a};return i.virtual&&0===i.comboboxState&&Object.assign(l,{children:u.createElement(er,null,l.children)}),(0,Z.sY)({ourProps:p,theirProps:l,slot:f,defaultTag:"ul",features:es,visible:c,name:"Combobox.Options"})}),Option:(0,Z.yV)(function(e,t){var n;let o=(0,I.M)(),{id:r="headlessui-combobox-option-".concat(o),disabled:l=!1,value:i,order:a=null,...s}=e,c=ei("Combobox.Option"),d=en("Combobox.Option"),f=c.virtual?c.activeOptionIndex===c.calculateIndex(i):null!==c.activeOptionIndex&&(null==(n=c.options[c.activeOptionIndex])?void 0:n.id)===r,p=c.isSelected(i),m=(0,u.useRef)(null),b=(0,k.E)({disabled:l,value:i,domRef:m,order:a}),v=(0,u.useContext)(eo),g=(0,P.T)(t,m,v?v.measureElement:null),h=(0,T.z)(()=>d.onChange(i));(0,R.e)(()=>d.registerOption(r,b),[b,r]);let x=(0,u.useRef)(!(c.virtual||c.__demoMode));(0,R.e)(()=>{if(!c.virtual||!c.__demoMode)return;let e=(0,V.k)();return e.requestAnimationFrame(()=>{x.current=!0}),e.dispose},[c.virtual,c.__demoMode]),(0,R.e)(()=>{if(!x.current||0!==c.comboboxState||!f||0===c.activationTrigger)return;let e=(0,V.k)();return e.requestAnimationFrame(()=>{var e,t;null==(t=null==(e=m.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})}),e.dispose},[m,f,c.comboboxState,c.activationTrigger,c.activeOptionIndex]);let O=(0,T.z)(e=>{var t;if(l||null!=(t=c.virtual)&&t.disabled(i))return e.preventDefault();h(),(0,U.tq)()||requestAnimationFrame(()=>{var e;return null==(e=c.inputRef.current)?void 0:e.focus({preventScroll:!0})}),0===c.mode&&requestAnimationFrame(()=>d.closeCombobox())}),y=(0,T.z)(()=>{var e;if(l||null!=(e=c.virtual)&&e.disabled(i))return d.goToOption(q.T.Nothing);let t=c.calculateIndex(i);d.goToOption(q.T.Specific,t)}),S=(0,N.g)(),E=(0,T.z)(e=>S.update(e)),C=(0,T.z)(e=>{var t;if(!S.wasMoved(e)||l||null!=(t=c.virtual)&&t.disabled(i)||f)return;let n=c.calculateIndex(i);d.goToOption(q.T.Specific,n,0)}),w=(0,T.z)(e=>{var t;S.wasMoved(e)&&(l||null!=(t=c.virtual)&&t.disabled(i)||f&&(c.optionsPropsRef.current.hold||d.goToOption(q.T.Nothing)))}),M=(0,u.useMemo)(()=>({active:f,selected:p,disabled:l}),[f,p,l]);return(0,Z.sY)({ourProps:{id:r,ref:g,role:"option",tabIndex:!0===l?void 0:-1,"aria-disabled":!0===l||void 0,"aria-selected":p,disabled:void 0,onClick:O,onFocus:y,onPointerEnter:E,onMouseEnter:E,onPointerMove:C,onMouseMove:C,onPointerLeave:w,onMouseLeave:w},theirProps:s,slot:M,defaultTag:"li",name:"Combobox.Option"})})})}}]);