(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{61994:function(e,s,l){Promise.resolve().then(l.bind(l,32691))},32691:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return x}});var t=l(3827),a=l(64090),n=l(47907),o=l(13810),r=l(71801),i=l(52273),u=l(42440),d=l(777),c=l(37963),m=l(81583),h=l(1861);function x(){let[e]=m.Z.useForm(),s=(0,n.useSearchParams)();s.get("token");let l=s.get("id"),[x,f]=(0,a.useState)(null),[g,p]=(0,a.useState)(""),[_,j]=(0,a.useState)(""),[w,Z]=(0,a.useState)(""),[b,k]=(0,a.useState)("");return(0,a.useEffect)(()=>{l&&(0,d.W_)(l).then(e=>{let s=e.login_url;console.log("login_url:",s),Z(s);let l=e.token,t=(0,c.o)(l);k(l),console.log("decoded:",t),f(t.key),console.log("decoded user email:",t.user_email),j(t.user_email)})},[l]),(0,t.jsx)("div",{className:"mx-auto max-w-md mt-10",children:(0,t.jsxs)(o.Z,{children:[(0,t.jsx)(u.Z,{className:"text-sm mb-5 text-center",children:"\uD83D\uDE85 LiteLLM"}),(0,t.jsx)(u.Z,{className:"text-xl",children:"Sign up"}),(0,t.jsx)(r.Z,{children:"Claim your user account to login to Admin UI."}),(0,t.jsxs)(m.Z,{className:"mt-10 mb-5 mx-auto",layout:"vertical",onFinish:e=>{console.log("in handle submit. accessToken:",x,"token:",b,"formValues:",e),x&&b&&(e.user_email=_,(0,d.pf)(x,e,null).then(e=>{var s;let l="/ui/";console.log("redirecting to:",l+="?userID="+((null===(s=e.data)||void 0===s?void 0:s.user_id)||e.user_id)+"&token="+b),window.location.href=l}))},children:[(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Z.Item,{label:"Email Address",name:"user_email",children:(0,t.jsx)(i.Z,{type:"email",disabled:!0,value:_,defaultValue:_,className:"max-w-md"})}),(0,t.jsx)(m.Z.Item,{label:"Password",name:"password",rules:[{required:!0,message:"password required to sign up"}],help:"Create a password for your account",children:(0,t.jsx)(i.Z,{placeholder:"",type:"password",className:"max-w-md"})})]}),(0,t.jsx)("div",{className:"mt-10",children:(0,t.jsx)(h.ZP,{htmlType:"submit",children:"Sign Up"})})]})]})})}}},function(e){e.O(0,[188,685,777,971,69,744],function(){return e(e.s=61994)}),_N_E=e.O()}]);