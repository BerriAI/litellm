(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3117],{96044:function(e,r,t){Promise.resolve().then(t.bind(t,8719))},78489:function(e,r,t){"use strict";t.d(r,{Z:function(){return _}});var o=t(5853),n=t(47187),a=t(2265);let l=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],i=e=>({_s:e,status:l[e],isEnter:e<3,isMounted:6!==e,isResolved:2===e||e>4}),s=e=>e?6:5,d=(e,r)=>{switch(e){case 1:case 0:return 2;case 4:case 3:return s(r)}},u=e=>"object"==typeof e?[e.enter,e.exit]:[e,e],c=(e,r)=>setTimeout(()=>{isNaN(document.body.offsetTop)||e(r+1)},0),m=(e,r,t,o,n)=>{clearTimeout(o.current);let a=i(e);r(a),t.current=a,n&&n({current:a})},h=({enter:e=!0,exit:r=!0,preEnter:t,preExit:o,timeout:n,initialEntered:l,mountOnEnter:h,unmountOnExit:g,onStateChange:f}={})=>{let[x,p]=(0,a.useState)(()=>i(l?2:s(h))),b=(0,a.useRef)(x),v=(0,a.useRef)(),[k,C]=u(n),w=(0,a.useCallback)(()=>{let e=d(b.current._s,g);e&&m(e,p,b,v,f)},[f,g]);return[x,(0,a.useCallback)(n=>{let a=e=>{switch(m(e,p,b,v,f),e){case 1:k>=0&&(v.current=setTimeout(w,k));break;case 4:C>=0&&(v.current=setTimeout(w,C));break;case 0:case 3:v.current=c(a,e)}},l=b.current.isEnter;"boolean"!=typeof n&&(n=!l),n?l||a(e?t?0:1:2):l&&a(r?o?3:4:s(g))},[w,f,e,r,t,o,k,C,g]),w]};var g=t(7084),f=t(13241),x=t(1153);let p=e=>{var r=(0,o._T)(e,[]);return a.createElement("svg",Object.assign({},r,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}),a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),a.createElement("path",{d:"M18.364 5.636L16.95 7.05A7 7 0 1 0 19 12h2a9 9 0 1 1-2.636-6.364z"}))};var b=t(26898);let v={xs:{height:"h-4",width:"w-4"},sm:{height:"h-5",width:"w-5"},md:{height:"h-5",width:"w-5"},lg:{height:"h-6",width:"w-6"},xl:{height:"h-6",width:"w-6"}},k=e=>"light"!==e?{xs:{paddingX:"px-2.5",paddingY:"py-1.5",fontSize:"text-xs"},sm:{paddingX:"px-4",paddingY:"py-2",fontSize:"text-sm"},md:{paddingX:"px-4",paddingY:"py-2",fontSize:"text-md"},lg:{paddingX:"px-4",paddingY:"py-2.5",fontSize:"text-lg"},xl:{paddingX:"px-4",paddingY:"py-3",fontSize:"text-xl"}}:{xs:{paddingX:"",paddingY:"",fontSize:"text-xs"},sm:{paddingX:"",paddingY:"",fontSize:"text-sm"},md:{paddingX:"",paddingY:"",fontSize:"text-md"},lg:{paddingX:"",paddingY:"",fontSize:"text-lg"},xl:{paddingX:"",paddingY:"",fontSize:"text-xl"}},C=(e,r)=>{switch(e){case"primary":return{textColor:r?(0,x.bM)("white").textColor:"text-tremor-brand-inverted dark:text-dark-tremor-brand-inverted",hoverTextColor:r?(0,x.bM)("white").textColor:"text-tremor-brand-inverted dark:text-dark-tremor-brand-inverted",bgColor:r?(0,x.bM)(r,b.K.background).bgColor:"bg-tremor-brand dark:bg-dark-tremor-brand",hoverBgColor:r?(0,x.bM)(r,b.K.darkBackground).hoverBgColor:"hover:bg-tremor-brand-emphasis dark:hover:bg-dark-tremor-brand-emphasis",borderColor:r?(0,x.bM)(r,b.K.border).borderColor:"border-tremor-brand dark:border-dark-tremor-brand",hoverBorderColor:r?(0,x.bM)(r,b.K.darkBorder).hoverBorderColor:"hover:border-tremor-brand-emphasis dark:hover:border-dark-tremor-brand-emphasis"};case"secondary":return{textColor:r?(0,x.bM)(r,b.K.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",hoverTextColor:r?(0,x.bM)(r,b.K.text).textColor:"hover:text-tremor-brand-emphasis dark:hover:text-dark-tremor-brand-emphasis",bgColor:(0,x.bM)("transparent").bgColor,hoverBgColor:r?(0,f.q)((0,x.bM)(r,b.K.background).hoverBgColor,"hover:bg-opacity-20 dark:hover:bg-opacity-20"):"hover:bg-tremor-brand-faint dark:hover:bg-dark-tremor-brand-faint",borderColor:r?(0,x.bM)(r,b.K.border).borderColor:"border-tremor-brand dark:border-dark-tremor-brand"};case"light":return{textColor:r?(0,x.bM)(r,b.K.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",hoverTextColor:r?(0,x.bM)(r,b.K.darkText).hoverTextColor:"hover:text-tremor-brand-emphasis dark:hover:text-dark-tremor-brand-emphasis",bgColor:(0,x.bM)("transparent").bgColor,borderColor:"",hoverBorderColor:""}}},w=(0,x.fn)("Button"),y=e=>{let{loading:r,iconSize:t,iconPosition:o,Icon:n,needMargin:l,transitionStatus:i}=e,s=l?o===g.zS.Left?(0,f.q)("-ml-1","mr-1.5"):(0,f.q)("-mr-1","ml-1.5"):"",d=(0,f.q)("w-0 h-0"),u={default:d,entering:d,entered:t,exiting:t,exited:d};return r?a.createElement(p,{className:(0,f.q)(w("icon"),"animate-spin shrink-0",s,u.default,u[i]),style:{transition:"width 150ms"}}):a.createElement(n,{className:(0,f.q)(w("icon"),"shrink-0",t,s)})},_=a.forwardRef((e,r)=>{let{icon:t,iconPosition:l=g.zS.Left,size:i=g.u8.SM,color:s,variant:d="primary",disabled:u,loading:c=!1,loadingText:m,children:p,tooltip:b,className:_}=e,N=(0,o._T)(e,["icon","iconPosition","size","color","variant","disabled","loading","loadingText","children","tooltip","className"]),T=c||u,E=void 0!==t||c,S=c&&m,j=!(!p&&!S),z=(0,f.q)(v[i].height,v[i].width),B="light"!==d?(0,f.q)("rounded-tremor-default border","shadow-tremor-input","dark:shadow-dark-tremor-input"):"",M=C(d,s),P=k(d)[i],{tooltipProps:R,getReferenceProps:Z}=(0,n.l)(300),[L,q]=h({timeout:50});return(0,a.useEffect)(()=>{q(c)},[c]),a.createElement("button",Object.assign({ref:(0,x.lq)([r,R.refs.setReference]),className:(0,f.q)(w("root"),"shrink-0 inline-flex justify-center items-center group font-medium outline-none",B,P.paddingX,P.paddingY,P.fontSize,M.textColor,M.bgColor,M.borderColor,M.hoverBorderColor,T?"opacity-50 cursor-not-allowed":(0,f.q)(C(d,s).hoverTextColor,C(d,s).hoverBgColor,C(d,s).hoverBorderColor),_),disabled:T},Z,N),a.createElement(n.Z,Object.assign({text:b},R)),E&&l!==g.zS.Right?a.createElement(y,{loading:c,iconSize:z,iconPosition:l,Icon:t,transitionStatus:L.status,needMargin:j}):null,S||p?a.createElement("span",{className:(0,f.q)(w("text"),"text-tremor-default whitespace-nowrap")},S?m:p):null,E&&l===g.zS.Right?a.createElement(y,{loading:c,iconSize:z,iconPosition:l,Icon:t,transitionStatus:L.status,needMargin:j}):null)});_.displayName="Button"},12514:function(e,r,t){"use strict";t.d(r,{Z:function(){return c}});var o=t(5853),n=t(2265),a=t(7084),l=t(26898),i=t(13241),s=t(1153);let d=(0,s.fn)("Card"),u=e=>{if(!e)return"";switch(e){case a.zS.Left:return"border-l-4";case a.m.Top:return"border-t-4";case a.zS.Right:return"border-r-4";case a.m.Bottom:return"border-b-4";default:return""}},c=n.forwardRef((e,r)=>{let{decoration:t="",decorationColor:a,children:c,className:m}=e,h=(0,o._T)(e,["decoration","decorationColor","children","className"]);return n.createElement("div",Object.assign({ref:r,className:(0,i.q)(d("root"),"relative w-full text-left ring-1 rounded-tremor-default p-6","bg-tremor-background ring-tremor-ring shadow-tremor-card","dark:bg-dark-tremor-background dark:ring-dark-tremor-ring dark:shadow-dark-tremor-card",a?(0,s.bM)(a,l.K.border).borderColor:"border-tremor-brand dark:border-dark-tremor-brand",u(t),m)},h),c)});c.displayName="Card"},84264:function(e,r,t){"use strict";t.d(r,{Z:function(){return i}});var o=t(26898),n=t(13241),a=t(1153),l=t(2265);let i=l.forwardRef((e,r)=>{let{color:t,className:i,children:s}=e;return l.createElement("p",{ref:r,className:(0,n.q)("text-tremor-default",t?(0,a.bM)(t,o.K.text).textColor:(0,n.q)("text-tremor-content","dark:text-dark-tremor-content"),i)},s)});i.displayName="Text"},96761:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});var o=t(5853),n=t(26898),a=t(13241),l=t(1153),i=t(2265);let s=i.forwardRef((e,r)=>{let{color:t,children:s,className:d}=e,u=(0,o._T)(e,["color","children","className"]);return i.createElement("p",Object.assign({ref:r,className:(0,a.q)("font-medium text-tremor-title",t?(0,l.bM)(t,n.K.darkText).textColor:"text-tremor-content-strong dark:text-dark-tremor-content-strong",d)},u),s)});s.displayName="Title"},19046:function(e,r,t){"use strict";t.d(r,{Dx:function(){return i.Z},Zb:function(){return n.Z},oi:function(){return l.Z},xv:function(){return a.Z},zx:function(){return o.Z}});var o=t(78489),n=t(12514),a=t(84264),l=t(49566),i=t(96761)},39760:function(e,r,t){"use strict";var o=t(19250),n=t(3914),a=t(97060),l=t(99376),i=t(2265),s=t(76191);r.Z=()=>{var e,r,t,d,u;let c=(0,l.useRouter)(),{data:m,isLoading:h}=(0,s.p)(),g="undefined"!=typeof document?(0,n.e)("token"):null,f=(0,i.useMemo)(()=>(0,a.TD)(g),[g]),x=(0,i.useMemo)(()=>(0,a.sT)(g),[g])&&!(null==m?void 0:m.admin_ui_disabled);return(0,i.useEffect)(()=>{h||x||(g&&(0,n.b)(),c.replace("".concat((0,o.getProxyBaseUrl)(),"/ui/login")))},[h,x,g,c]),{isLoading:h,isAuthorized:x,token:x?g:null,accessToken:null!==(e=null==f?void 0:f.key)&&void 0!==e?e:null,userId:null!==(r=null==f?void 0:f.user_id)&&void 0!==r?r:null,userEmail:null!==(t=null==f?void 0:f.user_email)&&void 0!==t?t:null,userRole:function(e){if(!e)return"Undefined Role";switch(e.toLowerCase()){case"app_owner":case"demo_app_owner":return"App Owner";case"app_admin":case"proxy_admin":return"Admin";case"proxy_admin_viewer":return"Admin Viewer";case"org_admin":return"Org Admin";case"internal_user":return"Internal User";case"internal_user_viewer":case"internal_viewer":return"Internal Viewer";case"app_user":return"App User";default:return"Unknown Role"}}(null==f?void 0:f.user_role),premiumUser:null!==(d=null==f?void 0:f.premium_user)&&void 0!==d?d:null,disabledPersonalKeyCreation:null!==(u=null==f?void 0:f.disabled_non_admin_personal_key_creation)&&void 0!==u?u:null,showSSOBanner:(null==f?void 0:f.login_method)==="username_password"}}},8719:function(e,r,t){"use strict";t.r(r);var o=t(57437),n=t(5183),a=t(39760);r.default=()=>{let{userId:e,userRole:r,accessToken:t}=(0,a.Z)();return(0,o.jsx)(n.Z,{userID:e,userRole:r,accessToken:t})}},5183:function(e,r,t){"use strict";var o=t(57437),n=t(2265),a=t(19046),l=t(69734),i=t(19250),s=t(9114);r.Z=e=>{let{userID:r,userRole:t,accessToken:d}=e,{logoUrl:u,setLogoUrl:c,faviconUrl:m,setFaviconUrl:h}=(0,l.F)(),[g,f]=(0,n.useState)(""),[x,p]=(0,n.useState)(""),[b,v]=(0,n.useState)(!1);(0,n.useEffect)(()=>{d&&k()},[d]);let k=async()=>{try{let n=(0,i.getProxyBaseUrl)(),a=await fetch(n?"".concat(n,"/get/ui_theme_settings"):"/get/ui_theme_settings",{method:"GET",headers:{[(0,i.getGlobalLitellmHeaderName)()]:"Bearer ".concat(d),"Content-Type":"application/json"}});if(a.ok){var e,r,t,o;let n=await a.json();f((null===(e=n.values)||void 0===e?void 0:e.logo_url)||""),p((null===(r=n.values)||void 0===r?void 0:r.favicon_url)||""),c((null===(t=n.values)||void 0===t?void 0:t.logo_url)||null),h((null===(o=n.values)||void 0===o?void 0:o.favicon_url)||null)}}catch(e){console.error("Error fetching theme settings:",e)}},C=async()=>{v(!0);try{let e=(0,i.getProxyBaseUrl)();if((await fetch(e?"".concat(e,"/update/ui_theme_settings"):"/update/ui_theme_settings",{method:"PATCH",headers:{[(0,i.getGlobalLitellmHeaderName)()]:"Bearer ".concat(d),"Content-Type":"application/json"},body:JSON.stringify({logo_url:g||null,favicon_url:x||null})})).ok)s.ZP.success("Theme settings updated successfully!"),c(g||null),h(x||null);else throw Error("Failed to update settings")}catch(e){console.error("Error updating theme settings:",e),s.ZP.fromBackend("Failed to update theme settings")}finally{v(!1)}},w=async()=>{f(""),p(""),c(null),h(null),v(!0);try{let e=(0,i.getProxyBaseUrl)();if((await fetch(e?"".concat(e,"/update/ui_theme_settings"):"/update/ui_theme_settings",{method:"PATCH",headers:{[(0,i.getGlobalLitellmHeaderName)()]:"Bearer ".concat(d),"Content-Type":"application/json"},body:JSON.stringify({logo_url:null,favicon_url:null})})).ok)s.ZP.success("Theme settings reset to default!");else throw Error("Failed to reset")}catch(e){console.error("Error resetting theme settings:",e),s.ZP.fromBackend("Failed to reset theme settings")}finally{v(!1)}};return d?(0,o.jsxs)("div",{className:"w-full mx-auto max-w-4xl px-6 py-8",children:[(0,o.jsxs)("div",{className:"mb-8",children:[(0,o.jsx)(a.Dx,{className:"text-2xl font-bold mb-2",children:"UI Theme Customization"}),(0,o.jsx)(a.xv,{className:"text-gray-600",children:"Customize your LiteLLM admin dashboard with a custom logo and favicon."})]}),(0,o.jsx)(a.Zb,{className:"shadow-sm p-6",children:(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(a.xv,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Custom Logo URL"}),(0,o.jsx)(a.oi,{placeholder:"https://example.com/logo.png",value:g,onValueChange:e=>{f(e),c(e||null)},className:"w-full"}),(0,o.jsx)(a.xv,{className:"text-xs text-gray-500 mt-1",children:"Enter a URL for your custom logo or leave empty for default"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(a.xv,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Custom Favicon URL"}),(0,o.jsx)(a.oi,{placeholder:"https://example.com/favicon.ico",value:x,onValueChange:e=>{p(e),h(e||null)},className:"w-full"}),(0,o.jsx)(a.xv,{className:"text-xs text-gray-500 mt-1",children:"Enter a URL for your custom favicon (.ico, .png, or .svg) or leave empty for default"})]}),(0,o.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,o.jsx)(a.zx,{onClick:C,loading:b,disabled:b,color:"indigo",children:"Save Changes"}),(0,o.jsx)(a.zx,{onClick:w,loading:b,disabled:b,variant:"secondary",color:"gray",children:"Reset to Default"})]})]})})]}):null}},69734:function(e,r,t){"use strict";t.d(r,{F:function(){return i},f:function(){return s}});var o=t(57437),n=t(2265),a=t(19250);let l=(0,n.createContext)(void 0),i=()=>{let e=(0,n.useContext)(l);if(!e)throw Error("useTheme must be used within a ThemeProvider");return e},s=e=>{let{children:r,accessToken:t}=e,[i,s]=(0,n.useState)(null),[d,u]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(async()=>{try{let t=(0,a.getProxyBaseUrl)(),o=await fetch(t?"".concat(t,"/get/ui_theme_settings"):"/get/ui_theme_settings",{method:"GET",headers:{"Content-Type":"application/json"}});if(o.ok){var e,r;let t=await o.json();(null===(e=t.values)||void 0===e?void 0:e.logo_url)&&s(t.values.logo_url),(null===(r=t.values)||void 0===r?void 0:r.favicon_url)&&u(t.values.favicon_url)}}catch(e){console.warn("Failed to load theme settings from backend:",e)}})()},[]),(0,n.useEffect)(()=>{if(d){let e=document.querySelectorAll("link[rel*='icon']");if(e.length>0)e.forEach(e=>{e.href=d});else{let e=document.createElement("link");e.rel="icon",e.href=d,document.head.appendChild(e)}}},[d]),(0,o.jsx)(l.Provider,{value:{logoUrl:i,setLogoUrl:s,faviconUrl:d,setFaviconUrl:u},children:r})}},97060:function(e,r,t){"use strict";t.d(r,{TD:function(){return a},sT:function(){return l},vf:function(){return n}});var o=t(14474);function n(e){try{let r=(0,o.o)(e);if(r&&"number"==typeof r.exp)return 1e3*r.exp<=Date.now();return!1}catch(e){return!0}}function a(e){if(!e)return null;try{return(0,o.o)(e)}catch(e){return null}}function l(e){return!!e&&null!==a(e)&&!n(e)}}},function(e){e.O(0,[7271,5173,7651,4865,6191,2971,2117,1744],function(){return e(e.s=96044)}),_N_E=e.O()}]);