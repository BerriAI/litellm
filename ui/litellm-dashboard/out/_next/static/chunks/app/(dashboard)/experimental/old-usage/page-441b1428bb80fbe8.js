(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[813],{5219:function(e,t,r){Promise.resolve().then(r.bind(r,42954))},5540:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(1119),n=r(2265),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},o=r(55015),s=n.forwardRef(function(e,t){return n.createElement(o.Z,(0,a.Z)({},e,{ref:t,icon:l}))})},91870:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(1119),n=r(2265),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},o=r(55015),s=n.forwardRef(function(e,t){return n.createElement(o.Z,(0,a.Z)({},e,{ref:t,icon:l}))})},69993:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(1119),n=r(2265),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 328a60 60 0 10120 0 60 60 0 10-120 0zM852 64H172c-17.7 0-32 14.3-32 32v660c0 17.7 14.3 32 32 32h680c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-32 660H204V128h616v596zM604 328a60 60 0 10120 0 60 60 0 10-120 0zm250.2 556H169.8c-16.5 0-29.8 14.3-29.8 32v36c0 4.4 3.3 8 7.4 8h729.1c4.1 0 7.4-3.6 7.4-8v-36c.1-17.7-13.2-32-29.7-32zM664 508H360c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"robot",theme:"outlined"},o=r(55015),s=n.forwardRef(function(e,t){return n.createElement(o.Z,(0,a.Z)({},e,{ref:t,icon:l}))})},15883:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(1119),n=r(2265),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},o=r(55015),s=n.forwardRef(function(e,t){return n.createElement(o.Z,(0,a.Z)({},e,{ref:t,icon:l}))})},47323:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var a=r(5853),n=r(2265),l=r(47187),o=r(7084),s=r(13241),i=r(1153),d=r(26898);let c={xs:{paddingX:"px-1.5",paddingY:"py-1.5"},sm:{paddingX:"px-1.5",paddingY:"py-1.5"},md:{paddingX:"px-2",paddingY:"py-2"},lg:{paddingX:"px-2",paddingY:"py-2"},xl:{paddingX:"px-2.5",paddingY:"py-2.5"}},u={xs:{height:"h-3",width:"w-3"},sm:{height:"h-5",width:"w-5"},md:{height:"h-5",width:"w-5"},lg:{height:"h-7",width:"w-7"},xl:{height:"h-9",width:"w-9"}},m={simple:{rounded:"",border:"",ring:"",shadow:""},light:{rounded:"rounded-tremor-default",border:"",ring:"",shadow:""},shadow:{rounded:"rounded-tremor-default",border:"border",ring:"",shadow:"shadow-tremor-card dark:shadow-dark-tremor-card"},solid:{rounded:"rounded-tremor-default",border:"border-2",ring:"ring-1",shadow:""},outlined:{rounded:"rounded-tremor-default",border:"border",ring:"ring-2",shadow:""}},g=(e,t)=>{switch(e){case"simple":return{textColor:t?(0,i.bM)(t,d.K.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",bgColor:"",borderColor:"",ringColor:""};case"light":return{textColor:t?(0,i.bM)(t,d.K.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",bgColor:t?(0,s.q)((0,i.bM)(t,d.K.background).bgColor,"bg-opacity-20"):"bg-tremor-brand-muted dark:bg-dark-tremor-brand-muted",borderColor:"",ringColor:""};case"shadow":return{textColor:t?(0,i.bM)(t,d.K.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",bgColor:t?(0,s.q)((0,i.bM)(t,d.K.background).bgColor,"bg-opacity-20"):"bg-tremor-background dark:bg-dark-tremor-background",borderColor:"border-tremor-border dark:border-dark-tremor-border",ringColor:""};case"solid":return{textColor:t?(0,i.bM)(t,d.K.text).textColor:"text-tremor-brand-inverted dark:text-dark-tremor-brand-inverted",bgColor:t?(0,s.q)((0,i.bM)(t,d.K.background).bgColor,"bg-opacity-20"):"bg-tremor-brand dark:bg-dark-tremor-brand",borderColor:"border-tremor-brand-inverted dark:border-dark-tremor-brand-inverted",ringColor:"ring-tremor-ring dark:ring-dark-tremor-ring"};case"outlined":return{textColor:t?(0,i.bM)(t,d.K.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",bgColor:t?(0,s.q)((0,i.bM)(t,d.K.background).bgColor,"bg-opacity-20"):"bg-tremor-background dark:bg-dark-tremor-background",borderColor:t?(0,i.bM)(t,d.K.ring).borderColor:"border-tremor-brand-subtle dark:border-dark-tremor-brand-subtle",ringColor:t?(0,s.q)((0,i.bM)(t,d.K.ring).ringColor,"ring-opacity-40"):"ring-tremor-brand-muted dark:ring-dark-tremor-brand-muted"}}},x=(0,i.fn)("Icon"),h=n.forwardRef((e,t)=>{let{icon:r,variant:d="simple",tooltip:h,size:b=o.u8.SM,color:p,className:f}=e,v=(0,a._T)(e,["icon","variant","tooltip","size","color","className"]),w=g(d,p),{tooltipProps:k,getReferenceProps:y}=(0,l.l)();return n.createElement("span",Object.assign({ref:(0,i.lq)([t,k.refs.setReference]),className:(0,s.q)(x("root"),"inline-flex shrink-0 items-center justify-center",w.bgColor,w.textColor,w.borderColor,w.ringColor,m[d].rounded,m[d].border,m[d].shadow,m[d].ring,c[b].paddingX,c[b].paddingY,f)},y,v),n.createElement(l.Z,Object.assign({text:h},k)),n.createElement(r,{className:(0,s.q)(x("icon"),"shrink-0",u[b].height,u[b].width)}))});h.displayName="Icon"},96889:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var a=r(5853),n=r(2265),l=r(26898),o=r(13241),s=r(1153);let i=(0,s.fn)("BarList");function d(e,t){let{data:r=[],color:d,valueFormatter:c=s.Cj,showAnimation:u=!1,onValueChange:m,sortOrder:g="descending",className:x}=e,h=(0,a._T)(e,["data","color","valueFormatter","showAnimation","onValueChange","sortOrder","className"]),b=m?"button":"div",p=n.useMemo(()=>"none"===g?r:[...r].sort((e,t)=>"ascending"===g?e.value-t.value:t.value-e.value),[r,g]),f=n.useMemo(()=>{let e=Math.max(...p.map(e=>e.value),0);return p.map(t=>0===t.value?0:Math.max(t.value/e*100,2))},[p]);return n.createElement("div",Object.assign({ref:t,className:(0,o.q)(i("root"),"flex justify-between space-x-6",x),"aria-sort":g},h),n.createElement("div",{className:(0,o.q)(i("bars"),"relative w-full space-y-1.5")},p.map((e,t)=>{var r,a,c;let g=e.icon;return n.createElement(b,{key:null!==(r=e.key)&&void 0!==r?r:t,onClick:()=>{null==m||m(e)},className:(0,o.q)(i("bar"),"group w-full flex items-center rounded-tremor-small",m?["cursor-pointer","hover:bg-tremor-background-muted dark:hover:bg-dark-tremor-background-subtle/40"]:"")},n.createElement("div",{className:(0,o.q)("flex items-center rounded transition-all bg-opacity-40","h-8",e.color||d?[(0,s.bM)(null!==(a=e.color)&&void 0!==a?a:d,l.K.background).bgColor,m?"group-hover:bg-opacity-30":""]:"bg-tremor-brand-subtle dark:bg-dark-tremor-brand-subtle/60",!m||e.color||d?"":"group-hover:bg-tremor-brand-subtle/30 group-hover:dark:bg-dark-tremor-brand-subtle/70",t===p.length-1?"mb-0":"",u?"duration-500":""),style:{width:"".concat(f[t],"%"),transition:u?"all 1s":""}},n.createElement("div",{className:(0,o.q)("absolute left-2 pr-4 flex max-w-full")},g?n.createElement(g,{className:(0,o.q)(i("barIcon"),"flex-none h-5 w-5 mr-2","text-tremor-content","dark:text-dark-tremor-content")}):null,e.href?n.createElement("a",{href:e.href,target:null!==(c=e.target)&&void 0!==c?c:"_blank",rel:"noreferrer",className:(0,o.q)(i("barLink"),"whitespace-nowrap hover:underline truncate text-tremor-default",m?"cursor-pointer":"","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis"),onClick:e=>e.stopPropagation()},e.name):n.createElement("p",{className:(0,o.q)(i("barText"),"whitespace-nowrap truncate text-tremor-default","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis")},e.name))))})),n.createElement("div",{className:i("labels")},p.map((e,t)=>{var r;return n.createElement("div",{key:null!==(r=e.key)&&void 0!==r?r:t,className:(0,o.q)(i("labelWrapper"),"flex justify-end items-center","h-8",t===p.length-1?"mb-0":"mb-1.5")},n.createElement("p",{className:(0,o.q)(i("labelText"),"whitespace-nowrap leading-none truncate text-tremor-default","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis")},c(e.value)))})))}d.displayName="BarList";let c=n.forwardRef(d)},19130:function(e,t,r){"use strict";r.d(t,{RM:function(){return n.Z},SC:function(){return i.Z},iA:function(){return a.Z},pj:function(){return l.Z},ss:function(){return o.Z},xs:function(){return s.Z}});var a=r(21626),n=r(97214),l=r(28241),o=r(58834),s=r(69552),i=r(71876)},42954:function(e,t,r){"use strict";r.r(t);var a=r(57437),n=r(18143),l=r(39760),o=r(2265);t.default=()=>{let{accessToken:e,token:t,userRole:r,userId:s,premiumUser:i}=(0,l.Z)(),[d,c]=(0,o.useState)([]);return(0,a.jsx)(n.Z,{accessToken:e,token:t,userRole:r,userID:s,keys:d,premiumUser:i})}},57589:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var a=r(57437),n=r(39760),l=r(44633),o=r(86462),s=r(40278),i=r(78489),d=r(99981),c=r(10968),u=r(2265),m=r(59872);let g=e=>{let{key:t,info:r}=e;return{token:t,...r}};var x=r(19250),h=r(70694),b=r(12322),p=e=>{let{topKeys:t,teams:r,showTags:p=!1,topKeysLimit:f,setTopKeysLimit:v}=e,{accessToken:w,userRole:k,userId:y,premiumUser:j}=(0,n.Z)(),[N,C]=(0,u.useState)(!1),[S,_]=(0,u.useState)(null),[Z,M]=(0,u.useState)(void 0),[E,V]=(0,u.useState)("table"),[z,q]=(0,u.useState)(new Set),K=e=>{q(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},R=async e=>{if(w)try{let t=await (0,x.keyInfoV1Call)(w,e.api_key),r=g(t);M(r),_(e.api_key),C(!0)}catch(e){console.error("Error fetching key info:",e)}},D=()=>{C(!1),_(null),M(void 0)};u.useEffect(()=>{let e=e=>{"Escape"===e.key&&N&&D()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[N]);let L=[{header:"Key ID",accessorKey:"api_key",cell:e=>(0,a.jsx)("div",{className:"overflow-hidden",children:(0,a.jsx)(d.Z,{title:e.getValue(),children:(0,a.jsx)(i.Z,{size:"xs",variant:"light",className:"font-mono text-blue-500 bg-blue-50 hover:bg-blue-100 text-xs font-normal px-2 py-0.5 text-left overflow-hidden truncate max-w-[200px]",onClick:()=>R(e.row.original),children:e.getValue()?"".concat(e.getValue().slice(0,7),"..."):"-"})})})},{header:"Key Alias",accessorKey:"key_alias",cell:e=>e.getValue()||"-"}],T={header:"Spend (USD)",accessorKey:"spend",cell:e=>{let t=e.getValue();return t>0&&t<.01?"<$0.01":"$".concat((0,m.pw)(t,2))}},I=p?[...L,{header:"Tags",accessorKey:"tags",cell:e=>{let t=e.getValue(),r=e.row.original.api_key,n=z.has(r);if(!t||0===t.length)return"-";let s=t.sort((e,t)=>t.usage-e.usage),i=n?s:s.slice(0,2),c=t.length>2;return(0,a.jsx)("div",{className:"overflow-hidden",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-1",children:[i.map((e,t)=>(0,a.jsx)(d.Z,{title:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-300",children:"Tag Name:"})," ",e.tag]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-300",children:"Spend:"})," ",e.usage>0&&e.usage<.01?"<$0.01":"$".concat((0,m.pw)(e.usage,2))]})]}),children:(0,a.jsxs)("span",{className:"px-2 py-1 bg-gray-100 rounded-full text-xs",children:[e.tag.slice(0,7),"..."]})},t)),c&&(0,a.jsx)("button",{onClick:()=>K(r),className:"ml-1 p-1 hover:bg-gray-200 rounded-full transition-colors",title:n?"Show fewer tags":"Show all tags",children:n?(0,a.jsx)(l.Z,{className:"h-3 w-3 text-gray-500"}):(0,a.jsx)(o.Z,{className:"h-3 w-3 text-gray-500"})})]})})}},T]:[...L,T],A=t.map(e=>({...e,display_key_alias:e.key_alias&&e.key_alias.length>10?"".concat(e.key_alias.slice(0,10),"..."):e.key_alias||"-"}));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,a.jsx)(c.Z,{options:[{label:"5",value:5},{label:"10",value:10},{label:"25",value:25},{label:"50",value:50}],value:f,onChange:e=>v(e)}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>V("table"),className:"px-3 py-1 text-sm rounded-md ".concat("table"===E?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"),children:"Table View"}),(0,a.jsx)("button",{onClick:()=>V("chart"),className:"px-3 py-1 text-sm rounded-md ".concat("chart"===E?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"),children:"Chart View"})]})]}),"chart"===E?(0,a.jsx)("div",{className:"relative max-h-[600px] overflow-y-auto",children:(0,a.jsx)(s.Z,{className:"mt-4 cursor-pointer hover:opacity-90",style:{height:52*Math.min(A.length,f)},data:A,index:"display_key_alias",categories:["spend"],colors:["cyan"],yAxisWidth:120,tickGap:5,layout:"vertical",showLegend:!1,valueFormatter:e=>"$".concat((0,m.pw)(e,2)),onValueChange:e=>R(e),showTooltip:!0,customTooltip:e=>{var t,r;let n=null===(r=e.payload)||void 0===r?void 0:null===(t=r[0])||void 0===t?void 0:t.payload;return(0,a.jsx)("div",{className:"relative z-50 p-3 bg-black/90 shadow-lg rounded-lg text-white max-w-xs",children:(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-300",children:"Key Alias: "}),(0,a.jsx)("span",{className:"font-mono text-gray-100 break-all",children:null==n?void 0:n.key_alias})]}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-300",children:"Key ID: "}),(0,a.jsx)("span",{className:"font-mono text-gray-100 break-all",children:null==n?void 0:n.api_key})]}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-300",children:"Spend: "}),(0,a.jsxs)("span",{className:"text-white font-medium",children:["$",(0,m.pw)(null==n?void 0:n.spend,2)]})]})]})})}})}):(0,a.jsx)("div",{className:"border rounded-lg overflow-hidden max-h-[600px] overflow-y-auto",children:(0,a.jsx)(b.w,{columns:I,data:t,renderSubComponent:()=>(0,a.jsx)(a.Fragment,{}),getRowCanExpand:()=>!1,isLoading:!1})}),N&&S&&Z&&(console.log("Rendering modal with:",{isModalOpen:N,selectedKey:S,keyData:Z}),(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e=>{e.target===e.currentTarget&&D()},children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl relative w-11/12 max-w-6xl max-h-[90vh] overflow-y-auto min-h-[750px]",children:[(0,a.jsx)("button",{onClick:D,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 focus:outline-none","aria-label":"Close",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),(0,a.jsx)("div",{className:"p-6 h-full",children:(0,a.jsx)(h.Z,{keyId:S,onClose:D,keyData:Z,teams:r})})]})}))]})}},39789:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(57437),n=r(2265),l=r(88237),o=r(84264),s=e=>{let{value:t,onValueChange:r,label:s="Select Time Range",className:i="",showTimeRange:d=!0}=e,[c,u]=(0,n.useState)(!1),m=(0,n.useRef)(null),g=(0,n.useCallback)(e=>{u(!0),setTimeout(()=>u(!1),1500),r(e),requestIdleCallback(()=>{if(e.from){let t;let a={...e},n=new Date(e.from);t=new Date(e.to?e.to:e.from),n.toDateString(),t.toDateString(),n.setHours(0,0,0,0),t.setHours(23,59,59,999),a.from=n,a.to=t,r(a)}},{timeout:100})},[r]),x=(0,n.useCallback)((e,t)=>{if(!e||!t)return"";let r=e=>e.toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZoneName:"short"});if(e.toDateString()!==t.toDateString())return"".concat(r(e)," - ").concat(r(t));{let r=e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),a=e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),n=t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZoneName:"short"});return"".concat(r,": ").concat(a," - ").concat(n)}},[]);return(0,a.jsxs)("div",{className:i,children:[s&&(0,a.jsx)(o.Z,{className:"mb-2",children:s}),(0,a.jsxs)("div",{className:"relative w-fit",children:[(0,a.jsx)("div",{ref:m,children:(0,a.jsx)(l.Z,{enableSelect:!0,value:t,onValueChange:g,placeholder:"Select date range",enableClear:!1,style:{zIndex:100}})}),c&&(0,a.jsx)("div",{className:"absolute top-1/2 animate-pulse",style:{left:"calc(100% + 8px)",transform:"translateY(-50%)",zIndex:110},children:(0,a.jsxs)("div",{className:"flex items-center gap-1 text-green-600 text-sm font-medium bg-white px-2 py-1 rounded-full border border-green-200 shadow-sm whitespace-nowrap",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 text-white rounded-full flex items-center justify-center text-xs",children:"âœ“"}),(0,a.jsx)("span",{className:"text-xs",children:"Selected"})]})})]}),d&&t.from&&t.to&&(0,a.jsx)(o.Z,{className:"mt-2 text-xs text-gray-500",children:x(t.from,t.to)})]})}},12322:function(e,t,r){"use strict";r.d(t,{w:function(){return i}});var a=r(57437),n=r(2265),l=r(71594),o=r(24525),s=r(19130);function i(e){let{data:t=[],columns:r,onRowClick:i,renderSubComponent:d,renderChildRows:c,getRowCanExpand:u,isLoading:m=!1,loadingMessage:g="\uD83D\uDE85 Loading logs...",noDataMessage:x="No logs found"}=e,h=!!(d||c)&&!!u,b=(0,l.b7)({data:t,columns:r,...h&&{getRowCanExpand:u},getRowId:(e,t)=>{var r;return null!==(r=null==e?void 0:e.request_id)&&void 0!==r?r:String(t)},getCoreRowModel:(0,o.sC)(),...h&&{getExpandedRowModel:(0,o.rV)()}});return(0,a.jsx)("div",{className:"rounded-lg custom-border overflow-x-auto w-full max-w-full box-border",children:(0,a.jsxs)(s.iA,{className:"[&_td]:py-0.5 [&_th]:py-1 table-fixed w-full box-border",style:{minWidth:"400px"},children:[(0,a.jsx)(s.ss,{children:b.getHeaderGroups().map(e=>(0,a.jsx)(s.SC,{children:e.headers.map(e=>(0,a.jsx)(s.xs,{className:"py-1 h-8",children:e.isPlaceholder?null:(0,l.ie)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,a.jsx)(s.RM,{children:m?(0,a.jsx)(s.SC,{children:(0,a.jsx)(s.pj,{colSpan:r.length,className:"h-8 text-center",children:(0,a.jsx)("div",{className:"text-center text-gray-500",children:(0,a.jsx)("p",{children:g})})})}):b.getRowModel().rows.length>0?b.getRowModel().rows.map(e=>(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(s.SC,{className:"h-8 ".concat(i?"cursor-pointer hover:bg-gray-50":""),onClick:()=>null==i?void 0:i(e.original),children:e.getVisibleCells().map(e=>(0,a.jsx)(s.pj,{className:"py-0.5 max-h-8 overflow-hidden text-ellipsis whitespace-nowrap",children:(0,l.ie)(e.column.columnDef.cell,e.getContext())},e.id))}),h&&e.getIsExpanded()&&c&&c({row:e}),h&&e.getIsExpanded()&&d&&!c&&(0,a.jsx)(s.SC,{children:(0,a.jsx)(s.pj,{colSpan:e.getVisibleCells().length,className:"p-0",children:(0,a.jsx)("div",{className:"w-full max-w-full overflow-hidden box-border",children:d({row:e})})})})]},e.id)):(0,a.jsx)(s.SC,{children:(0,a.jsx)(s.pj,{colSpan:r.length,className:"h-8 text-center",children:(0,a.jsx)("div",{className:"text-center text-gray-500",children:(0,a.jsx)("p",{children:x})})})})})]})})}},47375:function(e,t,r){"use strict";var a=r(57437),n=r(2265),l=r(19250),o=r(59872),s=r(39760);t.Z=e=>{let{userSpend:t,userMaxBudget:r,selectedTeam:i}=e,{accessToken:d,userRole:c,userId:u}=(0,s.Z)(),[m,g]=(0,n.useState)(null!==t?t:0),[x,h]=(0,n.useState)(i?Number((0,o.pw)(i.max_budget,4)):null);(0,n.useEffect)(()=>{if(i){if("Default Team"===i.team_alias)h(r);else{let e=!1;if(i.team_memberships)for(let t of i.team_memberships)t.user_id===u&&"max_budget"in t.litellm_budget_table&&null!==t.litellm_budget_table.max_budget&&(h(t.litellm_budget_table.max_budget),e=!0);e||h(i.max_budget)}}else h(r)},[i,r]);let[b,p]=(0,n.useState)([]);(0,n.useEffect)(()=>{let e=async()=>{if(!d||!u||!c)return};(async()=>{try{if(null===u||null===c)return;if(null!==d){let e=(await (0,l.modelAvailableCall)(d,u,c)).data.map(e=>e.id);console.log("available_model_names:",e),p(e)}}catch(e){console.error("Error fetching user models:",e)}})(),e()},[c,d,u]),(0,n.useEffect)(()=>{null!==t&&g(t)},[t]);let f=[];i&&i.models&&(f=i.models),f&&f.includes("all-proxy-models")?(console.log("user models:",b),f=b):f&&f.includes("all-team-models")?f=i.models:f&&0===f.length&&(f=b);let v=null!==x?"$".concat((0,o.pw)(Number(x),4)," limit"):"No limit",w=void 0!==m?(0,o.pw)(m,4):null;return console.log("spend in view user spend: ".concat(m)),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("div",{className:"flex justify-between gap-x-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-tremor-default text-tremor-content dark:text-dark-tremor-content",children:"Total Spend"}),(0,a.jsxs)("p",{className:"text-2xl text-tremor-content-strong dark:text-dark-tremor-content-strong font-semibold",children:["$",w]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-tremor-default text-tremor-content dark:text-dark-tremor-content",children:"Max Budget"}),(0,a.jsx)("p",{className:"text-2xl text-tremor-content-strong dark:text-dark-tremor-content-strong font-semibold",children:v})]})]})})}},87602:function(e,t,r){"use strict";function a(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=function e(t){var r,a,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t){if(Array.isArray(t)){var l=t.length;for(r=0;r<l;r++)t[r]&&(a=e(t[r]))&&(n&&(n+=" "),n+=a)}else for(a in t)t[a]&&(n&&(n+=" "),n+=a)}return n}(e))&&(a&&(a+=" "),a+=t);return a}r.d(t,{W:function(){return a}}),t.Z=a}},function(e){e.O(0,[1047,7271,5173,7651,4865,7840,337,3367,5869,2652,2926,353,172,3709,536,7474,6894,9258,6941,9190,9967,6609,5319,9442,9961,9348,8667,5733,8758,6191,5791,8640,1098,694,8143,2971,2117,1744],function(){return e(e.s=5219)}),_N_E=e.O()}]);